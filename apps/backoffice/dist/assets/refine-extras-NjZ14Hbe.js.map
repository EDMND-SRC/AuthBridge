{"version":3,"file":"refine-extras-NjZ14Hbe.js","sources":["../../../../node_modules/.pnpm/@remix-run+router@1.23.2/node_modules/@remix-run/router/dist/router.js","../../../../node_modules/.pnpm/react-router@6.30.3_react@19.2.3/node_modules/react-router/dist/index.js","../../../../node_modules/.pnpm/react-router-dom@6.30.3_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/react-router-dom/dist/index.js","../../../../node_modules/.pnpm/@refinedev+react-router-v6@4.6.2_@refinedev+core@4.58.0_@tanstack+react-query@5.90.17_r_d05398342a55a3d57c9804cc5f059361/node_modules/@refinedev/react-router-v6/dist/index.mjs","../../../../node_modules/.pnpm/kbar@0.1.0-beta.40_@types+react-dom@19.2.3_@types+react@19.2.8__@types+react@19.2.8_rea_4884cc80941dc6b613cb989f66b5fb66/node_modules/kbar/lib/utils.js","../../../../node_modules/.pnpm/fast-equals@2.0.4/node_modules/fast-equals/dist/fast-equals.js","../../../../node_modules/.pnpm/tiny-invariant@1.3.3/node_modules/tiny-invariant/dist/tiny-invariant.cjs.js","../../../../node_modules/.pnpm/kbar@0.1.0-beta.40_@types+react-dom@19.2.3_@types+react@19.2.8__@types+react@19.2.8_rea_4884cc80941dc6b613cb989f66b5fb66/node_modules/kbar/lib/action/Command.js","../../../../node_modules/.pnpm/kbar@0.1.0-beta.40_@types+react-dom@19.2.3_@types+react@19.2.8__@types+react@19.2.8_rea_4884cc80941dc6b613cb989f66b5fb66/node_modules/kbar/lib/action/ActionImpl.js","../../../../node_modules/.pnpm/kbar@0.1.0-beta.40_@types+react-dom@19.2.3_@types+react@19.2.8__@types+react@19.2.8_rea_4884cc80941dc6b613cb989f66b5fb66/node_modules/kbar/lib/action/ActionInterface.js","../../../../node_modules/.pnpm/kbar@0.1.0-beta.40_@types+react-dom@19.2.3_@types+react@19.2.8__@types+react@19.2.8_rea_4884cc80941dc6b613cb989f66b5fb66/node_modules/kbar/lib/action/HistoryImpl.js","../../../../node_modules/.pnpm/kbar@0.1.0-beta.40_@types+react-dom@19.2.3_@types+react@19.2.8__@types+react@19.2.8_rea_4884cc80941dc6b613cb989f66b5fb66/node_modules/kbar/lib/types.js","../../../../node_modules/.pnpm/kbar@0.1.0-beta.40_@types+react-dom@19.2.3_@types+react@19.2.8__@types+react@19.2.8_rea_4884cc80941dc6b613cb989f66b5fb66/node_modules/kbar/lib/useStore.js","../../../../node_modules/.pnpm/kbar@0.1.0-beta.40_@types+react-dom@19.2.3_@types+react@19.2.8__@types+react@19.2.8_rea_4884cc80941dc6b613cb989f66b5fb66/node_modules/kbar/lib/tinykeys.js","../../../../node_modules/.pnpm/kbar@0.1.0-beta.40_@types+react-dom@19.2.3_@types+react@19.2.8__@types+react@19.2.8_rea_4884cc80941dc6b613cb989f66b5fb66/node_modules/kbar/lib/InternalEvents.js","../../../../node_modules/.pnpm/kbar@0.1.0-beta.40_@types+react-dom@19.2.3_@types+react@19.2.8__@types+react@19.2.8_rea_4884cc80941dc6b613cb989f66b5fb66/node_modules/kbar/lib/KBarContextProvider.js","../../../../node_modules/.pnpm/kbar@0.1.0-beta.40_@types+react-dom@19.2.3_@types+react@19.2.8__@types+react@19.2.8_rea_4884cc80941dc6b613cb989f66b5fb66/node_modules/kbar/lib/useKBar.js","../../../../node_modules/.pnpm/command-score@0.1.2/node_modules/command-score/index.js","../../../../node_modules/.pnpm/kbar@0.1.0-beta.40_@types+react-dom@19.2.3_@types+react@19.2.8__@types+react@19.2.8_rea_4884cc80941dc6b613cb989f66b5fb66/node_modules/kbar/lib/useMatches.js","../../../../node_modules/.pnpm/@radix-ui+react-compose-refs@1.1.2_@types+react@19.2.8_react@19.2.3/node_modules/@radix-ui/react-compose-refs/dist/index.js","../../../../node_modules/.pnpm/@radix-ui+react-slot@1.2.4_@types+react@19.2.8_react@19.2.3/node_modules/@radix-ui/react-slot/dist/index.js","../../../../node_modules/.pnpm/@radix-ui+react-primitive@2.1.4_@types+react-dom@19.2.3_@types+react@19.2.8__@types+rea_b74821e8355e0a5bc12b619020758678/node_modules/@radix-ui/react-primitive/dist/index.js","../../../../node_modules/.pnpm/@radix-ui+react-use-layout-effect@1.1.1_@types+react@19.2.8_react@19.2.3/node_modules/@radix-ui/react-use-layout-effect/dist/index.js","../../../../node_modules/.pnpm/@radix-ui+react-portal@1.1.10_@types+react-dom@19.2.3_@types+react@19.2.8__@types+react_0960365c2bb63a82f2ced2737971cb63/node_modules/@radix-ui/react-portal/dist/index.js","../../../../node_modules/.pnpm/kbar@0.1.0-beta.40_@types+react-dom@19.2.3_@types+react@19.2.8__@types+react@19.2.8_rea_4884cc80941dc6b613cb989f66b5fb66/node_modules/kbar/lib/KBarPortal.js","../../../../node_modules/.pnpm/kbar@0.1.0-beta.40_@types+react-dom@19.2.3_@types+react@19.2.8__@types+react@19.2.8_rea_4884cc80941dc6b613cb989f66b5fb66/node_modules/kbar/lib/KBarPositioner.js","../../../../node_modules/.pnpm/kbar@0.1.0-beta.40_@types+react-dom@19.2.3_@types+react@19.2.8__@types+react@19.2.8_rea_4884cc80941dc6b613cb989f66b5fb66/node_modules/kbar/lib/KBarSearch.js","../../../../node_modules/.pnpm/react-virtual@2.10.4_react@19.2.3/node_modules/react-virtual/dist/react-virtual.mjs","../../../../node_modules/.pnpm/kbar@0.1.0-beta.40_@types+react-dom@19.2.3_@types+react@19.2.8__@types+react@19.2.8_rea_4884cc80941dc6b613cb989f66b5fb66/node_modules/kbar/lib/KBarResults.js","../../../../node_modules/.pnpm/kbar@0.1.0-beta.40_@types+react-dom@19.2.3_@types+react@19.2.8__@types+react@19.2.8_rea_4884cc80941dc6b613cb989f66b5fb66/node_modules/kbar/lib/useRegisterActions.js","../../../../node_modules/.pnpm/kbar@0.1.0-beta.40_@types+react-dom@19.2.3_@types+react@19.2.8__@types+react@19.2.8_rea_4884cc80941dc6b613cb989f66b5fb66/node_modules/kbar/lib/KBarAnimator.js","../../../../node_modules/.pnpm/kbar@0.1.0-beta.40_@types+react-dom@19.2.3_@types+react@19.2.8__@types+react@19.2.8_rea_4884cc80941dc6b613cb989f66b5fb66/node_modules/kbar/lib/action/index.js","../../../../node_modules/.pnpm/kbar@0.1.0-beta.40_@types+react-dom@19.2.3_@types+react@19.2.8__@types+react@19.2.8_rea_4884cc80941dc6b613cb989f66b5fb66/node_modules/kbar/lib/index.js","../../../../node_modules/.pnpm/@refinedev+kbar@1.3.17_@refinedev+core@4.58.0_@tanstack+react-query@5.90.17_react@19.2._b512242e21359d0717da79de7d116133/node_modules/@refinedev/kbar/dist/index.mjs","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheClear.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/eq.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_assocIndexOf.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheDelete.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheGet.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheHas.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_listCacheSet.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_ListCache.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackClear.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackDelete.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackGet.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackHas.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_freeGlobal.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_root.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Symbol.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getRawTag.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_objectToString.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGetTag.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObject.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isFunction.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_coreJsData.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isMasked.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_toSource.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsNative.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getValue.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getNative.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Map.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nativeCreate.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashClear.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashDelete.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashGet.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashHas.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hashSet.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Hash.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheClear.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isKeyable.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getMapData.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheDelete.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheGet.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheHas.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapCacheSet.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_MapCache.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stackSet.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Stack.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setCacheAdd.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setCacheHas.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_SetCache.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arraySome.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_cacheHas.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_equalArrays.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Uint8Array.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_mapToArray.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_setToArray.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_equalByTag.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayPush.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArray.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGetAllKeys.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayFilter.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/stubArray.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getSymbols.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseTimes.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObjectLike.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsArguments.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArguments.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/stubFalse.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isBuffer.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isIndex.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isLength.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsTypedArray.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseUnary.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nodeUtil.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isTypedArray.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayLikeKeys.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isPrototype.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_overArg.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_nativeKeys.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseKeys.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArrayLike.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/keys.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getAllKeys.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_equalObjects.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_DataView.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Promise.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Set.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_WeakMap.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getTag.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsEqualDeep.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIsEqual.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isEqual.js","../../../../node_modules/.pnpm/@tanstack+table-core@8.21.3/node_modules/@tanstack/table-core/build/lib/index.mjs","../../../../node_modules/.pnpm/@tanstack+react-table@8.21.3_react-dom@19.2.3_react@19.2.3__react@19.2.3/node_modules/@tanstack/react-table/build/lib/index.mjs","../../../../node_modules/.pnpm/@refinedev+react-table@5.6.17_@refinedev+core@4.58.0_@tanstack+react-query@5.90.17_reac_2b35680aa45179735cbb40aa390c124b/node_modules/@refinedev/react-table/dist/index.mjs"],"sourcesContent":["/**\n * @remix-run/router v1.23.2\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Types and Constants\n////////////////////////////////////////////////////////////////////////////////\n/**\n * Actions represent the type of change to a location value.\n */\nvar Action;\n(function (Action) {\n  /**\n   * A POP indicates a change to an arbitrary index in the history stack, such\n   * as a back or forward navigation. It does not describe the direction of the\n   * navigation, only that the current index changed.\n   *\n   * Note: This is the default action for newly created history objects.\n   */\n  Action[\"Pop\"] = \"POP\";\n  /**\n   * A PUSH indicates a new entry being added to the history stack, such as when\n   * a link is clicked and a new page loads. When this happens, all subsequent\n   * entries in the stack are lost.\n   */\n  Action[\"Push\"] = \"PUSH\";\n  /**\n   * A REPLACE indicates the entry at the current index in the history stack\n   * being replaced by a new one.\n   */\n  Action[\"Replace\"] = \"REPLACE\";\n})(Action || (Action = {}));\nconst PopStateEventType = \"popstate\";\n/**\n * Memory history stores the current location in memory. It is designed for use\n * in stateful non-browser environments like tests and React Native.\n */\nfunction createMemoryHistory(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  let {\n    initialEntries = [\"/\"],\n    initialIndex,\n    v5Compat = false\n  } = options;\n  let entries; // Declare so we can access from createMemoryLocation\n  entries = initialEntries.map((entry, index) => createMemoryLocation(entry, typeof entry === \"string\" ? null : entry.state, index === 0 ? \"default\" : undefined));\n  let index = clampIndex(initialIndex == null ? entries.length - 1 : initialIndex);\n  let action = Action.Pop;\n  let listener = null;\n  function clampIndex(n) {\n    return Math.min(Math.max(n, 0), entries.length - 1);\n  }\n  function getCurrentLocation() {\n    return entries[index];\n  }\n  function createMemoryLocation(to, state, key) {\n    if (state === void 0) {\n      state = null;\n    }\n    let location = createLocation(entries ? getCurrentLocation().pathname : \"/\", to, state, key);\n    warning(location.pathname.charAt(0) === \"/\", \"relative pathnames are not supported in memory history: \" + JSON.stringify(to));\n    return location;\n  }\n  function createHref(to) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n  let history = {\n    get index() {\n      return index;\n    },\n    get action() {\n      return action;\n    },\n    get location() {\n      return getCurrentLocation();\n    },\n    createHref,\n    createURL(to) {\n      return new URL(createHref(to), \"http://localhost\");\n    },\n    encodeLocation(to) {\n      let path = typeof to === \"string\" ? parsePath(to) : to;\n      return {\n        pathname: path.pathname || \"\",\n        search: path.search || \"\",\n        hash: path.hash || \"\"\n      };\n    },\n    push(to, state) {\n      action = Action.Push;\n      let nextLocation = createMemoryLocation(to, state);\n      index += 1;\n      entries.splice(index, entries.length, nextLocation);\n      if (v5Compat && listener) {\n        listener({\n          action,\n          location: nextLocation,\n          delta: 1\n        });\n      }\n    },\n    replace(to, state) {\n      action = Action.Replace;\n      let nextLocation = createMemoryLocation(to, state);\n      entries[index] = nextLocation;\n      if (v5Compat && listener) {\n        listener({\n          action,\n          location: nextLocation,\n          delta: 0\n        });\n      }\n    },\n    go(delta) {\n      action = Action.Pop;\n      let nextIndex = clampIndex(index + delta);\n      let nextLocation = entries[nextIndex];\n      index = nextIndex;\n      if (listener) {\n        listener({\n          action,\n          location: nextLocation,\n          delta\n        });\n      }\n    },\n    listen(fn) {\n      listener = fn;\n      return () => {\n        listener = null;\n      };\n    }\n  };\n  return history;\n}\n/**\n * Browser history stores the location in regular URLs. This is the standard for\n * most web apps, but it requires some configuration on the server to ensure you\n * serve the same app at multiple URLs.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createbrowserhistory\n */\nfunction createBrowserHistory(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  function createBrowserLocation(window, globalHistory) {\n    let {\n      pathname,\n      search,\n      hash\n    } = window.location;\n    return createLocation(\"\", {\n      pathname,\n      search,\n      hash\n    },\n    // state defaults to `null` because `window.history.state` does\n    globalHistory.state && globalHistory.state.usr || null, globalHistory.state && globalHistory.state.key || \"default\");\n  }\n  function createBrowserHref(window, to) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n  return getUrlBasedHistory(createBrowserLocation, createBrowserHref, null, options);\n}\n/**\n * Hash history stores the location in window.location.hash. This makes it ideal\n * for situations where you don't want to send the location to the server for\n * some reason, either because you do cannot configure it or the URL space is\n * reserved for something else.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createhashhistory\n */\nfunction createHashHistory(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  function createHashLocation(window, globalHistory) {\n    let {\n      pathname = \"/\",\n      search = \"\",\n      hash = \"\"\n    } = parsePath(window.location.hash.substr(1));\n    // Hash URL should always have a leading / just like window.location.pathname\n    // does, so if an app ends up at a route like /#something then we add a\n    // leading slash so all of our path-matching behaves the same as if it would\n    // in a browser router.  This is particularly important when there exists a\n    // root splat route (<Route path=\"*\">) since that matches internally against\n    // \"/*\" and we'd expect /#something to 404 in a hash router app.\n    if (!pathname.startsWith(\"/\") && !pathname.startsWith(\".\")) {\n      pathname = \"/\" + pathname;\n    }\n    return createLocation(\"\", {\n      pathname,\n      search,\n      hash\n    },\n    // state defaults to `null` because `window.history.state` does\n    globalHistory.state && globalHistory.state.usr || null, globalHistory.state && globalHistory.state.key || \"default\");\n  }\n  function createHashHref(window, to) {\n    let base = window.document.querySelector(\"base\");\n    let href = \"\";\n    if (base && base.getAttribute(\"href\")) {\n      let url = window.location.href;\n      let hashIndex = url.indexOf(\"#\");\n      href = hashIndex === -1 ? url : url.slice(0, hashIndex);\n    }\n    return href + \"#\" + (typeof to === \"string\" ? to : createPath(to));\n  }\n  function validateHashLocation(location, to) {\n    warning(location.pathname.charAt(0) === \"/\", \"relative pathnames are not supported in hash history.push(\" + JSON.stringify(to) + \")\");\n  }\n  return getUrlBasedHistory(createHashLocation, createHashHref, validateHashLocation, options);\n}\nfunction invariant(value, message) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    throw new Error(message);\n  }\n}\nfunction warning(cond, message) {\n  if (!cond) {\n    // eslint-disable-next-line no-console\n    if (typeof console !== \"undefined\") console.warn(message);\n    try {\n      // Welcome to debugging history!\n      //\n      // This error is thrown as a convenience, so you can more easily\n      // find the source for a warning that appears in the console by\n      // enabling \"pause on exceptions\" in your JavaScript debugger.\n      throw new Error(message);\n      // eslint-disable-next-line no-empty\n    } catch (e) {}\n  }\n}\nfunction createKey() {\n  return Math.random().toString(36).substr(2, 8);\n}\n/**\n * For browser-based histories, we combine the state and key into an object\n */\nfunction getHistoryState(location, index) {\n  return {\n    usr: location.state,\n    key: location.key,\n    idx: index\n  };\n}\n/**\n * Creates a Location object with a unique key from the given Path\n */\nfunction createLocation(current, to, state, key) {\n  if (state === void 0) {\n    state = null;\n  }\n  let location = _extends({\n    pathname: typeof current === \"string\" ? current : current.pathname,\n    search: \"\",\n    hash: \"\"\n  }, typeof to === \"string\" ? parsePath(to) : to, {\n    state,\n    // TODO: This could be cleaned up.  push/replace should probably just take\n    // full Locations now and avoid the need to run through this flow at all\n    // But that's a pretty big refactor to the current test suite so going to\n    // keep as is for the time being and just let any incoming keys take precedence\n    key: to && to.key || key || createKey()\n  });\n  return location;\n}\n/**\n * Creates a string URL path from the given pathname, search, and hash components.\n */\nfunction createPath(_ref) {\n  let {\n    pathname = \"/\",\n    search = \"\",\n    hash = \"\"\n  } = _ref;\n  if (search && search !== \"?\") pathname += search.charAt(0) === \"?\" ? search : \"?\" + search;\n  if (hash && hash !== \"#\") pathname += hash.charAt(0) === \"#\" ? hash : \"#\" + hash;\n  return pathname;\n}\n/**\n * Parses a string URL path into its separate pathname, search, and hash components.\n */\nfunction parsePath(path) {\n  let parsedPath = {};\n  if (path) {\n    let hashIndex = path.indexOf(\"#\");\n    if (hashIndex >= 0) {\n      parsedPath.hash = path.substr(hashIndex);\n      path = path.substr(0, hashIndex);\n    }\n    let searchIndex = path.indexOf(\"?\");\n    if (searchIndex >= 0) {\n      parsedPath.search = path.substr(searchIndex);\n      path = path.substr(0, searchIndex);\n    }\n    if (path) {\n      parsedPath.pathname = path;\n    }\n  }\n  return parsedPath;\n}\nfunction getUrlBasedHistory(getLocation, createHref, validateLocation, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  let {\n    window = document.defaultView,\n    v5Compat = false\n  } = options;\n  let globalHistory = window.history;\n  let action = Action.Pop;\n  let listener = null;\n  let index = getIndex();\n  // Index should only be null when we initialize. If not, it's because the\n  // user called history.pushState or history.replaceState directly, in which\n  // case we should log a warning as it will result in bugs.\n  if (index == null) {\n    index = 0;\n    globalHistory.replaceState(_extends({}, globalHistory.state, {\n      idx: index\n    }), \"\");\n  }\n  function getIndex() {\n    let state = globalHistory.state || {\n      idx: null\n    };\n    return state.idx;\n  }\n  function handlePop() {\n    action = Action.Pop;\n    let nextIndex = getIndex();\n    let delta = nextIndex == null ? null : nextIndex - index;\n    index = nextIndex;\n    if (listener) {\n      listener({\n        action,\n        location: history.location,\n        delta\n      });\n    }\n  }\n  function push(to, state) {\n    action = Action.Push;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n    index = getIndex() + 1;\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    // try...catch because iOS limits us to 100 pushState calls :/\n    try {\n      globalHistory.pushState(historyState, \"\", url);\n    } catch (error) {\n      // If the exception is because `state` can't be serialized, let that throw\n      // outwards just like a replace call would so the dev knows the cause\n      // https://html.spec.whatwg.org/multipage/nav-history-apis.html#shared-history-push/replace-state-steps\n      // https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializeinternal\n      if (error instanceof DOMException && error.name === \"DataCloneError\") {\n        throw error;\n      }\n      // They are going to lose state here, but there is no real\n      // way to warn them about it since the page will refresh...\n      window.location.assign(url);\n    }\n    if (v5Compat && listener) {\n      listener({\n        action,\n        location: history.location,\n        delta: 1\n      });\n    }\n  }\n  function replace(to, state) {\n    action = Action.Replace;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n    index = getIndex();\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    globalHistory.replaceState(historyState, \"\", url);\n    if (v5Compat && listener) {\n      listener({\n        action,\n        location: history.location,\n        delta: 0\n      });\n    }\n  }\n  function createURL(to) {\n    // window.location.origin is \"null\" (the literal string value) in Firefox\n    // under certain conditions, notably when serving from a local HTML file\n    // See https://bugzilla.mozilla.org/show_bug.cgi?id=878297\n    let base = window.location.origin !== \"null\" ? window.location.origin : window.location.href;\n    let href = typeof to === \"string\" ? to : createPath(to);\n    // Treating this as a full URL will strip any trailing spaces so we need to\n    // pre-encode them since they might be part of a matching splat param from\n    // an ancestor route\n    href = href.replace(/ $/, \"%20\");\n    invariant(base, \"No window.location.(origin|href) available to create URL for href: \" + href);\n    return new URL(href, base);\n  }\n  let history = {\n    get action() {\n      return action;\n    },\n    get location() {\n      return getLocation(window, globalHistory);\n    },\n    listen(fn) {\n      if (listener) {\n        throw new Error(\"A history only accepts one active listener\");\n      }\n      window.addEventListener(PopStateEventType, handlePop);\n      listener = fn;\n      return () => {\n        window.removeEventListener(PopStateEventType, handlePop);\n        listener = null;\n      };\n    },\n    createHref(to) {\n      return createHref(window, to);\n    },\n    createURL,\n    encodeLocation(to) {\n      // Encode a Location the same way window.location would\n      let url = createURL(to);\n      return {\n        pathname: url.pathname,\n        search: url.search,\n        hash: url.hash\n      };\n    },\n    push,\n    replace,\n    go(n) {\n      return globalHistory.go(n);\n    }\n  };\n  return history;\n}\n//#endregion\n\nvar ResultType;\n(function (ResultType) {\n  ResultType[\"data\"] = \"data\";\n  ResultType[\"deferred\"] = \"deferred\";\n  ResultType[\"redirect\"] = \"redirect\";\n  ResultType[\"error\"] = \"error\";\n})(ResultType || (ResultType = {}));\nconst immutableRouteKeys = new Set([\"lazy\", \"caseSensitive\", \"path\", \"id\", \"index\", \"children\"]);\nfunction isIndexRoute(route) {\n  return route.index === true;\n}\n// Walk the route tree generating unique IDs where necessary, so we are working\n// solely with AgnosticDataRouteObject's within the Router\nfunction convertRoutesToDataRoutes(routes, mapRouteProperties, parentPath, manifest) {\n  if (parentPath === void 0) {\n    parentPath = [];\n  }\n  if (manifest === void 0) {\n    manifest = {};\n  }\n  return routes.map((route, index) => {\n    let treePath = [...parentPath, String(index)];\n    let id = typeof route.id === \"string\" ? route.id : treePath.join(\"-\");\n    invariant(route.index !== true || !route.children, \"Cannot specify children on an index route\");\n    invariant(!manifest[id], \"Found a route id collision on id \\\"\" + id + \"\\\".  Route \" + \"id's must be globally unique within Data Router usages\");\n    if (isIndexRoute(route)) {\n      let indexRoute = _extends({}, route, mapRouteProperties(route), {\n        id\n      });\n      manifest[id] = indexRoute;\n      return indexRoute;\n    } else {\n      let pathOrLayoutRoute = _extends({}, route, mapRouteProperties(route), {\n        id,\n        children: undefined\n      });\n      manifest[id] = pathOrLayoutRoute;\n      if (route.children) {\n        pathOrLayoutRoute.children = convertRoutesToDataRoutes(route.children, mapRouteProperties, treePath, manifest);\n      }\n      return pathOrLayoutRoute;\n    }\n  });\n}\n/**\n * Matches the given routes to a location and returns the match data.\n *\n * @see https://reactrouter.com/v6/utils/match-routes\n */\nfunction matchRoutes(routes, locationArg, basename) {\n  if (basename === void 0) {\n    basename = \"/\";\n  }\n  return matchRoutesImpl(routes, locationArg, basename, false);\n}\nfunction matchRoutesImpl(routes, locationArg, basename, allowPartial) {\n  let location = typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n  let pathname = stripBasename(location.pathname || \"/\", basename);\n  if (pathname == null) {\n    return null;\n  }\n  let branches = flattenRoutes(routes);\n  rankRouteBranches(branches);\n  let matches = null;\n  for (let i = 0; matches == null && i < branches.length; ++i) {\n    // Incoming pathnames are generally encoded from either window.location\n    // or from router.navigate, but we want to match against the unencoded\n    // paths in the route definitions.  Memory router locations won't be\n    // encoded here but there also shouldn't be anything to decode so this\n    // should be a safe operation.  This avoids needing matchRoutes to be\n    // history-aware.\n    let decoded = decodePath(pathname);\n    matches = matchRouteBranch(branches[i], decoded, allowPartial);\n  }\n  return matches;\n}\nfunction convertRouteMatchToUiMatch(match, loaderData) {\n  let {\n    route,\n    pathname,\n    params\n  } = match;\n  return {\n    id: route.id,\n    pathname,\n    params,\n    data: loaderData[route.id],\n    handle: route.handle\n  };\n}\nfunction flattenRoutes(routes, branches, parentsMeta, parentPath) {\n  if (branches === void 0) {\n    branches = [];\n  }\n  if (parentsMeta === void 0) {\n    parentsMeta = [];\n  }\n  if (parentPath === void 0) {\n    parentPath = \"\";\n  }\n  let flattenRoute = (route, index, relativePath) => {\n    let meta = {\n      relativePath: relativePath === undefined ? route.path || \"\" : relativePath,\n      caseSensitive: route.caseSensitive === true,\n      childrenIndex: index,\n      route\n    };\n    if (meta.relativePath.startsWith(\"/\")) {\n      invariant(meta.relativePath.startsWith(parentPath), \"Absolute route path \\\"\" + meta.relativePath + \"\\\" nested under path \" + (\"\\\"\" + parentPath + \"\\\" is not valid. An absolute child route path \") + \"must start with the combined path of all its parent routes.\");\n      meta.relativePath = meta.relativePath.slice(parentPath.length);\n    }\n    let path = joinPaths([parentPath, meta.relativePath]);\n    let routesMeta = parentsMeta.concat(meta);\n    // Add the children before adding this route to the array, so we traverse the\n    // route tree depth-first and child routes appear before their parents in\n    // the \"flattened\" version.\n    if (route.children && route.children.length > 0) {\n      invariant(\n      // Our types know better, but runtime JS may not!\n      // @ts-expect-error\n      route.index !== true, \"Index routes must not have child routes. Please remove \" + (\"all child routes from route path \\\"\" + path + \"\\\".\"));\n      flattenRoutes(route.children, branches, routesMeta, path);\n    }\n    // Routes without a path shouldn't ever match by themselves unless they are\n    // index routes, so don't add them to the list of possible branches.\n    if (route.path == null && !route.index) {\n      return;\n    }\n    branches.push({\n      path,\n      score: computeScore(path, route.index),\n      routesMeta\n    });\n  };\n  routes.forEach((route, index) => {\n    var _route$path;\n    // coarse-grain check for optional params\n    if (route.path === \"\" || !((_route$path = route.path) != null && _route$path.includes(\"?\"))) {\n      flattenRoute(route, index);\n    } else {\n      for (let exploded of explodeOptionalSegments(route.path)) {\n        flattenRoute(route, index, exploded);\n      }\n    }\n  });\n  return branches;\n}\n/**\n * Computes all combinations of optional path segments for a given path,\n * excluding combinations that are ambiguous and of lower priority.\n *\n * For example, `/one/:two?/three/:four?/:five?` explodes to:\n * - `/one/three`\n * - `/one/:two/three`\n * - `/one/three/:four`\n * - `/one/three/:five`\n * - `/one/:two/three/:four`\n * - `/one/:two/three/:five`\n * - `/one/three/:four/:five`\n * - `/one/:two/three/:four/:five`\n */\nfunction explodeOptionalSegments(path) {\n  let segments = path.split(\"/\");\n  if (segments.length === 0) return [];\n  let [first, ...rest] = segments;\n  // Optional path segments are denoted by a trailing `?`\n  let isOptional = first.endsWith(\"?\");\n  // Compute the corresponding required segment: `foo?` -> `foo`\n  let required = first.replace(/\\?$/, \"\");\n  if (rest.length === 0) {\n    // Intepret empty string as omitting an optional segment\n    // `[\"one\", \"\", \"three\"]` corresponds to omitting `:two` from `/one/:two?/three` -> `/one/three`\n    return isOptional ? [required, \"\"] : [required];\n  }\n  let restExploded = explodeOptionalSegments(rest.join(\"/\"));\n  let result = [];\n  // All child paths with the prefix.  Do this for all children before the\n  // optional version for all children, so we get consistent ordering where the\n  // parent optional aspect is preferred as required.  Otherwise, we can get\n  // child sections interspersed where deeper optional segments are higher than\n  // parent optional segments, where for example, /:two would explode _earlier_\n  // then /:one.  By always including the parent as required _for all children_\n  // first, we avoid this issue\n  result.push(...restExploded.map(subpath => subpath === \"\" ? required : [required, subpath].join(\"/\")));\n  // Then, if this is an optional value, add all child versions without\n  if (isOptional) {\n    result.push(...restExploded);\n  }\n  // for absolute paths, ensure `/` instead of empty segment\n  return result.map(exploded => path.startsWith(\"/\") && exploded === \"\" ? \"/\" : exploded);\n}\nfunction rankRouteBranches(branches) {\n  branches.sort((a, b) => a.score !== b.score ? b.score - a.score // Higher score first\n  : compareIndexes(a.routesMeta.map(meta => meta.childrenIndex), b.routesMeta.map(meta => meta.childrenIndex)));\n}\nconst paramRe = /^:[\\w-]+$/;\nconst dynamicSegmentValue = 3;\nconst indexRouteValue = 2;\nconst emptySegmentValue = 1;\nconst staticSegmentValue = 10;\nconst splatPenalty = -2;\nconst isSplat = s => s === \"*\";\nfunction computeScore(path, index) {\n  let segments = path.split(\"/\");\n  let initialScore = segments.length;\n  if (segments.some(isSplat)) {\n    initialScore += splatPenalty;\n  }\n  if (index) {\n    initialScore += indexRouteValue;\n  }\n  return segments.filter(s => !isSplat(s)).reduce((score, segment) => score + (paramRe.test(segment) ? dynamicSegmentValue : segment === \"\" ? emptySegmentValue : staticSegmentValue), initialScore);\n}\nfunction compareIndexes(a, b) {\n  let siblings = a.length === b.length && a.slice(0, -1).every((n, i) => n === b[i]);\n  return siblings ?\n  // If two routes are siblings, we should try to match the earlier sibling\n  // first. This allows people to have fine-grained control over the matching\n  // behavior by simply putting routes with identical paths in the order they\n  // want them tried.\n  a[a.length - 1] - b[b.length - 1] :\n  // Otherwise, it doesn't really make sense to rank non-siblings by index,\n  // so they sort equally.\n  0;\n}\nfunction matchRouteBranch(branch, pathname, allowPartial) {\n  if (allowPartial === void 0) {\n    allowPartial = false;\n  }\n  let {\n    routesMeta\n  } = branch;\n  let matchedParams = {};\n  let matchedPathname = \"/\";\n  let matches = [];\n  for (let i = 0; i < routesMeta.length; ++i) {\n    let meta = routesMeta[i];\n    let end = i === routesMeta.length - 1;\n    let remainingPathname = matchedPathname === \"/\" ? pathname : pathname.slice(matchedPathname.length) || \"/\";\n    let match = matchPath({\n      path: meta.relativePath,\n      caseSensitive: meta.caseSensitive,\n      end\n    }, remainingPathname);\n    let route = meta.route;\n    if (!match && end && allowPartial && !routesMeta[routesMeta.length - 1].route.index) {\n      match = matchPath({\n        path: meta.relativePath,\n        caseSensitive: meta.caseSensitive,\n        end: false\n      }, remainingPathname);\n    }\n    if (!match) {\n      return null;\n    }\n    Object.assign(matchedParams, match.params);\n    matches.push({\n      // TODO: Can this as be avoided?\n      params: matchedParams,\n      pathname: joinPaths([matchedPathname, match.pathname]),\n      pathnameBase: normalizePathname(joinPaths([matchedPathname, match.pathnameBase])),\n      route\n    });\n    if (match.pathnameBase !== \"/\") {\n      matchedPathname = joinPaths([matchedPathname, match.pathnameBase]);\n    }\n  }\n  return matches;\n}\n/**\n * Returns a path with params interpolated.\n *\n * @see https://reactrouter.com/v6/utils/generate-path\n */\nfunction generatePath(originalPath, params) {\n  if (params === void 0) {\n    params = {};\n  }\n  let path = originalPath;\n  if (path.endsWith(\"*\") && path !== \"*\" && !path.endsWith(\"/*\")) {\n    warning(false, \"Route path \\\"\" + path + \"\\\" will be treated as if it were \" + (\"\\\"\" + path.replace(/\\*$/, \"/*\") + \"\\\" because the `*` character must \") + \"always follow a `/` in the pattern. To get rid of this warning, \" + (\"please change the route path to \\\"\" + path.replace(/\\*$/, \"/*\") + \"\\\".\"));\n    path = path.replace(/\\*$/, \"/*\");\n  }\n  // ensure `/` is added at the beginning if the path is absolute\n  const prefix = path.startsWith(\"/\") ? \"/\" : \"\";\n  const stringify = p => p == null ? \"\" : typeof p === \"string\" ? p : String(p);\n  const segments = path.split(/\\/+/).map((segment, index, array) => {\n    const isLastSegment = index === array.length - 1;\n    // only apply the splat if it's the last segment\n    if (isLastSegment && segment === \"*\") {\n      const star = \"*\";\n      // Apply the splat\n      return stringify(params[star]);\n    }\n    const keyMatch = segment.match(/^:([\\w-]+)(\\??)$/);\n    if (keyMatch) {\n      const [, key, optional] = keyMatch;\n      let param = params[key];\n      invariant(optional === \"?\" || param != null, \"Missing \\\":\" + key + \"\\\" param\");\n      return stringify(param);\n    }\n    // Remove any optional markers from optional static segments\n    return segment.replace(/\\?$/g, \"\");\n  })\n  // Remove empty segments\n  .filter(segment => !!segment);\n  return prefix + segments.join(\"/\");\n}\n/**\n * Performs pattern matching on a URL pathname and returns information about\n * the match.\n *\n * @see https://reactrouter.com/v6/utils/match-path\n */\nfunction matchPath(pattern, pathname) {\n  if (typeof pattern === \"string\") {\n    pattern = {\n      path: pattern,\n      caseSensitive: false,\n      end: true\n    };\n  }\n  let [matcher, compiledParams] = compilePath(pattern.path, pattern.caseSensitive, pattern.end);\n  let match = pathname.match(matcher);\n  if (!match) return null;\n  let matchedPathname = match[0];\n  let pathnameBase = matchedPathname.replace(/(.)\\/+$/, \"$1\");\n  let captureGroups = match.slice(1);\n  let params = compiledParams.reduce((memo, _ref, index) => {\n    let {\n      paramName,\n      isOptional\n    } = _ref;\n    // We need to compute the pathnameBase here using the raw splat value\n    // instead of using params[\"*\"] later because it will be decoded then\n    if (paramName === \"*\") {\n      let splatValue = captureGroups[index] || \"\";\n      pathnameBase = matchedPathname.slice(0, matchedPathname.length - splatValue.length).replace(/(.)\\/+$/, \"$1\");\n    }\n    const value = captureGroups[index];\n    if (isOptional && !value) {\n      memo[paramName] = undefined;\n    } else {\n      memo[paramName] = (value || \"\").replace(/%2F/g, \"/\");\n    }\n    return memo;\n  }, {});\n  return {\n    params,\n    pathname: matchedPathname,\n    pathnameBase,\n    pattern\n  };\n}\nfunction compilePath(path, caseSensitive, end) {\n  if (caseSensitive === void 0) {\n    caseSensitive = false;\n  }\n  if (end === void 0) {\n    end = true;\n  }\n  warning(path === \"*\" || !path.endsWith(\"*\") || path.endsWith(\"/*\"), \"Route path \\\"\" + path + \"\\\" will be treated as if it were \" + (\"\\\"\" + path.replace(/\\*$/, \"/*\") + \"\\\" because the `*` character must \") + \"always follow a `/` in the pattern. To get rid of this warning, \" + (\"please change the route path to \\\"\" + path.replace(/\\*$/, \"/*\") + \"\\\".\"));\n  let params = [];\n  let regexpSource = \"^\" + path.replace(/\\/*\\*?$/, \"\") // Ignore trailing / and /*, we'll handle it below\n  .replace(/^\\/*/, \"/\") // Make sure it has a leading /\n  .replace(/[\\\\.*+^${}|()[\\]]/g, \"\\\\$&\") // Escape special regex chars\n  .replace(/\\/:([\\w-]+)(\\?)?/g, (_, paramName, isOptional) => {\n    params.push({\n      paramName,\n      isOptional: isOptional != null\n    });\n    return isOptional ? \"/?([^\\\\/]+)?\" : \"/([^\\\\/]+)\";\n  });\n  if (path.endsWith(\"*\")) {\n    params.push({\n      paramName: \"*\"\n    });\n    regexpSource += path === \"*\" || path === \"/*\" ? \"(.*)$\" // Already matched the initial /, just match the rest\n    : \"(?:\\\\/(.+)|\\\\/*)$\"; // Don't include the / in params[\"*\"]\n  } else if (end) {\n    // When matching to the end, ignore trailing slashes\n    regexpSource += \"\\\\/*$\";\n  } else if (path !== \"\" && path !== \"/\") {\n    // If our path is non-empty and contains anything beyond an initial slash,\n    // then we have _some_ form of path in our regex, so we should expect to\n    // match only if we find the end of this path segment.  Look for an optional\n    // non-captured trailing slash (to match a portion of the URL) or the end\n    // of the path (if we've matched to the end).  We used to do this with a\n    // word boundary but that gives false positives on routes like\n    // /user-preferences since `-` counts as a word boundary.\n    regexpSource += \"(?:(?=\\\\/|$))\";\n  } else ;\n  let matcher = new RegExp(regexpSource, caseSensitive ? undefined : \"i\");\n  return [matcher, params];\n}\nfunction decodePath(value) {\n  try {\n    return value.split(\"/\").map(v => decodeURIComponent(v).replace(/\\//g, \"%2F\")).join(\"/\");\n  } catch (error) {\n    warning(false, \"The URL path \\\"\" + value + \"\\\" could not be decoded because it is is a \" + \"malformed URL segment. This is probably due to a bad percent \" + (\"encoding (\" + error + \").\"));\n    return value;\n  }\n}\n/**\n * @private\n */\nfunction stripBasename(pathname, basename) {\n  if (basename === \"/\") return pathname;\n  if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) {\n    return null;\n  }\n  // We want to leave trailing slash behavior in the user's control, so if they\n  // specify a basename with a trailing slash, we should support it\n  let startIndex = basename.endsWith(\"/\") ? basename.length - 1 : basename.length;\n  let nextChar = pathname.charAt(startIndex);\n  if (nextChar && nextChar !== \"/\") {\n    // pathname does not start with basename/\n    return null;\n  }\n  return pathname.slice(startIndex) || \"/\";\n}\nconst ABSOLUTE_URL_REGEX$1 = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nconst isAbsoluteUrl = url => ABSOLUTE_URL_REGEX$1.test(url);\n/**\n * Returns a resolved path object relative to the given pathname.\n *\n * @see https://reactrouter.com/v6/utils/resolve-path\n */\nfunction resolvePath(to, fromPathname) {\n  if (fromPathname === void 0) {\n    fromPathname = \"/\";\n  }\n  let {\n    pathname: toPathname,\n    search = \"\",\n    hash = \"\"\n  } = typeof to === \"string\" ? parsePath(to) : to;\n  let pathname;\n  if (toPathname) {\n    if (isAbsoluteUrl(toPathname)) {\n      pathname = toPathname;\n    } else {\n      if (toPathname.includes(\"//\")) {\n        let oldPathname = toPathname;\n        toPathname = toPathname.replace(/\\/\\/+/g, \"/\");\n        warning(false, \"Pathnames cannot have embedded double slashes - normalizing \" + (oldPathname + \" -> \" + toPathname));\n      }\n      if (toPathname.startsWith(\"/\")) {\n        pathname = resolvePathname(toPathname.substring(1), \"/\");\n      } else {\n        pathname = resolvePathname(toPathname, fromPathname);\n      }\n    }\n  } else {\n    pathname = fromPathname;\n  }\n  return {\n    pathname,\n    search: normalizeSearch(search),\n    hash: normalizeHash(hash)\n  };\n}\nfunction resolvePathname(relativePath, fromPathname) {\n  let segments = fromPathname.replace(/\\/+$/, \"\").split(\"/\");\n  let relativeSegments = relativePath.split(\"/\");\n  relativeSegments.forEach(segment => {\n    if (segment === \"..\") {\n      // Keep the root \"\" segment so the pathname starts at /\n      if (segments.length > 1) segments.pop();\n    } else if (segment !== \".\") {\n      segments.push(segment);\n    }\n  });\n  return segments.length > 1 ? segments.join(\"/\") : \"/\";\n}\nfunction getInvalidPathError(char, field, dest, path) {\n  return \"Cannot include a '\" + char + \"' character in a manually specified \" + (\"`to.\" + field + \"` field [\" + JSON.stringify(path) + \"].  Please separate it out to the \") + (\"`to.\" + dest + \"` field. Alternatively you may provide the full path as \") + \"a string in <Link to=\\\"...\\\"> and the router will parse it for you.\";\n}\n/**\n * @private\n *\n * When processing relative navigation we want to ignore ancestor routes that\n * do not contribute to the path, such that index/pathless layout routes don't\n * interfere.\n *\n * For example, when moving a route element into an index route and/or a\n * pathless layout route, relative link behavior contained within should stay\n * the same.  Both of the following examples should link back to the root:\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\" element={<Link to=\"..\"}>\n *   </Route>\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\">\n *       <Route element={<AccountsLayout />}>       // <-- Does not contribute\n *         <Route index element={<Link to=\"..\"} />  // <-- Does not contribute\n *       </Route\n *     </Route>\n *   </Route>\n */\nfunction getPathContributingMatches(matches) {\n  return matches.filter((match, index) => index === 0 || match.route.path && match.route.path.length > 0);\n}\n// Return the array of pathnames for the current route matches - used to\n// generate the routePathnames input for resolveTo()\nfunction getResolveToMatches(matches, v7_relativeSplatPath) {\n  let pathMatches = getPathContributingMatches(matches);\n  // When v7_relativeSplatPath is enabled, use the full pathname for the leaf\n  // match so we include splat values for \".\" links.  See:\n  // https://github.com/remix-run/react-router/issues/11052#issuecomment-1836589329\n  if (v7_relativeSplatPath) {\n    return pathMatches.map((match, idx) => idx === pathMatches.length - 1 ? match.pathname : match.pathnameBase);\n  }\n  return pathMatches.map(match => match.pathnameBase);\n}\n/**\n * @private\n */\nfunction resolveTo(toArg, routePathnames, locationPathname, isPathRelative) {\n  if (isPathRelative === void 0) {\n    isPathRelative = false;\n  }\n  let to;\n  if (typeof toArg === \"string\") {\n    to = parsePath(toArg);\n  } else {\n    to = _extends({}, toArg);\n    invariant(!to.pathname || !to.pathname.includes(\"?\"), getInvalidPathError(\"?\", \"pathname\", \"search\", to));\n    invariant(!to.pathname || !to.pathname.includes(\"#\"), getInvalidPathError(\"#\", \"pathname\", \"hash\", to));\n    invariant(!to.search || !to.search.includes(\"#\"), getInvalidPathError(\"#\", \"search\", \"hash\", to));\n  }\n  let isEmptyPath = toArg === \"\" || to.pathname === \"\";\n  let toPathname = isEmptyPath ? \"/\" : to.pathname;\n  let from;\n  // Routing is relative to the current pathname if explicitly requested.\n  //\n  // If a pathname is explicitly provided in `to`, it should be relative to the\n  // route context. This is explained in `Note on `<Link to>` values` in our\n  // migration guide from v5 as a means of disambiguation between `to` values\n  // that begin with `/` and those that do not. However, this is problematic for\n  // `to` values that do not provide a pathname. `to` can simply be a search or\n  // hash string, in which case we should assume that the navigation is relative\n  // to the current location's pathname and *not* the route pathname.\n  if (toPathname == null) {\n    from = locationPathname;\n  } else {\n    let routePathnameIndex = routePathnames.length - 1;\n    // With relative=\"route\" (the default), each leading .. segment means\n    // \"go up one route\" instead of \"go up one URL segment\".  This is a key\n    // difference from how <a href> works and a major reason we call this a\n    // \"to\" value instead of a \"href\".\n    if (!isPathRelative && toPathname.startsWith(\"..\")) {\n      let toSegments = toPathname.split(\"/\");\n      while (toSegments[0] === \"..\") {\n        toSegments.shift();\n        routePathnameIndex -= 1;\n      }\n      to.pathname = toSegments.join(\"/\");\n    }\n    from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : \"/\";\n  }\n  let path = resolvePath(to, from);\n  // Ensure the pathname has a trailing slash if the original \"to\" had one\n  let hasExplicitTrailingSlash = toPathname && toPathname !== \"/\" && toPathname.endsWith(\"/\");\n  // Or if this was a link to the current path which has a trailing slash\n  let hasCurrentTrailingSlash = (isEmptyPath || toPathname === \".\") && locationPathname.endsWith(\"/\");\n  if (!path.pathname.endsWith(\"/\") && (hasExplicitTrailingSlash || hasCurrentTrailingSlash)) {\n    path.pathname += \"/\";\n  }\n  return path;\n}\n/**\n * @private\n */\nfunction getToPathname(to) {\n  // Empty strings should be treated the same as / paths\n  return to === \"\" || to.pathname === \"\" ? \"/\" : typeof to === \"string\" ? parsePath(to).pathname : to.pathname;\n}\n/**\n * @private\n */\nconst joinPaths = paths => paths.join(\"/\").replace(/\\/\\/+/g, \"/\");\n/**\n * @private\n */\nconst normalizePathname = pathname => pathname.replace(/\\/+$/, \"\").replace(/^\\/*/, \"/\");\n/**\n * @private\n */\nconst normalizeSearch = search => !search || search === \"?\" ? \"\" : search.startsWith(\"?\") ? search : \"?\" + search;\n/**\n * @private\n */\nconst normalizeHash = hash => !hash || hash === \"#\" ? \"\" : hash.startsWith(\"#\") ? hash : \"#\" + hash;\n/**\n * This is a shortcut for creating `application/json` responses. Converts `data`\n * to JSON and sets the `Content-Type` header.\n *\n * @deprecated The `json` method is deprecated in favor of returning raw objects.\n * This method will be removed in v7.\n */\nconst json = function json(data, init) {\n  if (init === void 0) {\n    init = {};\n  }\n  let responseInit = typeof init === \"number\" ? {\n    status: init\n  } : init;\n  let headers = new Headers(responseInit.headers);\n  if (!headers.has(\"Content-Type\")) {\n    headers.set(\"Content-Type\", \"application/json; charset=utf-8\");\n  }\n  return new Response(JSON.stringify(data), _extends({}, responseInit, {\n    headers\n  }));\n};\nclass DataWithResponseInit {\n  constructor(data, init) {\n    this.type = \"DataWithResponseInit\";\n    this.data = data;\n    this.init = init || null;\n  }\n}\n/**\n * Create \"responses\" that contain `status`/`headers` without forcing\n * serialization into an actual `Response` - used by Remix single fetch\n */\nfunction data(data, init) {\n  return new DataWithResponseInit(data, typeof init === \"number\" ? {\n    status: init\n  } : init);\n}\nclass AbortedDeferredError extends Error {}\nclass DeferredData {\n  constructor(data, responseInit) {\n    this.pendingKeysSet = new Set();\n    this.subscribers = new Set();\n    this.deferredKeys = [];\n    invariant(data && typeof data === \"object\" && !Array.isArray(data), \"defer() only accepts plain objects\");\n    // Set up an AbortController + Promise we can race against to exit early\n    // cancellation\n    let reject;\n    this.abortPromise = new Promise((_, r) => reject = r);\n    this.controller = new AbortController();\n    let onAbort = () => reject(new AbortedDeferredError(\"Deferred data aborted\"));\n    this.unlistenAbortSignal = () => this.controller.signal.removeEventListener(\"abort\", onAbort);\n    this.controller.signal.addEventListener(\"abort\", onAbort);\n    this.data = Object.entries(data).reduce((acc, _ref2) => {\n      let [key, value] = _ref2;\n      return Object.assign(acc, {\n        [key]: this.trackPromise(key, value)\n      });\n    }, {});\n    if (this.done) {\n      // All incoming values were resolved\n      this.unlistenAbortSignal();\n    }\n    this.init = responseInit;\n  }\n  trackPromise(key, value) {\n    if (!(value instanceof Promise)) {\n      return value;\n    }\n    this.deferredKeys.push(key);\n    this.pendingKeysSet.add(key);\n    // We store a little wrapper promise that will be extended with\n    // _data/_error props upon resolve/reject\n    let promise = Promise.race([value, this.abortPromise]).then(data => this.onSettle(promise, key, undefined, data), error => this.onSettle(promise, key, error));\n    // Register rejection listeners to avoid uncaught promise rejections on\n    // errors or aborted deferred values\n    promise.catch(() => {});\n    Object.defineProperty(promise, \"_tracked\", {\n      get: () => true\n    });\n    return promise;\n  }\n  onSettle(promise, key, error, data) {\n    if (this.controller.signal.aborted && error instanceof AbortedDeferredError) {\n      this.unlistenAbortSignal();\n      Object.defineProperty(promise, \"_error\", {\n        get: () => error\n      });\n      return Promise.reject(error);\n    }\n    this.pendingKeysSet.delete(key);\n    if (this.done) {\n      // Nothing left to abort!\n      this.unlistenAbortSignal();\n    }\n    // If the promise was resolved/rejected with undefined, we'll throw an error as you\n    // should always resolve with a value or null\n    if (error === undefined && data === undefined) {\n      let undefinedError = new Error(\"Deferred data for key \\\"\" + key + \"\\\" resolved/rejected with `undefined`, \" + \"you must resolve/reject with a value or `null`.\");\n      Object.defineProperty(promise, \"_error\", {\n        get: () => undefinedError\n      });\n      this.emit(false, key);\n      return Promise.reject(undefinedError);\n    }\n    if (data === undefined) {\n      Object.defineProperty(promise, \"_error\", {\n        get: () => error\n      });\n      this.emit(false, key);\n      return Promise.reject(error);\n    }\n    Object.defineProperty(promise, \"_data\", {\n      get: () => data\n    });\n    this.emit(false, key);\n    return data;\n  }\n  emit(aborted, settledKey) {\n    this.subscribers.forEach(subscriber => subscriber(aborted, settledKey));\n  }\n  subscribe(fn) {\n    this.subscribers.add(fn);\n    return () => this.subscribers.delete(fn);\n  }\n  cancel() {\n    this.controller.abort();\n    this.pendingKeysSet.forEach((v, k) => this.pendingKeysSet.delete(k));\n    this.emit(true);\n  }\n  async resolveData(signal) {\n    let aborted = false;\n    if (!this.done) {\n      let onAbort = () => this.cancel();\n      signal.addEventListener(\"abort\", onAbort);\n      aborted = await new Promise(resolve => {\n        this.subscribe(aborted => {\n          signal.removeEventListener(\"abort\", onAbort);\n          if (aborted || this.done) {\n            resolve(aborted);\n          }\n        });\n      });\n    }\n    return aborted;\n  }\n  get done() {\n    return this.pendingKeysSet.size === 0;\n  }\n  get unwrappedData() {\n    invariant(this.data !== null && this.done, \"Can only unwrap data on initialized and settled deferreds\");\n    return Object.entries(this.data).reduce((acc, _ref3) => {\n      let [key, value] = _ref3;\n      return Object.assign(acc, {\n        [key]: unwrapTrackedPromise(value)\n      });\n    }, {});\n  }\n  get pendingKeys() {\n    return Array.from(this.pendingKeysSet);\n  }\n}\nfunction isTrackedPromise(value) {\n  return value instanceof Promise && value._tracked === true;\n}\nfunction unwrapTrackedPromise(value) {\n  if (!isTrackedPromise(value)) {\n    return value;\n  }\n  if (value._error) {\n    throw value._error;\n  }\n  return value._data;\n}\n/**\n * @deprecated The `defer` method is deprecated in favor of returning raw\n * objects. This method will be removed in v7.\n */\nconst defer = function defer(data, init) {\n  if (init === void 0) {\n    init = {};\n  }\n  let responseInit = typeof init === \"number\" ? {\n    status: init\n  } : init;\n  return new DeferredData(data, responseInit);\n};\n/**\n * A redirect response. Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */\nconst redirect = function redirect(url, init) {\n  if (init === void 0) {\n    init = 302;\n  }\n  let responseInit = init;\n  if (typeof responseInit === \"number\") {\n    responseInit = {\n      status: responseInit\n    };\n  } else if (typeof responseInit.status === \"undefined\") {\n    responseInit.status = 302;\n  }\n  let headers = new Headers(responseInit.headers);\n  headers.set(\"Location\", url);\n  return new Response(null, _extends({}, responseInit, {\n    headers\n  }));\n};\n/**\n * A redirect response that will force a document reload to the new location.\n * Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */\nconst redirectDocument = (url, init) => {\n  let response = redirect(url, init);\n  response.headers.set(\"X-Remix-Reload-Document\", \"true\");\n  return response;\n};\n/**\n * A redirect response that will perform a `history.replaceState` instead of a\n * `history.pushState` for client-side navigation redirects.\n * Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */\nconst replace = (url, init) => {\n  let response = redirect(url, init);\n  response.headers.set(\"X-Remix-Replace\", \"true\");\n  return response;\n};\n/**\n * @private\n * Utility class we use to hold auto-unwrapped 4xx/5xx Response bodies\n *\n * We don't export the class for public use since it's an implementation\n * detail, but we export the interface above so folks can build their own\n * abstractions around instances via isRouteErrorResponse()\n */\nclass ErrorResponseImpl {\n  constructor(status, statusText, data, internal) {\n    if (internal === void 0) {\n      internal = false;\n    }\n    this.status = status;\n    this.statusText = statusText || \"\";\n    this.internal = internal;\n    if (data instanceof Error) {\n      this.data = data.toString();\n      this.error = data;\n    } else {\n      this.data = data;\n    }\n  }\n}\n/**\n * Check if the given error is an ErrorResponse generated from a 4xx/5xx\n * Response thrown from an action/loader\n */\nfunction isRouteErrorResponse(error) {\n  return error != null && typeof error.status === \"number\" && typeof error.statusText === \"string\" && typeof error.internal === \"boolean\" && \"data\" in error;\n}\n\nconst validMutationMethodsArr = [\"post\", \"put\", \"patch\", \"delete\"];\nconst validMutationMethods = new Set(validMutationMethodsArr);\nconst validRequestMethodsArr = [\"get\", ...validMutationMethodsArr];\nconst validRequestMethods = new Set(validRequestMethodsArr);\nconst redirectStatusCodes = new Set([301, 302, 303, 307, 308]);\nconst redirectPreserveMethodStatusCodes = new Set([307, 308]);\nconst IDLE_NAVIGATION = {\n  state: \"idle\",\n  location: undefined,\n  formMethod: undefined,\n  formAction: undefined,\n  formEncType: undefined,\n  formData: undefined,\n  json: undefined,\n  text: undefined\n};\nconst IDLE_FETCHER = {\n  state: \"idle\",\n  data: undefined,\n  formMethod: undefined,\n  formAction: undefined,\n  formEncType: undefined,\n  formData: undefined,\n  json: undefined,\n  text: undefined\n};\nconst IDLE_BLOCKER = {\n  state: \"unblocked\",\n  proceed: undefined,\n  reset: undefined,\n  location: undefined\n};\nconst ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nconst defaultMapRouteProperties = route => ({\n  hasErrorBoundary: Boolean(route.hasErrorBoundary)\n});\nconst TRANSITIONS_STORAGE_KEY = \"remix-router-transitions\";\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region createRouter\n////////////////////////////////////////////////////////////////////////////////\n/**\n * Create a router and listen to history POP navigations\n */\nfunction createRouter(init) {\n  const routerWindow = init.window ? init.window : typeof window !== \"undefined\" ? window : undefined;\n  const isBrowser = typeof routerWindow !== \"undefined\" && typeof routerWindow.document !== \"undefined\" && typeof routerWindow.document.createElement !== \"undefined\";\n  const isServer = !isBrowser;\n  invariant(init.routes.length > 0, \"You must provide a non-empty routes array to createRouter\");\n  let mapRouteProperties;\n  if (init.mapRouteProperties) {\n    mapRouteProperties = init.mapRouteProperties;\n  } else if (init.detectErrorBoundary) {\n    // If they are still using the deprecated version, wrap it with the new API\n    let detectErrorBoundary = init.detectErrorBoundary;\n    mapRouteProperties = route => ({\n      hasErrorBoundary: detectErrorBoundary(route)\n    });\n  } else {\n    mapRouteProperties = defaultMapRouteProperties;\n  }\n  // Routes keyed by ID\n  let manifest = {};\n  // Routes in tree format for matching\n  let dataRoutes = convertRoutesToDataRoutes(init.routes, mapRouteProperties, undefined, manifest);\n  let inFlightDataRoutes;\n  let basename = init.basename || \"/\";\n  let dataStrategyImpl = init.dataStrategy || defaultDataStrategy;\n  let patchRoutesOnNavigationImpl = init.patchRoutesOnNavigation;\n  // Config driven behavior flags\n  let future = _extends({\n    v7_fetcherPersist: false,\n    v7_normalizeFormMethod: false,\n    v7_partialHydration: false,\n    v7_prependBasename: false,\n    v7_relativeSplatPath: false,\n    v7_skipActionErrorRevalidation: false\n  }, init.future);\n  // Cleanup function for history\n  let unlistenHistory = null;\n  // Externally-provided functions to call on all state changes\n  let subscribers = new Set();\n  // Externally-provided object to hold scroll restoration locations during routing\n  let savedScrollPositions = null;\n  // Externally-provided function to get scroll restoration keys\n  let getScrollRestorationKey = null;\n  // Externally-provided function to get current scroll position\n  let getScrollPosition = null;\n  // One-time flag to control the initial hydration scroll restoration.  Because\n  // we don't get the saved positions from <ScrollRestoration /> until _after_\n  // the initial render, we need to manually trigger a separate updateState to\n  // send along the restoreScrollPosition\n  // Set to true if we have `hydrationData` since we assume we were SSR'd and that\n  // SSR did the initial scroll restoration.\n  let initialScrollRestored = init.hydrationData != null;\n  let initialMatches = matchRoutes(dataRoutes, init.history.location, basename);\n  let initialMatchesIsFOW = false;\n  let initialErrors = null;\n  if (initialMatches == null && !patchRoutesOnNavigationImpl) {\n    // If we do not match a user-provided-route, fall back to the root\n    // to allow the error boundary to take over\n    let error = getInternalRouterError(404, {\n      pathname: init.history.location.pathname\n    });\n    let {\n      matches,\n      route\n    } = getShortCircuitMatches(dataRoutes);\n    initialMatches = matches;\n    initialErrors = {\n      [route.id]: error\n    };\n  }\n  // In SPA apps, if the user provided a patchRoutesOnNavigation implementation and\n  // our initial match is a splat route, clear them out so we run through lazy\n  // discovery on hydration in case there's a more accurate lazy route match.\n  // In SSR apps (with `hydrationData`), we expect that the server will send\n  // up the proper matched routes so we don't want to run lazy discovery on\n  // initial hydration and want to hydrate into the splat route.\n  if (initialMatches && !init.hydrationData) {\n    let fogOfWar = checkFogOfWar(initialMatches, dataRoutes, init.history.location.pathname);\n    if (fogOfWar.active) {\n      initialMatches = null;\n    }\n  }\n  let initialized;\n  if (!initialMatches) {\n    initialized = false;\n    initialMatches = [];\n    // If partial hydration and fog of war is enabled, we will be running\n    // `patchRoutesOnNavigation` during hydration so include any partial matches as\n    // the initial matches so we can properly render `HydrateFallback`'s\n    if (future.v7_partialHydration) {\n      let fogOfWar = checkFogOfWar(null, dataRoutes, init.history.location.pathname);\n      if (fogOfWar.active && fogOfWar.matches) {\n        initialMatchesIsFOW = true;\n        initialMatches = fogOfWar.matches;\n      }\n    }\n  } else if (initialMatches.some(m => m.route.lazy)) {\n    // All initialMatches need to be loaded before we're ready.  If we have lazy\n    // functions around still then we'll need to run them in initialize()\n    initialized = false;\n  } else if (!initialMatches.some(m => m.route.loader)) {\n    // If we've got no loaders to run, then we're good to go\n    initialized = true;\n  } else if (future.v7_partialHydration) {\n    // If partial hydration is enabled, we're initialized so long as we were\n    // provided with hydrationData for every route with a loader, and no loaders\n    // were marked for explicit hydration\n    let loaderData = init.hydrationData ? init.hydrationData.loaderData : null;\n    let errors = init.hydrationData ? init.hydrationData.errors : null;\n    // If errors exist, don't consider routes below the boundary\n    if (errors) {\n      let idx = initialMatches.findIndex(m => errors[m.route.id] !== undefined);\n      initialized = initialMatches.slice(0, idx + 1).every(m => !shouldLoadRouteOnHydration(m.route, loaderData, errors));\n    } else {\n      initialized = initialMatches.every(m => !shouldLoadRouteOnHydration(m.route, loaderData, errors));\n    }\n  } else {\n    // Without partial hydration - we're initialized if we were provided any\n    // hydrationData - which is expected to be complete\n    initialized = init.hydrationData != null;\n  }\n  let router;\n  let state = {\n    historyAction: init.history.action,\n    location: init.history.location,\n    matches: initialMatches,\n    initialized,\n    navigation: IDLE_NAVIGATION,\n    // Don't restore on initial updateState() if we were SSR'd\n    restoreScrollPosition: init.hydrationData != null ? false : null,\n    preventScrollReset: false,\n    revalidation: \"idle\",\n    loaderData: init.hydrationData && init.hydrationData.loaderData || {},\n    actionData: init.hydrationData && init.hydrationData.actionData || null,\n    errors: init.hydrationData && init.hydrationData.errors || initialErrors,\n    fetchers: new Map(),\n    blockers: new Map()\n  };\n  // -- Stateful internal variables to manage navigations --\n  // Current navigation in progress (to be committed in completeNavigation)\n  let pendingAction = Action.Pop;\n  // Should the current navigation prevent the scroll reset if scroll cannot\n  // be restored?\n  let pendingPreventScrollReset = false;\n  // AbortController for the active navigation\n  let pendingNavigationController;\n  // Should the current navigation enable document.startViewTransition?\n  let pendingViewTransitionEnabled = false;\n  // Store applied view transitions so we can apply them on POP\n  let appliedViewTransitions = new Map();\n  // Cleanup function for persisting applied transitions to sessionStorage\n  let removePageHideEventListener = null;\n  // We use this to avoid touching history in completeNavigation if a\n  // revalidation is entirely uninterrupted\n  let isUninterruptedRevalidation = false;\n  // Use this internal flag to force revalidation of all loaders:\n  //  - submissions (completed or interrupted)\n  //  - useRevalidator()\n  //  - X-Remix-Revalidate (from redirect)\n  let isRevalidationRequired = false;\n  // Use this internal array to capture routes that require revalidation due\n  // to a cancelled deferred on action submission\n  let cancelledDeferredRoutes = [];\n  // Use this internal array to capture fetcher loads that were cancelled by an\n  // action navigation and require revalidation\n  let cancelledFetcherLoads = new Set();\n  // AbortControllers for any in-flight fetchers\n  let fetchControllers = new Map();\n  // Track loads based on the order in which they started\n  let incrementingLoadId = 0;\n  // Track the outstanding pending navigation data load to be compared against\n  // the globally incrementing load when a fetcher load lands after a completed\n  // navigation\n  let pendingNavigationLoadId = -1;\n  // Fetchers that triggered data reloads as a result of their actions\n  let fetchReloadIds = new Map();\n  // Fetchers that triggered redirect navigations\n  let fetchRedirectIds = new Set();\n  // Most recent href/match for fetcher.load calls for fetchers\n  let fetchLoadMatches = new Map();\n  // Ref-count mounted fetchers so we know when it's ok to clean them up\n  let activeFetchers = new Map();\n  // Fetchers that have requested a delete when using v7_fetcherPersist,\n  // they'll be officially removed after they return to idle\n  let deletedFetchers = new Set();\n  // Store DeferredData instances for active route matches.  When a\n  // route loader returns defer() we stick one in here.  Then, when a nested\n  // promise resolves we update loaderData.  If a new navigation starts we\n  // cancel active deferreds for eliminated routes.\n  let activeDeferreds = new Map();\n  // Store blocker functions in a separate Map outside of router state since\n  // we don't need to update UI state if they change\n  let blockerFunctions = new Map();\n  // Flag to ignore the next history update, so we can revert the URL change on\n  // a POP navigation that was blocked by the user without touching router state\n  let unblockBlockerHistoryUpdate = undefined;\n  // Initialize the router, all side effects should be kicked off from here.\n  // Implemented as a Fluent API for ease of:\n  //   let router = createRouter(init).initialize();\n  function initialize() {\n    // If history informs us of a POP navigation, start the navigation but do not update\n    // state.  We'll update our own state once the navigation completes\n    unlistenHistory = init.history.listen(_ref => {\n      let {\n        action: historyAction,\n        location,\n        delta\n      } = _ref;\n      // Ignore this event if it was just us resetting the URL from a\n      // blocked POP navigation\n      if (unblockBlockerHistoryUpdate) {\n        unblockBlockerHistoryUpdate();\n        unblockBlockerHistoryUpdate = undefined;\n        return;\n      }\n      warning(blockerFunctions.size === 0 || delta != null, \"You are trying to use a blocker on a POP navigation to a location \" + \"that was not created by @remix-run/router. This will fail silently in \" + \"production. This can happen if you are navigating outside the router \" + \"via `window.history.pushState`/`window.location.hash` instead of using \" + \"router navigation APIs.  This can also happen if you are using \" + \"createHashRouter and the user manually changes the URL.\");\n      let blockerKey = shouldBlockNavigation({\n        currentLocation: state.location,\n        nextLocation: location,\n        historyAction\n      });\n      if (blockerKey && delta != null) {\n        // Restore the URL to match the current UI, but don't update router state\n        let nextHistoryUpdatePromise = new Promise(resolve => {\n          unblockBlockerHistoryUpdate = resolve;\n        });\n        init.history.go(delta * -1);\n        // Put the blocker into a blocked state\n        updateBlocker(blockerKey, {\n          state: \"blocked\",\n          location,\n          proceed() {\n            updateBlocker(blockerKey, {\n              state: \"proceeding\",\n              proceed: undefined,\n              reset: undefined,\n              location\n            });\n            // Re-do the same POP navigation we just blocked, after the url\n            // restoration is also complete.  See:\n            // https://github.com/remix-run/react-router/issues/11613\n            nextHistoryUpdatePromise.then(() => init.history.go(delta));\n          },\n          reset() {\n            let blockers = new Map(state.blockers);\n            blockers.set(blockerKey, IDLE_BLOCKER);\n            updateState({\n              blockers\n            });\n          }\n        });\n        return;\n      }\n      return startNavigation(historyAction, location);\n    });\n    if (isBrowser) {\n      // FIXME: This feels gross.  How can we cleanup the lines between\n      // scrollRestoration/appliedTransitions persistance?\n      restoreAppliedTransitions(routerWindow, appliedViewTransitions);\n      let _saveAppliedTransitions = () => persistAppliedTransitions(routerWindow, appliedViewTransitions);\n      routerWindow.addEventListener(\"pagehide\", _saveAppliedTransitions);\n      removePageHideEventListener = () => routerWindow.removeEventListener(\"pagehide\", _saveAppliedTransitions);\n    }\n    // Kick off initial data load if needed.  Use Pop to avoid modifying history\n    // Note we don't do any handling of lazy here.  For SPA's it'll get handled\n    // in the normal navigation flow.  For SSR it's expected that lazy modules are\n    // resolved prior to router creation since we can't go into a fallbackElement\n    // UI for SSR'd apps\n    if (!state.initialized) {\n      startNavigation(Action.Pop, state.location, {\n        initialHydration: true\n      });\n    }\n    return router;\n  }\n  // Clean up a router and it's side effects\n  function dispose() {\n    if (unlistenHistory) {\n      unlistenHistory();\n    }\n    if (removePageHideEventListener) {\n      removePageHideEventListener();\n    }\n    subscribers.clear();\n    pendingNavigationController && pendingNavigationController.abort();\n    state.fetchers.forEach((_, key) => deleteFetcher(key));\n    state.blockers.forEach((_, key) => deleteBlocker(key));\n  }\n  // Subscribe to state updates for the router\n  function subscribe(fn) {\n    subscribers.add(fn);\n    return () => subscribers.delete(fn);\n  }\n  // Update our state and notify the calling context of the change\n  function updateState(newState, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n    state = _extends({}, state, newState);\n    // Prep fetcher cleanup so we can tell the UI which fetcher data entries\n    // can be removed\n    let completedFetchers = [];\n    let deletedFetchersKeys = [];\n    if (future.v7_fetcherPersist) {\n      state.fetchers.forEach((fetcher, key) => {\n        if (fetcher.state === \"idle\") {\n          if (deletedFetchers.has(key)) {\n            // Unmounted from the UI and can be totally removed\n            deletedFetchersKeys.push(key);\n          } else {\n            // Returned to idle but still mounted in the UI, so semi-remains for\n            // revalidations and such\n            completedFetchers.push(key);\n          }\n        }\n      });\n    }\n    // Remove any lingering deleted fetchers that have already been removed\n    // from state.fetchers\n    deletedFetchers.forEach(key => {\n      if (!state.fetchers.has(key) && !fetchControllers.has(key)) {\n        deletedFetchersKeys.push(key);\n      }\n    });\n    // Iterate over a local copy so that if flushSync is used and we end up\n    // removing and adding a new subscriber due to the useCallback dependencies,\n    // we don't get ourselves into a loop calling the new subscriber immediately\n    [...subscribers].forEach(subscriber => subscriber(state, {\n      deletedFetchers: deletedFetchersKeys,\n      viewTransitionOpts: opts.viewTransitionOpts,\n      flushSync: opts.flushSync === true\n    }));\n    // Remove idle fetchers from state since we only care about in-flight fetchers.\n    if (future.v7_fetcherPersist) {\n      completedFetchers.forEach(key => state.fetchers.delete(key));\n      deletedFetchersKeys.forEach(key => deleteFetcher(key));\n    } else {\n      // We already called deleteFetcher() on these, can remove them from this\n      // Set now that we've handed the keys off to the data layer\n      deletedFetchersKeys.forEach(key => deletedFetchers.delete(key));\n    }\n  }\n  // Complete a navigation returning the state.navigation back to the IDLE_NAVIGATION\n  // and setting state.[historyAction/location/matches] to the new route.\n  // - Location is a required param\n  // - Navigation will always be set to IDLE_NAVIGATION\n  // - Can pass any other state in newState\n  function completeNavigation(location, newState, _temp) {\n    var _location$state, _location$state2;\n    let {\n      flushSync\n    } = _temp === void 0 ? {} : _temp;\n    // Deduce if we're in a loading/actionReload state:\n    // - We have committed actionData in the store\n    // - The current navigation was a mutation submission\n    // - We're past the submitting state and into the loading state\n    // - The location being loaded is not the result of a redirect\n    let isActionReload = state.actionData != null && state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && state.navigation.state === \"loading\" && ((_location$state = location.state) == null ? void 0 : _location$state._isRedirect) !== true;\n    let actionData;\n    if (newState.actionData) {\n      if (Object.keys(newState.actionData).length > 0) {\n        actionData = newState.actionData;\n      } else {\n        // Empty actionData -> clear prior actionData due to an action error\n        actionData = null;\n      }\n    } else if (isActionReload) {\n      // Keep the current data if we're wrapping up the action reload\n      actionData = state.actionData;\n    } else {\n      // Clear actionData on any other completed navigations\n      actionData = null;\n    }\n    // Always preserve any existing loaderData from re-used routes\n    let loaderData = newState.loaderData ? mergeLoaderData(state.loaderData, newState.loaderData, newState.matches || [], newState.errors) : state.loaderData;\n    // On a successful navigation we can assume we got through all blockers\n    // so we can start fresh\n    let blockers = state.blockers;\n    if (blockers.size > 0) {\n      blockers = new Map(blockers);\n      blockers.forEach((_, k) => blockers.set(k, IDLE_BLOCKER));\n    }\n    // Always respect the user flag.  Otherwise don't reset on mutation\n    // submission navigations unless they redirect\n    let preventScrollReset = pendingPreventScrollReset === true || state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && ((_location$state2 = location.state) == null ? void 0 : _location$state2._isRedirect) !== true;\n    // Commit any in-flight routes at the end of the HMR revalidation \"navigation\"\n    if (inFlightDataRoutes) {\n      dataRoutes = inFlightDataRoutes;\n      inFlightDataRoutes = undefined;\n    }\n    if (isUninterruptedRevalidation) ; else if (pendingAction === Action.Pop) ; else if (pendingAction === Action.Push) {\n      init.history.push(location, location.state);\n    } else if (pendingAction === Action.Replace) {\n      init.history.replace(location, location.state);\n    }\n    let viewTransitionOpts;\n    // On POP, enable transitions if they were enabled on the original navigation\n    if (pendingAction === Action.Pop) {\n      // Forward takes precedence so they behave like the original navigation\n      let priorPaths = appliedViewTransitions.get(state.location.pathname);\n      if (priorPaths && priorPaths.has(location.pathname)) {\n        viewTransitionOpts = {\n          currentLocation: state.location,\n          nextLocation: location\n        };\n      } else if (appliedViewTransitions.has(location.pathname)) {\n        // If we don't have a previous forward nav, assume we're popping back to\n        // the new location and enable if that location previously enabled\n        viewTransitionOpts = {\n          currentLocation: location,\n          nextLocation: state.location\n        };\n      }\n    } else if (pendingViewTransitionEnabled) {\n      // Store the applied transition on PUSH/REPLACE\n      let toPaths = appliedViewTransitions.get(state.location.pathname);\n      if (toPaths) {\n        toPaths.add(location.pathname);\n      } else {\n        toPaths = new Set([location.pathname]);\n        appliedViewTransitions.set(state.location.pathname, toPaths);\n      }\n      viewTransitionOpts = {\n        currentLocation: state.location,\n        nextLocation: location\n      };\n    }\n    updateState(_extends({}, newState, {\n      actionData,\n      loaderData,\n      historyAction: pendingAction,\n      location,\n      initialized: true,\n      navigation: IDLE_NAVIGATION,\n      revalidation: \"idle\",\n      restoreScrollPosition: getSavedScrollPosition(location, newState.matches || state.matches),\n      preventScrollReset,\n      blockers\n    }), {\n      viewTransitionOpts,\n      flushSync: flushSync === true\n    });\n    // Reset stateful navigation vars\n    pendingAction = Action.Pop;\n    pendingPreventScrollReset = false;\n    pendingViewTransitionEnabled = false;\n    isUninterruptedRevalidation = false;\n    isRevalidationRequired = false;\n    cancelledDeferredRoutes = [];\n  }\n  // Trigger a navigation event, which can either be a numerical POP or a PUSH\n  // replace with an optional submission\n  async function navigate(to, opts) {\n    if (typeof to === \"number\") {\n      init.history.go(to);\n      return;\n    }\n    let normalizedPath = normalizeTo(state.location, state.matches, basename, future.v7_prependBasename, to, future.v7_relativeSplatPath, opts == null ? void 0 : opts.fromRouteId, opts == null ? void 0 : opts.relative);\n    let {\n      path,\n      submission,\n      error\n    } = normalizeNavigateOptions(future.v7_normalizeFormMethod, false, normalizedPath, opts);\n    let currentLocation = state.location;\n    let nextLocation = createLocation(state.location, path, opts && opts.state);\n    // When using navigate as a PUSH/REPLACE we aren't reading an already-encoded\n    // URL from window.location, so we need to encode it here so the behavior\n    // remains the same as POP and non-data-router usages.  new URL() does all\n    // the same encoding we'd get from a history.pushState/window.location read\n    // without having to touch history\n    nextLocation = _extends({}, nextLocation, init.history.encodeLocation(nextLocation));\n    let userReplace = opts && opts.replace != null ? opts.replace : undefined;\n    let historyAction = Action.Push;\n    if (userReplace === true) {\n      historyAction = Action.Replace;\n    } else if (userReplace === false) ; else if (submission != null && isMutationMethod(submission.formMethod) && submission.formAction === state.location.pathname + state.location.search) {\n      // By default on submissions to the current location we REPLACE so that\n      // users don't have to double-click the back button to get to the prior\n      // location.  If the user redirects to a different location from the\n      // action/loader this will be ignored and the redirect will be a PUSH\n      historyAction = Action.Replace;\n    }\n    let preventScrollReset = opts && \"preventScrollReset\" in opts ? opts.preventScrollReset === true : undefined;\n    let flushSync = (opts && opts.flushSync) === true;\n    let blockerKey = shouldBlockNavigation({\n      currentLocation,\n      nextLocation,\n      historyAction\n    });\n    if (blockerKey) {\n      // Put the blocker into a blocked state\n      updateBlocker(blockerKey, {\n        state: \"blocked\",\n        location: nextLocation,\n        proceed() {\n          updateBlocker(blockerKey, {\n            state: \"proceeding\",\n            proceed: undefined,\n            reset: undefined,\n            location: nextLocation\n          });\n          // Send the same navigation through\n          navigate(to, opts);\n        },\n        reset() {\n          let blockers = new Map(state.blockers);\n          blockers.set(blockerKey, IDLE_BLOCKER);\n          updateState({\n            blockers\n          });\n        }\n      });\n      return;\n    }\n    return await startNavigation(historyAction, nextLocation, {\n      submission,\n      // Send through the formData serialization error if we have one so we can\n      // render at the right error boundary after we match routes\n      pendingError: error,\n      preventScrollReset,\n      replace: opts && opts.replace,\n      enableViewTransition: opts && opts.viewTransition,\n      flushSync\n    });\n  }\n  // Revalidate all current loaders.  If a navigation is in progress or if this\n  // is interrupted by a navigation, allow this to \"succeed\" by calling all\n  // loaders during the next loader round\n  function revalidate() {\n    interruptActiveLoads();\n    updateState({\n      revalidation: \"loading\"\n    });\n    // If we're currently submitting an action, we don't need to start a new\n    // navigation, we'll just let the follow up loader execution call all loaders\n    if (state.navigation.state === \"submitting\") {\n      return;\n    }\n    // If we're currently in an idle state, start a new navigation for the current\n    // action/location and mark it as uninterrupted, which will skip the history\n    // update in completeNavigation\n    if (state.navigation.state === \"idle\") {\n      startNavigation(state.historyAction, state.location, {\n        startUninterruptedRevalidation: true\n      });\n      return;\n    }\n    // Otherwise, if we're currently in a loading state, just start a new\n    // navigation to the navigation.location but do not trigger an uninterrupted\n    // revalidation so that history correctly updates once the navigation completes\n    startNavigation(pendingAction || state.historyAction, state.navigation.location, {\n      overrideNavigation: state.navigation,\n      // Proxy through any rending view transition\n      enableViewTransition: pendingViewTransitionEnabled === true\n    });\n  }\n  // Start a navigation to the given action/location.  Can optionally provide a\n  // overrideNavigation which will override the normalLoad in the case of a redirect\n  // navigation\n  async function startNavigation(historyAction, location, opts) {\n    // Abort any in-progress navigations and start a new one. Unset any ongoing\n    // uninterrupted revalidations unless told otherwise, since we want this\n    // new navigation to update history normally\n    pendingNavigationController && pendingNavigationController.abort();\n    pendingNavigationController = null;\n    pendingAction = historyAction;\n    isUninterruptedRevalidation = (opts && opts.startUninterruptedRevalidation) === true;\n    // Save the current scroll position every time we start a new navigation,\n    // and track whether we should reset scroll on completion\n    saveScrollPosition(state.location, state.matches);\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n    pendingViewTransitionEnabled = (opts && opts.enableViewTransition) === true;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let loadingNavigation = opts && opts.overrideNavigation;\n    let matches = opts != null && opts.initialHydration && state.matches && state.matches.length > 0 && !initialMatchesIsFOW ?\n    // `matchRoutes()` has already been called if we're in here via `router.initialize()`\n    state.matches : matchRoutes(routesToUse, location, basename);\n    let flushSync = (opts && opts.flushSync) === true;\n    // Short circuit if it's only a hash change and not a revalidation or\n    // mutation submission.\n    //\n    // Ignore on initial page loads because since the initial hydration will always\n    // be \"same hash\".  For example, on /page#hash and submit a <Form method=\"post\">\n    // which will default to a navigation to /page\n    if (matches && state.initialized && !isRevalidationRequired && isHashChangeOnly(state.location, location) && !(opts && opts.submission && isMutationMethod(opts.submission.formMethod))) {\n      completeNavigation(location, {\n        matches\n      }, {\n        flushSync\n      });\n      return;\n    }\n    let fogOfWar = checkFogOfWar(matches, routesToUse, location.pathname);\n    if (fogOfWar.active && fogOfWar.matches) {\n      matches = fogOfWar.matches;\n    }\n    // Short circuit with a 404 on the root error boundary if we match nothing\n    if (!matches) {\n      let {\n        error,\n        notFoundMatches,\n        route\n      } = handleNavigational404(location.pathname);\n      completeNavigation(location, {\n        matches: notFoundMatches,\n        loaderData: {},\n        errors: {\n          [route.id]: error\n        }\n      }, {\n        flushSync\n      });\n      return;\n    }\n    // Create a controller/Request for this navigation\n    pendingNavigationController = new AbortController();\n    let request = createClientSideRequest(init.history, location, pendingNavigationController.signal, opts && opts.submission);\n    let pendingActionResult;\n    if (opts && opts.pendingError) {\n      // If we have a pendingError, it means the user attempted a GET submission\n      // with binary FormData so assign here and skip to handleLoaders.  That\n      // way we handle calling loaders above the boundary etc.  It's not really\n      // different from an actionError in that sense.\n      pendingActionResult = [findNearestBoundary(matches).route.id, {\n        type: ResultType.error,\n        error: opts.pendingError\n      }];\n    } else if (opts && opts.submission && isMutationMethod(opts.submission.formMethod)) {\n      // Call action if we received an action submission\n      let actionResult = await handleAction(request, location, opts.submission, matches, fogOfWar.active, {\n        replace: opts.replace,\n        flushSync\n      });\n      if (actionResult.shortCircuited) {\n        return;\n      }\n      // If we received a 404 from handleAction, it's because we couldn't lazily\n      // discover the destination route so we don't want to call loaders\n      if (actionResult.pendingActionResult) {\n        let [routeId, result] = actionResult.pendingActionResult;\n        if (isErrorResult(result) && isRouteErrorResponse(result.error) && result.error.status === 404) {\n          pendingNavigationController = null;\n          completeNavigation(location, {\n            matches: actionResult.matches,\n            loaderData: {},\n            errors: {\n              [routeId]: result.error\n            }\n          });\n          return;\n        }\n      }\n      matches = actionResult.matches || matches;\n      pendingActionResult = actionResult.pendingActionResult;\n      loadingNavigation = getLoadingNavigation(location, opts.submission);\n      flushSync = false;\n      // No need to do fog of war matching again on loader execution\n      fogOfWar.active = false;\n      // Create a GET request for the loaders\n      request = createClientSideRequest(init.history, request.url, request.signal);\n    }\n    // Call loaders\n    let {\n      shortCircuited,\n      matches: updatedMatches,\n      loaderData,\n      errors\n    } = await handleLoaders(request, location, matches, fogOfWar.active, loadingNavigation, opts && opts.submission, opts && opts.fetcherSubmission, opts && opts.replace, opts && opts.initialHydration === true, flushSync, pendingActionResult);\n    if (shortCircuited) {\n      return;\n    }\n    // Clean up now that the action/loaders have completed.  Don't clean up if\n    // we short circuited because pendingNavigationController will have already\n    // been assigned to a new controller for the next navigation\n    pendingNavigationController = null;\n    completeNavigation(location, _extends({\n      matches: updatedMatches || matches\n    }, getActionDataForCommit(pendingActionResult), {\n      loaderData,\n      errors\n    }));\n  }\n  // Call the action matched by the leaf route for this navigation and handle\n  // redirects/errors\n  async function handleAction(request, location, submission, matches, isFogOfWar, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n    interruptActiveLoads();\n    // Put us in a submitting state\n    let navigation = getSubmittingNavigation(location, submission);\n    updateState({\n      navigation\n    }, {\n      flushSync: opts.flushSync === true\n    });\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(matches, location.pathname, request.signal);\n      if (discoverResult.type === \"aborted\") {\n        return {\n          shortCircuited: true\n        };\n      } else if (discoverResult.type === \"error\") {\n        let boundaryId = findNearestBoundary(discoverResult.partialMatches).route.id;\n        return {\n          matches: discoverResult.partialMatches,\n          pendingActionResult: [boundaryId, {\n            type: ResultType.error,\n            error: discoverResult.error\n          }]\n        };\n      } else if (!discoverResult.matches) {\n        let {\n          notFoundMatches,\n          error,\n          route\n        } = handleNavigational404(location.pathname);\n        return {\n          matches: notFoundMatches,\n          pendingActionResult: [route.id, {\n            type: ResultType.error,\n            error\n          }]\n        };\n      } else {\n        matches = discoverResult.matches;\n      }\n    }\n    // Call our action and get the result\n    let result;\n    let actionMatch = getTargetMatch(matches, location);\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      result = {\n        type: ResultType.error,\n        error: getInternalRouterError(405, {\n          method: request.method,\n          pathname: location.pathname,\n          routeId: actionMatch.route.id\n        })\n      };\n    } else {\n      let results = await callDataStrategy(\"action\", state, request, [actionMatch], matches, null);\n      result = results[actionMatch.route.id];\n      if (request.signal.aborted) {\n        return {\n          shortCircuited: true\n        };\n      }\n    }\n    if (isRedirectResult(result)) {\n      let replace;\n      if (opts && opts.replace != null) {\n        replace = opts.replace;\n      } else {\n        // If the user didn't explicity indicate replace behavior, replace if\n        // we redirected to the exact same location we're currently at to avoid\n        // double back-buttons\n        let location = normalizeRedirectLocation(result.response.headers.get(\"Location\"), new URL(request.url), basename, init.history);\n        replace = location === state.location.pathname + state.location.search;\n      }\n      await startRedirectNavigation(request, result, true, {\n        submission,\n        replace\n      });\n      return {\n        shortCircuited: true\n      };\n    }\n    if (isDeferredResult(result)) {\n      throw getInternalRouterError(400, {\n        type: \"defer-action\"\n      });\n    }\n    if (isErrorResult(result)) {\n      // Store off the pending error - we use it to determine which loaders\n      // to call and will commit it when we complete the navigation\n      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);\n      // By default, all submissions to the current location are REPLACE\n      // navigations, but if the action threw an error that'll be rendered in\n      // an errorElement, we fall back to PUSH so that the user can use the\n      // back button to get back to the pre-submission form location to try\n      // again\n      if ((opts && opts.replace) !== true) {\n        pendingAction = Action.Push;\n      }\n      return {\n        matches,\n        pendingActionResult: [boundaryMatch.route.id, result]\n      };\n    }\n    return {\n      matches,\n      pendingActionResult: [actionMatch.route.id, result]\n    };\n  }\n  // Call all applicable loaders for the given matches, handling redirects,\n  // errors, etc.\n  async function handleLoaders(request, location, matches, isFogOfWar, overrideNavigation, submission, fetcherSubmission, replace, initialHydration, flushSync, pendingActionResult) {\n    // Figure out the right navigation we want to use for data loading\n    let loadingNavigation = overrideNavigation || getLoadingNavigation(location, submission);\n    // If this was a redirect from an action we don't have a \"submission\" but\n    // we have it on the loading navigation so use that if available\n    let activeSubmission = submission || fetcherSubmission || getSubmissionFromNavigation(loadingNavigation);\n    // If this is an uninterrupted revalidation, we remain in our current idle\n    // state.  If not, we need to switch to our loading state and load data,\n    // preserving any new action data or existing action data (in the case of\n    // a revalidation interrupting an actionReload)\n    // If we have partialHydration enabled, then don't update the state for the\n    // initial data load since it's not a \"navigation\"\n    let shouldUpdateNavigationState = !isUninterruptedRevalidation && (!future.v7_partialHydration || !initialHydration);\n    // When fog of war is enabled, we enter our `loading` state earlier so we\n    // can discover new routes during the `loading` state.  We skip this if\n    // we've already run actions since we would have done our matching already.\n    // If the children() function threw then, we want to proceed with the\n    // partial matches it discovered.\n    if (isFogOfWar) {\n      if (shouldUpdateNavigationState) {\n        let actionData = getUpdatedActionData(pendingActionResult);\n        updateState(_extends({\n          navigation: loadingNavigation\n        }, actionData !== undefined ? {\n          actionData\n        } : {}), {\n          flushSync\n        });\n      }\n      let discoverResult = await discoverRoutes(matches, location.pathname, request.signal);\n      if (discoverResult.type === \"aborted\") {\n        return {\n          shortCircuited: true\n        };\n      } else if (discoverResult.type === \"error\") {\n        let boundaryId = findNearestBoundary(discoverResult.partialMatches).route.id;\n        return {\n          matches: discoverResult.partialMatches,\n          loaderData: {},\n          errors: {\n            [boundaryId]: discoverResult.error\n          }\n        };\n      } else if (!discoverResult.matches) {\n        let {\n          error,\n          notFoundMatches,\n          route\n        } = handleNavigational404(location.pathname);\n        return {\n          matches: notFoundMatches,\n          loaderData: {},\n          errors: {\n            [route.id]: error\n          }\n        };\n      } else {\n        matches = discoverResult.matches;\n      }\n    }\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(init.history, state, matches, activeSubmission, location, future.v7_partialHydration && initialHydration === true, future.v7_skipActionErrorRevalidation, isRevalidationRequired, cancelledDeferredRoutes, cancelledFetcherLoads, deletedFetchers, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, pendingActionResult);\n    // Cancel pending deferreds for no-longer-matched routes or routes we're\n    // about to reload.  Note that if this is an action reload we would have\n    // already cancelled all pending deferreds so this would be a no-op\n    cancelActiveDeferreds(routeId => !(matches && matches.some(m => m.route.id === routeId)) || matchesToLoad && matchesToLoad.some(m => m.route.id === routeId));\n    pendingNavigationLoadId = ++incrementingLoadId;\n    // Short circuit if we have no loaders to run\n    if (matchesToLoad.length === 0 && revalidatingFetchers.length === 0) {\n      let updatedFetchers = markFetchRedirectsDone();\n      completeNavigation(location, _extends({\n        matches,\n        loaderData: {},\n        // Commit pending error if we're short circuiting\n        errors: pendingActionResult && isErrorResult(pendingActionResult[1]) ? {\n          [pendingActionResult[0]]: pendingActionResult[1].error\n        } : null\n      }, getActionDataForCommit(pendingActionResult), updatedFetchers ? {\n        fetchers: new Map(state.fetchers)\n      } : {}), {\n        flushSync\n      });\n      return {\n        shortCircuited: true\n      };\n    }\n    if (shouldUpdateNavigationState) {\n      let updates = {};\n      if (!isFogOfWar) {\n        // Only update navigation/actionNData if we didn't already do it above\n        updates.navigation = loadingNavigation;\n        let actionData = getUpdatedActionData(pendingActionResult);\n        if (actionData !== undefined) {\n          updates.actionData = actionData;\n        }\n      }\n      if (revalidatingFetchers.length > 0) {\n        updates.fetchers = getUpdatedRevalidatingFetchers(revalidatingFetchers);\n      }\n      updateState(updates, {\n        flushSync\n      });\n    }\n    revalidatingFetchers.forEach(rf => {\n      abortFetcher(rf.key);\n      if (rf.controller) {\n        // Fetchers use an independent AbortController so that aborting a fetcher\n        // (via deleteFetcher) does not abort the triggering navigation that\n        // triggered the revalidation\n        fetchControllers.set(rf.key, rf.controller);\n      }\n    });\n    // Proxy navigation abort through to revalidation fetchers\n    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach(f => abortFetcher(f.key));\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.addEventListener(\"abort\", abortPendingFetchRevalidations);\n    }\n    let {\n      loaderResults,\n      fetcherResults\n    } = await callLoadersAndMaybeResolveData(state, matches, matchesToLoad, revalidatingFetchers, request);\n    if (request.signal.aborted) {\n      return {\n        shortCircuited: true\n      };\n    }\n    // Clean up _after_ loaders have completed.  Don't clean up if we short\n    // circuited because fetchControllers would have been aborted and\n    // reassigned to new controllers for the next navigation\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.removeEventListener(\"abort\", abortPendingFetchRevalidations);\n    }\n    revalidatingFetchers.forEach(rf => fetchControllers.delete(rf.key));\n    // If any loaders returned a redirect Response, start a new REPLACE navigation\n    let redirect = findRedirect(loaderResults);\n    if (redirect) {\n      await startRedirectNavigation(request, redirect.result, true, {\n        replace\n      });\n      return {\n        shortCircuited: true\n      };\n    }\n    redirect = findRedirect(fetcherResults);\n    if (redirect) {\n      // If this redirect came from a fetcher make sure we mark it in\n      // fetchRedirectIds so it doesn't get revalidated on the next set of\n      // loader executions\n      fetchRedirectIds.add(redirect.key);\n      await startRedirectNavigation(request, redirect.result, true, {\n        replace\n      });\n      return {\n        shortCircuited: true\n      };\n    }\n    // Process and commit output from loaders\n    let {\n      loaderData,\n      errors\n    } = processLoaderData(state, matches, loaderResults, pendingActionResult, revalidatingFetchers, fetcherResults, activeDeferreds);\n    // Wire up subscribers to update loaderData as promises settle\n    activeDeferreds.forEach((deferredData, routeId) => {\n      deferredData.subscribe(aborted => {\n        // Note: No need to updateState here since the TrackedPromise on\n        // loaderData is stable across resolve/reject\n        // Remove this instance if we were aborted or if promises have settled\n        if (aborted || deferredData.done) {\n          activeDeferreds.delete(routeId);\n        }\n      });\n    });\n    // Preserve SSR errors during partial hydration\n    if (future.v7_partialHydration && initialHydration && state.errors) {\n      errors = _extends({}, state.errors, errors);\n    }\n    let updatedFetchers = markFetchRedirectsDone();\n    let didAbortFetchLoads = abortStaleFetchLoads(pendingNavigationLoadId);\n    let shouldUpdateFetchers = updatedFetchers || didAbortFetchLoads || revalidatingFetchers.length > 0;\n    return _extends({\n      matches,\n      loaderData,\n      errors\n    }, shouldUpdateFetchers ? {\n      fetchers: new Map(state.fetchers)\n    } : {});\n  }\n  function getUpdatedActionData(pendingActionResult) {\n    if (pendingActionResult && !isErrorResult(pendingActionResult[1])) {\n      // This is cast to `any` currently because `RouteData`uses any and it\n      // would be a breaking change to use any.\n      // TODO: v7 - change `RouteData` to use `unknown` instead of `any`\n      return {\n        [pendingActionResult[0]]: pendingActionResult[1].data\n      };\n    } else if (state.actionData) {\n      if (Object.keys(state.actionData).length === 0) {\n        return null;\n      } else {\n        return state.actionData;\n      }\n    }\n  }\n  function getUpdatedRevalidatingFetchers(revalidatingFetchers) {\n    revalidatingFetchers.forEach(rf => {\n      let fetcher = state.fetchers.get(rf.key);\n      let revalidatingFetcher = getLoadingFetcher(undefined, fetcher ? fetcher.data : undefined);\n      state.fetchers.set(rf.key, revalidatingFetcher);\n    });\n    return new Map(state.fetchers);\n  }\n  // Trigger a fetcher load/submit for the given fetcher key\n  function fetch(key, routeId, href, opts) {\n    if (isServer) {\n      throw new Error(\"router.fetch() was called during the server render, but it shouldn't be. \" + \"You are likely calling a useFetcher() method in the body of your component. \" + \"Try moving it to a useEffect or a callback.\");\n    }\n    abortFetcher(key);\n    let flushSync = (opts && opts.flushSync) === true;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let normalizedPath = normalizeTo(state.location, state.matches, basename, future.v7_prependBasename, href, future.v7_relativeSplatPath, routeId, opts == null ? void 0 : opts.relative);\n    let matches = matchRoutes(routesToUse, normalizedPath, basename);\n    let fogOfWar = checkFogOfWar(matches, routesToUse, normalizedPath);\n    if (fogOfWar.active && fogOfWar.matches) {\n      matches = fogOfWar.matches;\n    }\n    if (!matches) {\n      setFetcherError(key, routeId, getInternalRouterError(404, {\n        pathname: normalizedPath\n      }), {\n        flushSync\n      });\n      return;\n    }\n    let {\n      path,\n      submission,\n      error\n    } = normalizeNavigateOptions(future.v7_normalizeFormMethod, true, normalizedPath, opts);\n    if (error) {\n      setFetcherError(key, routeId, error, {\n        flushSync\n      });\n      return;\n    }\n    let match = getTargetMatch(matches, path);\n    let preventScrollReset = (opts && opts.preventScrollReset) === true;\n    if (submission && isMutationMethod(submission.formMethod)) {\n      handleFetcherAction(key, routeId, path, match, matches, fogOfWar.active, flushSync, preventScrollReset, submission);\n      return;\n    }\n    // Store off the match so we can call it's shouldRevalidate on subsequent\n    // revalidations\n    fetchLoadMatches.set(key, {\n      routeId,\n      path\n    });\n    handleFetcherLoader(key, routeId, path, match, matches, fogOfWar.active, flushSync, preventScrollReset, submission);\n  }\n  // Call the action for the matched fetcher.submit(), and then handle redirects,\n  // errors, and revalidation\n  async function handleFetcherAction(key, routeId, path, match, requestMatches, isFogOfWar, flushSync, preventScrollReset, submission) {\n    interruptActiveLoads();\n    fetchLoadMatches.delete(key);\n    function detectAndHandle405Error(m) {\n      if (!m.route.action && !m.route.lazy) {\n        let error = getInternalRouterError(405, {\n          method: submission.formMethod,\n          pathname: path,\n          routeId: routeId\n        });\n        setFetcherError(key, routeId, error, {\n          flushSync\n        });\n        return true;\n      }\n      return false;\n    }\n    if (!isFogOfWar && detectAndHandle405Error(match)) {\n      return;\n    }\n    // Put this fetcher into it's submitting state\n    let existingFetcher = state.fetchers.get(key);\n    updateFetcherState(key, getSubmittingFetcher(submission, existingFetcher), {\n      flushSync\n    });\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(init.history, path, abortController.signal, submission);\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(requestMatches, new URL(fetchRequest.url).pathname, fetchRequest.signal, key);\n      if (discoverResult.type === \"aborted\") {\n        return;\n      } else if (discoverResult.type === \"error\") {\n        setFetcherError(key, routeId, discoverResult.error, {\n          flushSync\n        });\n        return;\n      } else if (!discoverResult.matches) {\n        setFetcherError(key, routeId, getInternalRouterError(404, {\n          pathname: path\n        }), {\n          flushSync\n        });\n        return;\n      } else {\n        requestMatches = discoverResult.matches;\n        match = getTargetMatch(requestMatches, path);\n        if (detectAndHandle405Error(match)) {\n          return;\n        }\n      }\n    }\n    // Call the action for the fetcher\n    fetchControllers.set(key, abortController);\n    let originatingLoadId = incrementingLoadId;\n    let actionResults = await callDataStrategy(\"action\", state, fetchRequest, [match], requestMatches, key);\n    let actionResult = actionResults[match.route.id];\n    if (fetchRequest.signal.aborted) {\n      // We can delete this so long as we weren't aborted by our own fetcher\n      // re-submit which would have put _new_ controller is in fetchControllers\n      if (fetchControllers.get(key) === abortController) {\n        fetchControllers.delete(key);\n      }\n      return;\n    }\n    // When using v7_fetcherPersist, we don't want errors bubbling up to the UI\n    // or redirects processed for unmounted fetchers so we just revert them to\n    // idle\n    if (future.v7_fetcherPersist && deletedFetchers.has(key)) {\n      if (isRedirectResult(actionResult) || isErrorResult(actionResult)) {\n        updateFetcherState(key, getDoneFetcher(undefined));\n        return;\n      }\n      // Let SuccessResult's fall through for revalidation\n    } else {\n      if (isRedirectResult(actionResult)) {\n        fetchControllers.delete(key);\n        if (pendingNavigationLoadId > originatingLoadId) {\n          // A new navigation was kicked off after our action started, so that\n          // should take precedence over this redirect navigation.  We already\n          // set isRevalidationRequired so all loaders for the new route should\n          // fire unless opted out via shouldRevalidate\n          updateFetcherState(key, getDoneFetcher(undefined));\n          return;\n        } else {\n          fetchRedirectIds.add(key);\n          updateFetcherState(key, getLoadingFetcher(submission));\n          return startRedirectNavigation(fetchRequest, actionResult, false, {\n            fetcherSubmission: submission,\n            preventScrollReset\n          });\n        }\n      }\n      // Process any non-redirect errors thrown\n      if (isErrorResult(actionResult)) {\n        setFetcherError(key, routeId, actionResult.error);\n        return;\n      }\n    }\n    if (isDeferredResult(actionResult)) {\n      throw getInternalRouterError(400, {\n        type: \"defer-action\"\n      });\n    }\n    // Start the data load for current matches, or the next location if we're\n    // in the middle of a navigation\n    let nextLocation = state.navigation.location || state.location;\n    let revalidationRequest = createClientSideRequest(init.history, nextLocation, abortController.signal);\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let matches = state.navigation.state !== \"idle\" ? matchRoutes(routesToUse, state.navigation.location, basename) : state.matches;\n    invariant(matches, \"Didn't find any matches after fetcher action\");\n    let loadId = ++incrementingLoadId;\n    fetchReloadIds.set(key, loadId);\n    let loadFetcher = getLoadingFetcher(submission, actionResult.data);\n    state.fetchers.set(key, loadFetcher);\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(init.history, state, matches, submission, nextLocation, false, future.v7_skipActionErrorRevalidation, isRevalidationRequired, cancelledDeferredRoutes, cancelledFetcherLoads, deletedFetchers, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, [match.route.id, actionResult]);\n    // Put all revalidating fetchers into the loading state, except for the\n    // current fetcher which we want to keep in it's current loading state which\n    // contains it's action submission info + action data\n    revalidatingFetchers.filter(rf => rf.key !== key).forEach(rf => {\n      let staleKey = rf.key;\n      let existingFetcher = state.fetchers.get(staleKey);\n      let revalidatingFetcher = getLoadingFetcher(undefined, existingFetcher ? existingFetcher.data : undefined);\n      state.fetchers.set(staleKey, revalidatingFetcher);\n      abortFetcher(staleKey);\n      if (rf.controller) {\n        fetchControllers.set(staleKey, rf.controller);\n      }\n    });\n    updateState({\n      fetchers: new Map(state.fetchers)\n    });\n    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach(rf => abortFetcher(rf.key));\n    abortController.signal.addEventListener(\"abort\", abortPendingFetchRevalidations);\n    let {\n      loaderResults,\n      fetcherResults\n    } = await callLoadersAndMaybeResolveData(state, matches, matchesToLoad, revalidatingFetchers, revalidationRequest);\n    if (abortController.signal.aborted) {\n      return;\n    }\n    abortController.signal.removeEventListener(\"abort\", abortPendingFetchRevalidations);\n    fetchReloadIds.delete(key);\n    fetchControllers.delete(key);\n    revalidatingFetchers.forEach(r => fetchControllers.delete(r.key));\n    let redirect = findRedirect(loaderResults);\n    if (redirect) {\n      return startRedirectNavigation(revalidationRequest, redirect.result, false, {\n        preventScrollReset\n      });\n    }\n    redirect = findRedirect(fetcherResults);\n    if (redirect) {\n      // If this redirect came from a fetcher make sure we mark it in\n      // fetchRedirectIds so it doesn't get revalidated on the next set of\n      // loader executions\n      fetchRedirectIds.add(redirect.key);\n      return startRedirectNavigation(revalidationRequest, redirect.result, false, {\n        preventScrollReset\n      });\n    }\n    // Process and commit output from loaders\n    let {\n      loaderData,\n      errors\n    } = processLoaderData(state, matches, loaderResults, undefined, revalidatingFetchers, fetcherResults, activeDeferreds);\n    // Since we let revalidations complete even if the submitting fetcher was\n    // deleted, only put it back to idle if it hasn't been deleted\n    if (state.fetchers.has(key)) {\n      let doneFetcher = getDoneFetcher(actionResult.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n    abortStaleFetchLoads(loadId);\n    // If we are currently in a navigation loading state and this fetcher is\n    // more recent than the navigation, we want the newer data so abort the\n    // navigation and complete it with the fetcher data\n    if (state.navigation.state === \"loading\" && loadId > pendingNavigationLoadId) {\n      invariant(pendingAction, \"Expected pending action\");\n      pendingNavigationController && pendingNavigationController.abort();\n      completeNavigation(state.navigation.location, {\n        matches,\n        loaderData,\n        errors,\n        fetchers: new Map(state.fetchers)\n      });\n    } else {\n      // otherwise just update with the fetcher data, preserving any existing\n      // loaderData for loaders that did not need to reload.  We have to\n      // manually merge here since we aren't going through completeNavigation\n      updateState({\n        errors,\n        loaderData: mergeLoaderData(state.loaderData, loaderData, matches, errors),\n        fetchers: new Map(state.fetchers)\n      });\n      isRevalidationRequired = false;\n    }\n  }\n  // Call the matched loader for fetcher.load(), handling redirects, errors, etc.\n  async function handleFetcherLoader(key, routeId, path, match, matches, isFogOfWar, flushSync, preventScrollReset, submission) {\n    let existingFetcher = state.fetchers.get(key);\n    updateFetcherState(key, getLoadingFetcher(submission, existingFetcher ? existingFetcher.data : undefined), {\n      flushSync\n    });\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(init.history, path, abortController.signal);\n    if (isFogOfWar) {\n      let discoverResult = await discoverRoutes(matches, new URL(fetchRequest.url).pathname, fetchRequest.signal, key);\n      if (discoverResult.type === \"aborted\") {\n        return;\n      } else if (discoverResult.type === \"error\") {\n        setFetcherError(key, routeId, discoverResult.error, {\n          flushSync\n        });\n        return;\n      } else if (!discoverResult.matches) {\n        setFetcherError(key, routeId, getInternalRouterError(404, {\n          pathname: path\n        }), {\n          flushSync\n        });\n        return;\n      } else {\n        matches = discoverResult.matches;\n        match = getTargetMatch(matches, path);\n      }\n    }\n    // Call the loader for this fetcher route match\n    fetchControllers.set(key, abortController);\n    let originatingLoadId = incrementingLoadId;\n    let results = await callDataStrategy(\"loader\", state, fetchRequest, [match], matches, key);\n    let result = results[match.route.id];\n    // Deferred isn't supported for fetcher loads, await everything and treat it\n    // as a normal load.  resolveDeferredData will return undefined if this\n    // fetcher gets aborted, so we just leave result untouched and short circuit\n    // below if that happens\n    if (isDeferredResult(result)) {\n      result = (await resolveDeferredData(result, fetchRequest.signal, true)) || result;\n    }\n    // We can delete this so long as we weren't aborted by our our own fetcher\n    // re-load which would have put _new_ controller is in fetchControllers\n    if (fetchControllers.get(key) === abortController) {\n      fetchControllers.delete(key);\n    }\n    if (fetchRequest.signal.aborted) {\n      return;\n    }\n    // We don't want errors bubbling up or redirects followed for unmounted\n    // fetchers, so short circuit here if it was removed from the UI\n    if (deletedFetchers.has(key)) {\n      updateFetcherState(key, getDoneFetcher(undefined));\n      return;\n    }\n    // If the loader threw a redirect Response, start a new REPLACE navigation\n    if (isRedirectResult(result)) {\n      if (pendingNavigationLoadId > originatingLoadId) {\n        // A new navigation was kicked off after our loader started, so that\n        // should take precedence over this redirect navigation\n        updateFetcherState(key, getDoneFetcher(undefined));\n        return;\n      } else {\n        fetchRedirectIds.add(key);\n        await startRedirectNavigation(fetchRequest, result, false, {\n          preventScrollReset\n        });\n        return;\n      }\n    }\n    // Process any non-redirect errors thrown\n    if (isErrorResult(result)) {\n      setFetcherError(key, routeId, result.error);\n      return;\n    }\n    invariant(!isDeferredResult(result), \"Unhandled fetcher deferred data\");\n    // Put the fetcher back into an idle state\n    updateFetcherState(key, getDoneFetcher(result.data));\n  }\n  /**\n   * Utility function to handle redirects returned from an action or loader.\n   * Normally, a redirect \"replaces\" the navigation that triggered it.  So, for\n   * example:\n   *\n   *  - user is on /a\n   *  - user clicks a link to /b\n   *  - loader for /b redirects to /c\n   *\n   * In a non-JS app the browser would track the in-flight navigation to /b and\n   * then replace it with /c when it encountered the redirect response.  In\n   * the end it would only ever update the URL bar with /c.\n   *\n   * In client-side routing using pushState/replaceState, we aim to emulate\n   * this behavior and we also do not update history until the end of the\n   * navigation (including processed redirects).  This means that we never\n   * actually touch history until we've processed redirects, so we just use\n   * the history action from the original navigation (PUSH or REPLACE).\n   */\n  async function startRedirectNavigation(request, redirect, isNavigation, _temp2) {\n    let {\n      submission,\n      fetcherSubmission,\n      preventScrollReset,\n      replace\n    } = _temp2 === void 0 ? {} : _temp2;\n    if (redirect.response.headers.has(\"X-Remix-Revalidate\")) {\n      isRevalidationRequired = true;\n    }\n    let location = redirect.response.headers.get(\"Location\");\n    invariant(location, \"Expected a Location header on the redirect Response\");\n    location = normalizeRedirectLocation(location, new URL(request.url), basename, init.history);\n    let redirectLocation = createLocation(state.location, location, {\n      _isRedirect: true\n    });\n    if (isBrowser) {\n      let isDocumentReload = false;\n      if (redirect.response.headers.has(\"X-Remix-Reload-Document\")) {\n        // Hard reload if the response contained X-Remix-Reload-Document\n        isDocumentReload = true;\n      } else if (ABSOLUTE_URL_REGEX.test(location)) {\n        const url = init.history.createURL(location);\n        isDocumentReload =\n        // Hard reload if it's an absolute URL to a new origin\n        url.origin !== routerWindow.location.origin ||\n        // Hard reload if it's an absolute URL that does not match our basename\n        stripBasename(url.pathname, basename) == null;\n      }\n      if (isDocumentReload) {\n        if (replace) {\n          routerWindow.location.replace(location);\n        } else {\n          routerWindow.location.assign(location);\n        }\n        return;\n      }\n    }\n    // There's no need to abort on redirects, since we don't detect the\n    // redirect until the action/loaders have settled\n    pendingNavigationController = null;\n    let redirectHistoryAction = replace === true || redirect.response.headers.has(\"X-Remix-Replace\") ? Action.Replace : Action.Push;\n    // Use the incoming submission if provided, fallback on the active one in\n    // state.navigation\n    let {\n      formMethod,\n      formAction,\n      formEncType\n    } = state.navigation;\n    if (!submission && !fetcherSubmission && formMethod && formAction && formEncType) {\n      submission = getSubmissionFromNavigation(state.navigation);\n    }\n    // If this was a 307/308 submission we want to preserve the HTTP method and\n    // re-submit the GET/POST/PUT/PATCH/DELETE as a submission navigation to the\n    // redirected location\n    let activeSubmission = submission || fetcherSubmission;\n    if (redirectPreserveMethodStatusCodes.has(redirect.response.status) && activeSubmission && isMutationMethod(activeSubmission.formMethod)) {\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        submission: _extends({}, activeSubmission, {\n          formAction: location\n        }),\n        // Preserve these flags across redirects\n        preventScrollReset: preventScrollReset || pendingPreventScrollReset,\n        enableViewTransition: isNavigation ? pendingViewTransitionEnabled : undefined\n      });\n    } else {\n      // If we have a navigation submission, we will preserve it through the\n      // redirect navigation\n      let overrideNavigation = getLoadingNavigation(redirectLocation, submission);\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        overrideNavigation,\n        // Send fetcher submissions through for shouldRevalidate\n        fetcherSubmission,\n        // Preserve these flags across redirects\n        preventScrollReset: preventScrollReset || pendingPreventScrollReset,\n        enableViewTransition: isNavigation ? pendingViewTransitionEnabled : undefined\n      });\n    }\n  }\n  // Utility wrapper for calling dataStrategy client-side without having to\n  // pass around the manifest, mapRouteProperties, etc.\n  async function callDataStrategy(type, state, request, matchesToLoad, matches, fetcherKey) {\n    let results;\n    let dataResults = {};\n    try {\n      results = await callDataStrategyImpl(dataStrategyImpl, type, state, request, matchesToLoad, matches, fetcherKey, manifest, mapRouteProperties);\n    } catch (e) {\n      // If the outer dataStrategy method throws, just return the error for all\n      // matches - and it'll naturally bubble to the root\n      matchesToLoad.forEach(m => {\n        dataResults[m.route.id] = {\n          type: ResultType.error,\n          error: e\n        };\n      });\n      return dataResults;\n    }\n    for (let [routeId, result] of Object.entries(results)) {\n      if (isRedirectDataStrategyResultResult(result)) {\n        let response = result.result;\n        dataResults[routeId] = {\n          type: ResultType.redirect,\n          response: normalizeRelativeRoutingRedirectResponse(response, request, routeId, matches, basename, future.v7_relativeSplatPath)\n        };\n      } else {\n        dataResults[routeId] = await convertDataStrategyResultToDataResult(result);\n      }\n    }\n    return dataResults;\n  }\n  async function callLoadersAndMaybeResolveData(state, matches, matchesToLoad, fetchersToLoad, request) {\n    let currentMatches = state.matches;\n    // Kick off loaders and fetchers in parallel\n    let loaderResultsPromise = callDataStrategy(\"loader\", state, request, matchesToLoad, matches, null);\n    let fetcherResultsPromise = Promise.all(fetchersToLoad.map(async f => {\n      if (f.matches && f.match && f.controller) {\n        let results = await callDataStrategy(\"loader\", state, createClientSideRequest(init.history, f.path, f.controller.signal), [f.match], f.matches, f.key);\n        let result = results[f.match.route.id];\n        // Fetcher results are keyed by fetcher key from here on out, not routeId\n        return {\n          [f.key]: result\n        };\n      } else {\n        return Promise.resolve({\n          [f.key]: {\n            type: ResultType.error,\n            error: getInternalRouterError(404, {\n              pathname: f.path\n            })\n          }\n        });\n      }\n    }));\n    let loaderResults = await loaderResultsPromise;\n    let fetcherResults = (await fetcherResultsPromise).reduce((acc, r) => Object.assign(acc, r), {});\n    await Promise.all([resolveNavigationDeferredResults(matches, loaderResults, request.signal, currentMatches, state.loaderData), resolveFetcherDeferredResults(matches, fetcherResults, fetchersToLoad)]);\n    return {\n      loaderResults,\n      fetcherResults\n    };\n  }\n  function interruptActiveLoads() {\n    // Every interruption triggers a revalidation\n    isRevalidationRequired = true;\n    // Cancel pending route-level deferreds and mark cancelled routes for\n    // revalidation\n    cancelledDeferredRoutes.push(...cancelActiveDeferreds());\n    // Abort in-flight fetcher loads\n    fetchLoadMatches.forEach((_, key) => {\n      if (fetchControllers.has(key)) {\n        cancelledFetcherLoads.add(key);\n      }\n      abortFetcher(key);\n    });\n  }\n  function updateFetcherState(key, fetcher, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n    state.fetchers.set(key, fetcher);\n    updateState({\n      fetchers: new Map(state.fetchers)\n    }, {\n      flushSync: (opts && opts.flushSync) === true\n    });\n  }\n  function setFetcherError(key, routeId, error, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n    let boundaryMatch = findNearestBoundary(state.matches, routeId);\n    deleteFetcher(key);\n    updateState({\n      errors: {\n        [boundaryMatch.route.id]: error\n      },\n      fetchers: new Map(state.fetchers)\n    }, {\n      flushSync: (opts && opts.flushSync) === true\n    });\n  }\n  function getFetcher(key) {\n    activeFetchers.set(key, (activeFetchers.get(key) || 0) + 1);\n    // If this fetcher was previously marked for deletion, unmark it since we\n    // have a new instance\n    if (deletedFetchers.has(key)) {\n      deletedFetchers.delete(key);\n    }\n    return state.fetchers.get(key) || IDLE_FETCHER;\n  }\n  function deleteFetcher(key) {\n    let fetcher = state.fetchers.get(key);\n    // Don't abort the controller if this is a deletion of a fetcher.submit()\n    // in it's loading phase since - we don't want to abort the corresponding\n    // revalidation and want them to complete and land\n    if (fetchControllers.has(key) && !(fetcher && fetcher.state === \"loading\" && fetchReloadIds.has(key))) {\n      abortFetcher(key);\n    }\n    fetchLoadMatches.delete(key);\n    fetchReloadIds.delete(key);\n    fetchRedirectIds.delete(key);\n    // If we opted into the flag we can clear this now since we're calling\n    // deleteFetcher() at the end of updateState() and we've already handed the\n    // deleted fetcher keys off to the data layer.\n    // If not, we're eagerly calling deleteFetcher() and we need to keep this\n    // Set populated until the next updateState call, and we'll clear\n    // `deletedFetchers` then\n    if (future.v7_fetcherPersist) {\n      deletedFetchers.delete(key);\n    }\n    cancelledFetcherLoads.delete(key);\n    state.fetchers.delete(key);\n  }\n  function deleteFetcherAndUpdateState(key) {\n    let count = (activeFetchers.get(key) || 0) - 1;\n    if (count <= 0) {\n      activeFetchers.delete(key);\n      deletedFetchers.add(key);\n      if (!future.v7_fetcherPersist) {\n        deleteFetcher(key);\n      }\n    } else {\n      activeFetchers.set(key, count);\n    }\n    updateState({\n      fetchers: new Map(state.fetchers)\n    });\n  }\n  function abortFetcher(key) {\n    let controller = fetchControllers.get(key);\n    if (controller) {\n      controller.abort();\n      fetchControllers.delete(key);\n    }\n  }\n  function markFetchersDone(keys) {\n    for (let key of keys) {\n      let fetcher = getFetcher(key);\n      let doneFetcher = getDoneFetcher(fetcher.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n  function markFetchRedirectsDone() {\n    let doneKeys = [];\n    let updatedFetchers = false;\n    for (let key of fetchRedirectIds) {\n      let fetcher = state.fetchers.get(key);\n      invariant(fetcher, \"Expected fetcher: \" + key);\n      if (fetcher.state === \"loading\") {\n        fetchRedirectIds.delete(key);\n        doneKeys.push(key);\n        updatedFetchers = true;\n      }\n    }\n    markFetchersDone(doneKeys);\n    return updatedFetchers;\n  }\n  function abortStaleFetchLoads(landedId) {\n    let yeetedKeys = [];\n    for (let [key, id] of fetchReloadIds) {\n      if (id < landedId) {\n        let fetcher = state.fetchers.get(key);\n        invariant(fetcher, \"Expected fetcher: \" + key);\n        if (fetcher.state === \"loading\") {\n          abortFetcher(key);\n          fetchReloadIds.delete(key);\n          yeetedKeys.push(key);\n        }\n      }\n    }\n    markFetchersDone(yeetedKeys);\n    return yeetedKeys.length > 0;\n  }\n  function getBlocker(key, fn) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n    if (blockerFunctions.get(key) !== fn) {\n      blockerFunctions.set(key, fn);\n    }\n    return blocker;\n  }\n  function deleteBlocker(key) {\n    state.blockers.delete(key);\n    blockerFunctions.delete(key);\n  }\n  // Utility function to update blockers, ensuring valid state transitions\n  function updateBlocker(key, newBlocker) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n    // Poor mans state machine :)\n    // https://mermaid.live/edit#pako:eNqVkc9OwzAMxl8l8nnjAYrEtDIOHEBIgwvKJTReGy3_lDpIqO27k6awMG0XcrLlnz87nwdonESogKXXBuE79rq75XZO3-yHds0RJVuv70YrPlUrCEe2HfrORS3rubqZfuhtpg5C9wk5tZ4VKcRUq88q9Z8RS0-48cE1iHJkL0ugbHuFLus9L6spZy8nX9MP2CNdomVaposqu3fGayT8T8-jJQwhepo_UtpgBQaDEUom04dZhAN1aJBDlUKJBxE1ceB2Smj0Mln-IBW5AFU2dwUiktt_2Qaq2dBfaKdEup85UV7Yd-dKjlnkabl2Pvr0DTkTreM\n    invariant(blocker.state === \"unblocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"proceeding\" || blocker.state === \"blocked\" && newBlocker.state === \"unblocked\" || blocker.state === \"proceeding\" && newBlocker.state === \"unblocked\", \"Invalid blocker state transition: \" + blocker.state + \" -> \" + newBlocker.state);\n    let blockers = new Map(state.blockers);\n    blockers.set(key, newBlocker);\n    updateState({\n      blockers\n    });\n  }\n  function shouldBlockNavigation(_ref2) {\n    let {\n      currentLocation,\n      nextLocation,\n      historyAction\n    } = _ref2;\n    if (blockerFunctions.size === 0) {\n      return;\n    }\n    // We ony support a single active blocker at the moment since we don't have\n    // any compelling use cases for multi-blocker yet\n    if (blockerFunctions.size > 1) {\n      warning(false, \"A router only supports one blocker at a time\");\n    }\n    let entries = Array.from(blockerFunctions.entries());\n    let [blockerKey, blockerFunction] = entries[entries.length - 1];\n    let blocker = state.blockers.get(blockerKey);\n    if (blocker && blocker.state === \"proceeding\") {\n      // If the blocker is currently proceeding, we don't need to re-check\n      // it and can let this navigation continue\n      return;\n    }\n    // At this point, we know we're unblocked/blocked so we need to check the\n    // user-provided blocker function\n    if (blockerFunction({\n      currentLocation,\n      nextLocation,\n      historyAction\n    })) {\n      return blockerKey;\n    }\n  }\n  function handleNavigational404(pathname) {\n    let error = getInternalRouterError(404, {\n      pathname\n    });\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let {\n      matches,\n      route\n    } = getShortCircuitMatches(routesToUse);\n    // Cancel all pending deferred on 404s since we don't keep any routes\n    cancelActiveDeferreds();\n    return {\n      notFoundMatches: matches,\n      route,\n      error\n    };\n  }\n  function cancelActiveDeferreds(predicate) {\n    let cancelledRouteIds = [];\n    activeDeferreds.forEach((dfd, routeId) => {\n      if (!predicate || predicate(routeId)) {\n        // Cancel the deferred - but do not remove from activeDeferreds here -\n        // we rely on the subscribers to do that so our tests can assert proper\n        // cleanup via _internalActiveDeferreds\n        dfd.cancel();\n        cancelledRouteIds.push(routeId);\n        activeDeferreds.delete(routeId);\n      }\n    });\n    return cancelledRouteIds;\n  }\n  // Opt in to capturing and reporting scroll positions during navigations,\n  // used by the <ScrollRestoration> component\n  function enableScrollRestoration(positions, getPosition, getKey) {\n    savedScrollPositions = positions;\n    getScrollPosition = getPosition;\n    getScrollRestorationKey = getKey || null;\n    // Perform initial hydration scroll restoration, since we miss the boat on\n    // the initial updateState() because we've not yet rendered <ScrollRestoration/>\n    // and therefore have no savedScrollPositions available\n    if (!initialScrollRestored && state.navigation === IDLE_NAVIGATION) {\n      initialScrollRestored = true;\n      let y = getSavedScrollPosition(state.location, state.matches);\n      if (y != null) {\n        updateState({\n          restoreScrollPosition: y\n        });\n      }\n    }\n    return () => {\n      savedScrollPositions = null;\n      getScrollPosition = null;\n      getScrollRestorationKey = null;\n    };\n  }\n  function getScrollKey(location, matches) {\n    if (getScrollRestorationKey) {\n      let key = getScrollRestorationKey(location, matches.map(m => convertRouteMatchToUiMatch(m, state.loaderData)));\n      return key || location.key;\n    }\n    return location.key;\n  }\n  function saveScrollPosition(location, matches) {\n    if (savedScrollPositions && getScrollPosition) {\n      let key = getScrollKey(location, matches);\n      savedScrollPositions[key] = getScrollPosition();\n    }\n  }\n  function getSavedScrollPosition(location, matches) {\n    if (savedScrollPositions) {\n      let key = getScrollKey(location, matches);\n      let y = savedScrollPositions[key];\n      if (typeof y === \"number\") {\n        return y;\n      }\n    }\n    return null;\n  }\n  function checkFogOfWar(matches, routesToUse, pathname) {\n    if (patchRoutesOnNavigationImpl) {\n      if (!matches) {\n        let fogMatches = matchRoutesImpl(routesToUse, pathname, basename, true);\n        return {\n          active: true,\n          matches: fogMatches || []\n        };\n      } else {\n        if (Object.keys(matches[0].params).length > 0) {\n          // If we matched a dynamic param or a splat, it might only be because\n          // we haven't yet discovered other routes that would match with a\n          // higher score.  Call patchRoutesOnNavigation just to be sure\n          let partialMatches = matchRoutesImpl(routesToUse, pathname, basename, true);\n          return {\n            active: true,\n            matches: partialMatches\n          };\n        }\n      }\n    }\n    return {\n      active: false,\n      matches: null\n    };\n  }\n  async function discoverRoutes(matches, pathname, signal, fetcherKey) {\n    if (!patchRoutesOnNavigationImpl) {\n      return {\n        type: \"success\",\n        matches\n      };\n    }\n    let partialMatches = matches;\n    while (true) {\n      let isNonHMR = inFlightDataRoutes == null;\n      let routesToUse = inFlightDataRoutes || dataRoutes;\n      let localManifest = manifest;\n      try {\n        await patchRoutesOnNavigationImpl({\n          signal,\n          path: pathname,\n          matches: partialMatches,\n          fetcherKey,\n          patch: (routeId, children) => {\n            if (signal.aborted) return;\n            patchRoutesImpl(routeId, children, routesToUse, localManifest, mapRouteProperties);\n          }\n        });\n      } catch (e) {\n        return {\n          type: \"error\",\n          error: e,\n          partialMatches\n        };\n      } finally {\n        // If we are not in the middle of an HMR revalidation and we changed the\n        // routes, provide a new identity so when we `updateState` at the end of\n        // this navigation/fetch `router.routes` will be a new identity and\n        // trigger a re-run of memoized `router.routes` dependencies.\n        // HMR will already update the identity and reflow when it lands\n        // `inFlightDataRoutes` in `completeNavigation`\n        if (isNonHMR && !signal.aborted) {\n          dataRoutes = [...dataRoutes];\n        }\n      }\n      if (signal.aborted) {\n        return {\n          type: \"aborted\"\n        };\n      }\n      let newMatches = matchRoutes(routesToUse, pathname, basename);\n      if (newMatches) {\n        return {\n          type: \"success\",\n          matches: newMatches\n        };\n      }\n      let newPartialMatches = matchRoutesImpl(routesToUse, pathname, basename, true);\n      // Avoid loops if the second pass results in the same partial matches\n      if (!newPartialMatches || partialMatches.length === newPartialMatches.length && partialMatches.every((m, i) => m.route.id === newPartialMatches[i].route.id)) {\n        return {\n          type: \"success\",\n          matches: null\n        };\n      }\n      partialMatches = newPartialMatches;\n    }\n  }\n  function _internalSetRoutes(newRoutes) {\n    manifest = {};\n    inFlightDataRoutes = convertRoutesToDataRoutes(newRoutes, mapRouteProperties, undefined, manifest);\n  }\n  function patchRoutes(routeId, children) {\n    let isNonHMR = inFlightDataRoutes == null;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    patchRoutesImpl(routeId, children, routesToUse, manifest, mapRouteProperties);\n    // If we are not in the middle of an HMR revalidation and we changed the\n    // routes, provide a new identity and trigger a reflow via `updateState`\n    // to re-run memoized `router.routes` dependencies.\n    // HMR will already update the identity and reflow when it lands\n    // `inFlightDataRoutes` in `completeNavigation`\n    if (isNonHMR) {\n      dataRoutes = [...dataRoutes];\n      updateState({});\n    }\n  }\n  router = {\n    get basename() {\n      return basename;\n    },\n    get future() {\n      return future;\n    },\n    get state() {\n      return state;\n    },\n    get routes() {\n      return dataRoutes;\n    },\n    get window() {\n      return routerWindow;\n    },\n    initialize,\n    subscribe,\n    enableScrollRestoration,\n    navigate,\n    fetch,\n    revalidate,\n    // Passthrough to history-aware createHref used by useHref so we get proper\n    // hash-aware URLs in DOM paths\n    createHref: to => init.history.createHref(to),\n    encodeLocation: to => init.history.encodeLocation(to),\n    getFetcher,\n    deleteFetcher: deleteFetcherAndUpdateState,\n    dispose,\n    getBlocker,\n    deleteBlocker,\n    patchRoutes,\n    _internalFetchControllers: fetchControllers,\n    _internalActiveDeferreds: activeDeferreds,\n    // TODO: Remove setRoutes, it's temporary to avoid dealing with\n    // updating the tree while validating the update algorithm.\n    _internalSetRoutes\n  };\n  return router;\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region createStaticHandler\n////////////////////////////////////////////////////////////////////////////////\nconst UNSAFE_DEFERRED_SYMBOL = Symbol(\"deferred\");\nfunction createStaticHandler(routes, opts) {\n  invariant(routes.length > 0, \"You must provide a non-empty routes array to createStaticHandler\");\n  let manifest = {};\n  let basename = (opts ? opts.basename : null) || \"/\";\n  let mapRouteProperties;\n  if (opts != null && opts.mapRouteProperties) {\n    mapRouteProperties = opts.mapRouteProperties;\n  } else if (opts != null && opts.detectErrorBoundary) {\n    // If they are still using the deprecated version, wrap it with the new API\n    let detectErrorBoundary = opts.detectErrorBoundary;\n    mapRouteProperties = route => ({\n      hasErrorBoundary: detectErrorBoundary(route)\n    });\n  } else {\n    mapRouteProperties = defaultMapRouteProperties;\n  }\n  // Config driven behavior flags\n  let future = _extends({\n    v7_relativeSplatPath: false,\n    v7_throwAbortReason: false\n  }, opts ? opts.future : null);\n  let dataRoutes = convertRoutesToDataRoutes(routes, mapRouteProperties, undefined, manifest);\n  /**\n   * The query() method is intended for document requests, in which we want to\n   * call an optional action and potentially multiple loaders for all nested\n   * routes.  It returns a StaticHandlerContext object, which is very similar\n   * to the router state (location, loaderData, actionData, errors, etc.) and\n   * also adds SSR-specific information such as the statusCode and headers\n   * from action/loaders Responses.\n   *\n   * It _should_ never throw and should report all errors through the\n   * returned context.errors object, properly associating errors to their error\n   * boundary.  Additionally, it tracks _deepestRenderedBoundaryId which can be\n   * used to emulate React error boundaries during SSr by performing a second\n   * pass only down to the boundaryId.\n   *\n   * The one exception where we do not return a StaticHandlerContext is when a\n   * redirect response is returned or thrown from any action/loader.  We\n   * propagate that out and return the raw Response so the HTTP server can\n   * return it directly.\n   *\n   * - `opts.requestContext` is an optional server context that will be passed\n   *   to actions/loaders in the `context` parameter\n   * - `opts.skipLoaderErrorBubbling` is an optional parameter that will prevent\n   *   the bubbling of errors which allows single-fetch-type implementations\n   *   where the client will handle the bubbling and we may need to return data\n   *   for the handling route\n   */\n  async function query(request, _temp3) {\n    let {\n      requestContext,\n      skipLoaderErrorBubbling,\n      dataStrategy\n    } = _temp3 === void 0 ? {} : _temp3;\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n    // SSR supports HEAD requests while SPA doesn't\n    if (!isValidMethod(method) && method !== \"HEAD\") {\n      let error = getInternalRouterError(405, {\n        method\n      });\n      let {\n        matches: methodNotAllowedMatches,\n        route\n      } = getShortCircuitMatches(dataRoutes);\n      return {\n        basename,\n        location,\n        matches: methodNotAllowedMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null\n      };\n    } else if (!matches) {\n      let error = getInternalRouterError(404, {\n        pathname: location.pathname\n      });\n      let {\n        matches: notFoundMatches,\n        route\n      } = getShortCircuitMatches(dataRoutes);\n      return {\n        basename,\n        location,\n        matches: notFoundMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null\n      };\n    }\n    let result = await queryImpl(request, location, matches, requestContext, dataStrategy || null, skipLoaderErrorBubbling === true, null);\n    if (isResponse(result)) {\n      return result;\n    }\n    // When returning StaticHandlerContext, we patch back in the location here\n    // since we need it for React Context.  But this helps keep our submit and\n    // loadRouteData operating on a Request instead of a Location\n    return _extends({\n      location,\n      basename\n    }, result);\n  }\n  /**\n   * The queryRoute() method is intended for targeted route requests, either\n   * for fetch ?_data requests or resource route requests.  In this case, we\n   * are only ever calling a single action or loader, and we are returning the\n   * returned value directly.  In most cases, this will be a Response returned\n   * from the action/loader, but it may be a primitive or other value as well -\n   * and in such cases the calling context should handle that accordingly.\n   *\n   * We do respect the throw/return differentiation, so if an action/loader\n   * throws, then this method will throw the value.  This is important so we\n   * can do proper boundary identification in Remix where a thrown Response\n   * must go to the Catch Boundary but a returned Response is happy-path.\n   *\n   * One thing to note is that any Router-initiated Errors that make sense\n   * to associate with a status code will be thrown as an ErrorResponse\n   * instance which include the raw Error, such that the calling context can\n   * serialize the error as they see fit while including the proper response\n   * code.  Examples here are 404 and 405 errors that occur prior to reaching\n   * any user-defined loaders.\n   *\n   * - `opts.routeId` allows you to specify the specific route handler to call.\n   *   If not provided the handler will determine the proper route by matching\n   *   against `request.url`\n   * - `opts.requestContext` is an optional server context that will be passed\n   *    to actions/loaders in the `context` parameter\n   */\n  async function queryRoute(request, _temp4) {\n    let {\n      routeId,\n      requestContext,\n      dataStrategy\n    } = _temp4 === void 0 ? {} : _temp4;\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n    // SSR supports HEAD requests while SPA doesn't\n    if (!isValidMethod(method) && method !== \"HEAD\" && method !== \"OPTIONS\") {\n      throw getInternalRouterError(405, {\n        method\n      });\n    } else if (!matches) {\n      throw getInternalRouterError(404, {\n        pathname: location.pathname\n      });\n    }\n    let match = routeId ? matches.find(m => m.route.id === routeId) : getTargetMatch(matches, location);\n    if (routeId && !match) {\n      throw getInternalRouterError(403, {\n        pathname: location.pathname,\n        routeId\n      });\n    } else if (!match) {\n      // This should never hit I don't think?\n      throw getInternalRouterError(404, {\n        pathname: location.pathname\n      });\n    }\n    let result = await queryImpl(request, location, matches, requestContext, dataStrategy || null, false, match);\n    if (isResponse(result)) {\n      return result;\n    }\n    let error = result.errors ? Object.values(result.errors)[0] : undefined;\n    if (error !== undefined) {\n      // If we got back result.errors, that means the loader/action threw\n      // _something_ that wasn't a Response, but it's not guaranteed/required\n      // to be an `instanceof Error` either, so we have to use throw here to\n      // preserve the \"error\" state outside of queryImpl.\n      throw error;\n    }\n    // Pick off the right state value to return\n    if (result.actionData) {\n      return Object.values(result.actionData)[0];\n    }\n    if (result.loaderData) {\n      var _result$activeDeferre;\n      let data = Object.values(result.loaderData)[0];\n      if ((_result$activeDeferre = result.activeDeferreds) != null && _result$activeDeferre[match.route.id]) {\n        data[UNSAFE_DEFERRED_SYMBOL] = result.activeDeferreds[match.route.id];\n      }\n      return data;\n    }\n    return undefined;\n  }\n  async function queryImpl(request, location, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch) {\n    invariant(request.signal, \"query()/queryRoute() requests must contain an AbortController signal\");\n    try {\n      if (isMutationMethod(request.method.toLowerCase())) {\n        let result = await submit(request, matches, routeMatch || getTargetMatch(matches, location), requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch != null);\n        return result;\n      }\n      let result = await loadRouteData(request, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch);\n      return isResponse(result) ? result : _extends({}, result, {\n        actionData: null,\n        actionHeaders: {}\n      });\n    } catch (e) {\n      // If the user threw/returned a Response in callLoaderOrAction for a\n      // `queryRoute` call, we throw the `DataStrategyResult` to bail out early\n      // and then return or throw the raw Response here accordingly\n      if (isDataStrategyResult(e) && isResponse(e.result)) {\n        if (e.type === ResultType.error) {\n          throw e.result;\n        }\n        return e.result;\n      }\n      // Redirects are always returned since they don't propagate to catch\n      // boundaries\n      if (isRedirectResponse(e)) {\n        return e;\n      }\n      throw e;\n    }\n  }\n  async function submit(request, matches, actionMatch, requestContext, dataStrategy, skipLoaderErrorBubbling, isRouteRequest) {\n    let result;\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: actionMatch.route.id\n      });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: ResultType.error,\n        error\n      };\n    } else {\n      let results = await callDataStrategy(\"action\", request, [actionMatch], matches, isRouteRequest, requestContext, dataStrategy);\n      result = results[actionMatch.route.id];\n      if (request.signal.aborted) {\n        throwStaticHandlerAbortedError(request, isRouteRequest, future);\n      }\n    }\n    if (isRedirectResult(result)) {\n      // Uhhhh - this should never happen, we should always throw these from\n      // callLoaderOrAction, but the type narrowing here keeps TS happy and we\n      // can get back on the \"throw all redirect responses\" train here should\n      // this ever happen :/\n      throw new Response(null, {\n        status: result.response.status,\n        headers: {\n          Location: result.response.headers.get(\"Location\")\n        }\n      });\n    }\n    if (isDeferredResult(result)) {\n      let error = getInternalRouterError(400, {\n        type: \"defer-action\"\n      });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: ResultType.error,\n        error\n      };\n    }\n    if (isRouteRequest) {\n      // Note: This should only be non-Response values if we get here, since\n      // isRouteRequest should throw any Response received in callLoaderOrAction\n      if (isErrorResult(result)) {\n        throw result.error;\n      }\n      return {\n        matches: [actionMatch],\n        loaderData: {},\n        actionData: {\n          [actionMatch.route.id]: result.data\n        },\n        errors: null,\n        // Note: statusCode + headers are unused here since queryRoute will\n        // return the raw Response or value\n        statusCode: 200,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null\n      };\n    }\n    // Create a GET request for the loaders\n    let loaderRequest = new Request(request.url, {\n      headers: request.headers,\n      redirect: request.redirect,\n      signal: request.signal\n    });\n    if (isErrorResult(result)) {\n      // Store off the pending error - we use it to determine which loaders\n      // to call and will commit it when we complete the navigation\n      let boundaryMatch = skipLoaderErrorBubbling ? actionMatch : findNearestBoundary(matches, actionMatch.route.id);\n      let context = await loadRouteData(loaderRequest, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, null, [boundaryMatch.route.id, result]);\n      // action status codes take precedence over loader status codes\n      return _extends({}, context, {\n        statusCode: isRouteErrorResponse(result.error) ? result.error.status : result.statusCode != null ? result.statusCode : 500,\n        actionData: null,\n        actionHeaders: _extends({}, result.headers ? {\n          [actionMatch.route.id]: result.headers\n        } : {})\n      });\n    }\n    let context = await loadRouteData(loaderRequest, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, null);\n    return _extends({}, context, {\n      actionData: {\n        [actionMatch.route.id]: result.data\n      }\n    }, result.statusCode ? {\n      statusCode: result.statusCode\n    } : {}, {\n      actionHeaders: result.headers ? {\n        [actionMatch.route.id]: result.headers\n      } : {}\n    });\n  }\n  async function loadRouteData(request, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch, pendingActionResult) {\n    let isRouteRequest = routeMatch != null;\n    // Short circuit if we have no loaders to run (queryRoute())\n    if (isRouteRequest && !(routeMatch != null && routeMatch.route.loader) && !(routeMatch != null && routeMatch.route.lazy)) {\n      throw getInternalRouterError(400, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: routeMatch == null ? void 0 : routeMatch.route.id\n      });\n    }\n    let requestMatches = routeMatch ? [routeMatch] : pendingActionResult && isErrorResult(pendingActionResult[1]) ? getLoaderMatchesUntilBoundary(matches, pendingActionResult[0]) : matches;\n    let matchesToLoad = requestMatches.filter(m => m.route.loader || m.route.lazy);\n    // Short circuit if we have no loaders to run (query())\n    if (matchesToLoad.length === 0) {\n      return {\n        matches,\n        // Add a null for all matched routes for proper revalidation on the client\n        loaderData: matches.reduce((acc, m) => Object.assign(acc, {\n          [m.route.id]: null\n        }), {}),\n        errors: pendingActionResult && isErrorResult(pendingActionResult[1]) ? {\n          [pendingActionResult[0]]: pendingActionResult[1].error\n        } : null,\n        statusCode: 200,\n        loaderHeaders: {},\n        activeDeferreds: null\n      };\n    }\n    let results = await callDataStrategy(\"loader\", request, matchesToLoad, matches, isRouteRequest, requestContext, dataStrategy);\n    if (request.signal.aborted) {\n      throwStaticHandlerAbortedError(request, isRouteRequest, future);\n    }\n    // Process and commit output from loaders\n    let activeDeferreds = new Map();\n    let context = processRouteLoaderData(matches, results, pendingActionResult, activeDeferreds, skipLoaderErrorBubbling);\n    // Add a null for any non-loader matches for proper revalidation on the client\n    let executedLoaders = new Set(matchesToLoad.map(match => match.route.id));\n    matches.forEach(match => {\n      if (!executedLoaders.has(match.route.id)) {\n        context.loaderData[match.route.id] = null;\n      }\n    });\n    return _extends({}, context, {\n      matches,\n      activeDeferreds: activeDeferreds.size > 0 ? Object.fromEntries(activeDeferreds.entries()) : null\n    });\n  }\n  // Utility wrapper for calling dataStrategy server-side without having to\n  // pass around the manifest, mapRouteProperties, etc.\n  async function callDataStrategy(type, request, matchesToLoad, matches, isRouteRequest, requestContext, dataStrategy) {\n    let results = await callDataStrategyImpl(dataStrategy || defaultDataStrategy, type, null, request, matchesToLoad, matches, null, manifest, mapRouteProperties, requestContext);\n    let dataResults = {};\n    await Promise.all(matches.map(async match => {\n      if (!(match.route.id in results)) {\n        return;\n      }\n      let result = results[match.route.id];\n      if (isRedirectDataStrategyResultResult(result)) {\n        let response = result.result;\n        // Throw redirects and let the server handle them with an HTTP redirect\n        throw normalizeRelativeRoutingRedirectResponse(response, request, match.route.id, matches, basename, future.v7_relativeSplatPath);\n      }\n      if (isResponse(result.result) && isRouteRequest) {\n        // For SSR single-route requests, we want to hand Responses back\n        // directly without unwrapping\n        throw result;\n      }\n      dataResults[match.route.id] = await convertDataStrategyResultToDataResult(result);\n    }));\n    return dataResults;\n  }\n  return {\n    dataRoutes,\n    query,\n    queryRoute\n  };\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region Helpers\n////////////////////////////////////////////////////////////////////////////////\n/**\n * Given an existing StaticHandlerContext and an error thrown at render time,\n * provide an updated StaticHandlerContext suitable for a second SSR render\n */\nfunction getStaticContextFromError(routes, context, error) {\n  let newContext = _extends({}, context, {\n    statusCode: isRouteErrorResponse(error) ? error.status : 500,\n    errors: {\n      [context._deepestRenderedBoundaryId || routes[0].id]: error\n    }\n  });\n  return newContext;\n}\nfunction throwStaticHandlerAbortedError(request, isRouteRequest, future) {\n  if (future.v7_throwAbortReason && request.signal.reason !== undefined) {\n    throw request.signal.reason;\n  }\n  let method = isRouteRequest ? \"queryRoute\" : \"query\";\n  throw new Error(method + \"() call aborted: \" + request.method + \" \" + request.url);\n}\nfunction isSubmissionNavigation(opts) {\n  return opts != null && (\"formData\" in opts && opts.formData != null || \"body\" in opts && opts.body !== undefined);\n}\nfunction normalizeTo(location, matches, basename, prependBasename, to, v7_relativeSplatPath, fromRouteId, relative) {\n  let contextualMatches;\n  let activeRouteMatch;\n  if (fromRouteId) {\n    // Grab matches up to the calling route so our route-relative logic is\n    // relative to the correct source route\n    contextualMatches = [];\n    for (let match of matches) {\n      contextualMatches.push(match);\n      if (match.route.id === fromRouteId) {\n        activeRouteMatch = match;\n        break;\n      }\n    }\n  } else {\n    contextualMatches = matches;\n    activeRouteMatch = matches[matches.length - 1];\n  }\n  // Resolve the relative path\n  let path = resolveTo(to ? to : \".\", getResolveToMatches(contextualMatches, v7_relativeSplatPath), stripBasename(location.pathname, basename) || location.pathname, relative === \"path\");\n  // When `to` is not specified we inherit search/hash from the current\n  // location, unlike when to=\".\" and we just inherit the path.\n  // See https://github.com/remix-run/remix/issues/927\n  if (to == null) {\n    path.search = location.search;\n    path.hash = location.hash;\n  }\n  // Account for `?index` params when routing to the current location\n  if ((to == null || to === \"\" || to === \".\") && activeRouteMatch) {\n    let nakedIndex = hasNakedIndexQuery(path.search);\n    if (activeRouteMatch.route.index && !nakedIndex) {\n      // Add one when we're targeting an index route\n      path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n    } else if (!activeRouteMatch.route.index && nakedIndex) {\n      // Remove existing ones when we're not\n      let params = new URLSearchParams(path.search);\n      let indexValues = params.getAll(\"index\");\n      params.delete(\"index\");\n      indexValues.filter(v => v).forEach(v => params.append(\"index\", v));\n      let qs = params.toString();\n      path.search = qs ? \"?\" + qs : \"\";\n    }\n  }\n  // If we're operating within a basename, prepend it to the pathname.  If\n  // this is a root navigation, then just use the raw basename which allows\n  // the basename to have full control over the presence of a trailing slash\n  // on root actions\n  if (prependBasename && basename !== \"/\") {\n    path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n  return createPath(path);\n}\n// Normalize navigation options by converting formMethod=GET formData objects to\n// URLSearchParams so they behave identically to links with query params\nfunction normalizeNavigateOptions(normalizeFormMethod, isFetcher, path, opts) {\n  // Return location verbatim on non-submission navigations\n  if (!opts || !isSubmissionNavigation(opts)) {\n    return {\n      path\n    };\n  }\n  if (opts.formMethod && !isValidMethod(opts.formMethod)) {\n    return {\n      path,\n      error: getInternalRouterError(405, {\n        method: opts.formMethod\n      })\n    };\n  }\n  let getInvalidBodyError = () => ({\n    path,\n    error: getInternalRouterError(400, {\n      type: \"invalid-body\"\n    })\n  });\n  // Create a Submission on non-GET navigations\n  let rawFormMethod = opts.formMethod || \"get\";\n  let formMethod = normalizeFormMethod ? rawFormMethod.toUpperCase() : rawFormMethod.toLowerCase();\n  let formAction = stripHashFromPath(path);\n  if (opts.body !== undefined) {\n    if (opts.formEncType === \"text/plain\") {\n      // text only support POST/PUT/PATCH/DELETE submissions\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n      let text = typeof opts.body === \"string\" ? opts.body : opts.body instanceof FormData || opts.body instanceof URLSearchParams ?\n      // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#plain-text-form-data\n      Array.from(opts.body.entries()).reduce((acc, _ref3) => {\n        let [name, value] = _ref3;\n        return \"\" + acc + name + \"=\" + value + \"\\n\";\n      }, \"\") : String(opts.body);\n      return {\n        path,\n        submission: {\n          formMethod,\n          formAction,\n          formEncType: opts.formEncType,\n          formData: undefined,\n          json: undefined,\n          text\n        }\n      };\n    } else if (opts.formEncType === \"application/json\") {\n      // json only supports POST/PUT/PATCH/DELETE submissions\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n      try {\n        let json = typeof opts.body === \"string\" ? JSON.parse(opts.body) : opts.body;\n        return {\n          path,\n          submission: {\n            formMethod,\n            formAction,\n            formEncType: opts.formEncType,\n            formData: undefined,\n            json,\n            text: undefined\n          }\n        };\n      } catch (e) {\n        return getInvalidBodyError();\n      }\n    }\n  }\n  invariant(typeof FormData === \"function\", \"FormData is not available in this environment\");\n  let searchParams;\n  let formData;\n  if (opts.formData) {\n    searchParams = convertFormDataToSearchParams(opts.formData);\n    formData = opts.formData;\n  } else if (opts.body instanceof FormData) {\n    searchParams = convertFormDataToSearchParams(opts.body);\n    formData = opts.body;\n  } else if (opts.body instanceof URLSearchParams) {\n    searchParams = opts.body;\n    formData = convertSearchParamsToFormData(searchParams);\n  } else if (opts.body == null) {\n    searchParams = new URLSearchParams();\n    formData = new FormData();\n  } else {\n    try {\n      searchParams = new URLSearchParams(opts.body);\n      formData = convertSearchParamsToFormData(searchParams);\n    } catch (e) {\n      return getInvalidBodyError();\n    }\n  }\n  let submission = {\n    formMethod,\n    formAction,\n    formEncType: opts && opts.formEncType || \"application/x-www-form-urlencoded\",\n    formData,\n    json: undefined,\n    text: undefined\n  };\n  if (isMutationMethod(submission.formMethod)) {\n    return {\n      path,\n      submission\n    };\n  }\n  // Flatten submission onto URLSearchParams for GET submissions\n  let parsedPath = parsePath(path);\n  // On GET navigation submissions we can drop the ?index param from the\n  // resulting location since all loaders will run.  But fetcher GET submissions\n  // only run a single loader so we need to preserve any incoming ?index params\n  if (isFetcher && parsedPath.search && hasNakedIndexQuery(parsedPath.search)) {\n    searchParams.append(\"index\", \"\");\n  }\n  parsedPath.search = \"?\" + searchParams;\n  return {\n    path: createPath(parsedPath),\n    submission\n  };\n}\n// Filter out all routes at/below any caught error as they aren't going to\n// render so we don't need to load them\nfunction getLoaderMatchesUntilBoundary(matches, boundaryId, includeBoundary) {\n  if (includeBoundary === void 0) {\n    includeBoundary = false;\n  }\n  let index = matches.findIndex(m => m.route.id === boundaryId);\n  if (index >= 0) {\n    return matches.slice(0, includeBoundary ? index + 1 : index);\n  }\n  return matches;\n}\nfunction getMatchesToLoad(history, state, matches, submission, location, initialHydration, skipActionErrorRevalidation, isRevalidationRequired, cancelledDeferredRoutes, cancelledFetcherLoads, deletedFetchers, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, pendingActionResult) {\n  let actionResult = pendingActionResult ? isErrorResult(pendingActionResult[1]) ? pendingActionResult[1].error : pendingActionResult[1].data : undefined;\n  let currentUrl = history.createURL(state.location);\n  let nextUrl = history.createURL(location);\n  // Pick navigation matches that are net-new or qualify for revalidation\n  let boundaryMatches = matches;\n  if (initialHydration && state.errors) {\n    // On initial hydration, only consider matches up to _and including_ the boundary.\n    // This is inclusive to handle cases where a server loader ran successfully,\n    // a child server loader bubbled up to this route, but this route has\n    // `clientLoader.hydrate` so we want to still run the `clientLoader` so that\n    // we have a complete version of `loaderData`\n    boundaryMatches = getLoaderMatchesUntilBoundary(matches, Object.keys(state.errors)[0], true);\n  } else if (pendingActionResult && isErrorResult(pendingActionResult[1])) {\n    // If an action threw an error, we call loaders up to, but not including the\n    // boundary\n    boundaryMatches = getLoaderMatchesUntilBoundary(matches, pendingActionResult[0]);\n  }\n  // Don't revalidate loaders by default after action 4xx/5xx responses\n  // when the flag is enabled.  They can still opt-into revalidation via\n  // `shouldRevalidate` via `actionResult`\n  let actionStatus = pendingActionResult ? pendingActionResult[1].statusCode : undefined;\n  let shouldSkipRevalidation = skipActionErrorRevalidation && actionStatus && actionStatus >= 400;\n  let navigationMatches = boundaryMatches.filter((match, index) => {\n    let {\n      route\n    } = match;\n    if (route.lazy) {\n      // We haven't loaded this route yet so we don't know if it's got a loader!\n      return true;\n    }\n    if (route.loader == null) {\n      return false;\n    }\n    if (initialHydration) {\n      return shouldLoadRouteOnHydration(route, state.loaderData, state.errors);\n    }\n    // Always call the loader on new route instances and pending defer cancellations\n    if (isNewLoader(state.loaderData, state.matches[index], match) || cancelledDeferredRoutes.some(id => id === match.route.id)) {\n      return true;\n    }\n    // This is the default implementation for when we revalidate.  If the route\n    // provides it's own implementation, then we give them full control but\n    // provide this value so they can leverage it if needed after they check\n    // their own specific use cases\n    let currentRouteMatch = state.matches[index];\n    let nextRouteMatch = match;\n    return shouldRevalidateLoader(match, _extends({\n      currentUrl,\n      currentParams: currentRouteMatch.params,\n      nextUrl,\n      nextParams: nextRouteMatch.params\n    }, submission, {\n      actionResult,\n      actionStatus,\n      defaultShouldRevalidate: shouldSkipRevalidation ? false :\n      // Forced revalidation due to submission, useRevalidator, or X-Remix-Revalidate\n      isRevalidationRequired || currentUrl.pathname + currentUrl.search === nextUrl.pathname + nextUrl.search ||\n      // Search params affect all loaders\n      currentUrl.search !== nextUrl.search || isNewRouteInstance(currentRouteMatch, nextRouteMatch)\n    }));\n  });\n  // Pick fetcher.loads that need to be revalidated\n  let revalidatingFetchers = [];\n  fetchLoadMatches.forEach((f, key) => {\n    // Don't revalidate:\n    //  - on initial hydration (shouldn't be any fetchers then anyway)\n    //  - if fetcher won't be present in the subsequent render\n    //    - no longer matches the URL (v7_fetcherPersist=false)\n    //    - was unmounted but persisted due to v7_fetcherPersist=true\n    if (initialHydration || !matches.some(m => m.route.id === f.routeId) || deletedFetchers.has(key)) {\n      return;\n    }\n    let fetcherMatches = matchRoutes(routesToUse, f.path, basename);\n    // If the fetcher path no longer matches, push it in with null matches so\n    // we can trigger a 404 in callLoadersAndMaybeResolveData.  Note this is\n    // currently only a use-case for Remix HMR where the route tree can change\n    // at runtime and remove a route previously loaded via a fetcher\n    if (!fetcherMatches) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: null,\n        match: null,\n        controller: null\n      });\n      return;\n    }\n    // Revalidating fetchers are decoupled from the route matches since they\n    // load from a static href.  They revalidate based on explicit revalidation\n    // (submission, useRevalidator, or X-Remix-Revalidate)\n    let fetcher = state.fetchers.get(key);\n    let fetcherMatch = getTargetMatch(fetcherMatches, f.path);\n    let shouldRevalidate = false;\n    if (fetchRedirectIds.has(key)) {\n      // Never trigger a revalidation of an actively redirecting fetcher\n      shouldRevalidate = false;\n    } else if (cancelledFetcherLoads.has(key)) {\n      // Always mark for revalidation if the fetcher was cancelled\n      cancelledFetcherLoads.delete(key);\n      shouldRevalidate = true;\n    } else if (fetcher && fetcher.state !== \"idle\" && fetcher.data === undefined) {\n      // If the fetcher hasn't ever completed loading yet, then this isn't a\n      // revalidation, it would just be a brand new load if an explicit\n      // revalidation is required\n      shouldRevalidate = isRevalidationRequired;\n    } else {\n      // Otherwise fall back on any user-defined shouldRevalidate, defaulting\n      // to explicit revalidations only\n      shouldRevalidate = shouldRevalidateLoader(fetcherMatch, _extends({\n        currentUrl,\n        currentParams: state.matches[state.matches.length - 1].params,\n        nextUrl,\n        nextParams: matches[matches.length - 1].params\n      }, submission, {\n        actionResult,\n        actionStatus,\n        defaultShouldRevalidate: shouldSkipRevalidation ? false : isRevalidationRequired\n      }));\n    }\n    if (shouldRevalidate) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: fetcherMatches,\n        match: fetcherMatch,\n        controller: new AbortController()\n      });\n    }\n  });\n  return [navigationMatches, revalidatingFetchers];\n}\nfunction shouldLoadRouteOnHydration(route, loaderData, errors) {\n  // We dunno if we have a loader - gotta find out!\n  if (route.lazy) {\n    return true;\n  }\n  // No loader, nothing to initialize\n  if (!route.loader) {\n    return false;\n  }\n  let hasData = loaderData != null && loaderData[route.id] !== undefined;\n  let hasError = errors != null && errors[route.id] !== undefined;\n  // Don't run if we error'd during SSR\n  if (!hasData && hasError) {\n    return false;\n  }\n  // Explicitly opting-in to running on hydration\n  if (typeof route.loader === \"function\" && route.loader.hydrate === true) {\n    return true;\n  }\n  // Otherwise, run if we're not yet initialized with anything\n  return !hasData && !hasError;\n}\nfunction isNewLoader(currentLoaderData, currentMatch, match) {\n  let isNew =\n  // [a] -> [a, b]\n  !currentMatch ||\n  // [a, b] -> [a, c]\n  match.route.id !== currentMatch.route.id;\n  // Handle the case that we don't have data for a re-used route, potentially\n  // from a prior error or from a cancelled pending deferred\n  let isMissingData = currentLoaderData[match.route.id] === undefined;\n  // Always load if this is a net-new route or we don't yet have data\n  return isNew || isMissingData;\n}\nfunction isNewRouteInstance(currentMatch, match) {\n  let currentPath = currentMatch.route.path;\n  return (\n    // param change for this match, /users/123 -> /users/456\n    currentMatch.pathname !== match.pathname ||\n    // splat param changed, which is not present in match.path\n    // e.g. /files/images/avatar.jpg -> files/finances.xls\n    currentPath != null && currentPath.endsWith(\"*\") && currentMatch.params[\"*\"] !== match.params[\"*\"]\n  );\n}\nfunction shouldRevalidateLoader(loaderMatch, arg) {\n  if (loaderMatch.route.shouldRevalidate) {\n    let routeChoice = loaderMatch.route.shouldRevalidate(arg);\n    if (typeof routeChoice === \"boolean\") {\n      return routeChoice;\n    }\n  }\n  return arg.defaultShouldRevalidate;\n}\nfunction patchRoutesImpl(routeId, children, routesToUse, manifest, mapRouteProperties) {\n  var _childrenToPatch;\n  let childrenToPatch;\n  if (routeId) {\n    let route = manifest[routeId];\n    invariant(route, \"No route found to patch children into: routeId = \" + routeId);\n    if (!route.children) {\n      route.children = [];\n    }\n    childrenToPatch = route.children;\n  } else {\n    childrenToPatch = routesToUse;\n  }\n  // Don't patch in routes we already know about so that `patch` is idempotent\n  // to simplify user-land code. This is useful because we re-call the\n  // `patchRoutesOnNavigation` function for matched routes with params.\n  let uniqueChildren = children.filter(newRoute => !childrenToPatch.some(existingRoute => isSameRoute(newRoute, existingRoute)));\n  let newRoutes = convertRoutesToDataRoutes(uniqueChildren, mapRouteProperties, [routeId || \"_\", \"patch\", String(((_childrenToPatch = childrenToPatch) == null ? void 0 : _childrenToPatch.length) || \"0\")], manifest);\n  childrenToPatch.push(...newRoutes);\n}\nfunction isSameRoute(newRoute, existingRoute) {\n  // Most optimal check is by id\n  if (\"id\" in newRoute && \"id\" in existingRoute && newRoute.id === existingRoute.id) {\n    return true;\n  }\n  // Second is by pathing differences\n  if (!(newRoute.index === existingRoute.index && newRoute.path === existingRoute.path && newRoute.caseSensitive === existingRoute.caseSensitive)) {\n    return false;\n  }\n  // Pathless layout routes are trickier since we need to check children.\n  // If they have no children then they're the same as far as we can tell\n  if ((!newRoute.children || newRoute.children.length === 0) && (!existingRoute.children || existingRoute.children.length === 0)) {\n    return true;\n  }\n  // Otherwise, we look to see if every child in the new route is already\n  // represented in the existing route's children\n  return newRoute.children.every((aChild, i) => {\n    var _existingRoute$childr;\n    return (_existingRoute$childr = existingRoute.children) == null ? void 0 : _existingRoute$childr.some(bChild => isSameRoute(aChild, bChild));\n  });\n}\n/**\n * Execute route.lazy() methods to lazily load route modules (loader, action,\n * shouldRevalidate) and update the routeManifest in place which shares objects\n * with dataRoutes so those get updated as well.\n */\nasync function loadLazyRouteModule(route, mapRouteProperties, manifest) {\n  if (!route.lazy) {\n    return;\n  }\n  let lazyRoute = await route.lazy();\n  // If the lazy route function was executed and removed by another parallel\n  // call then we can return - first lazy() to finish wins because the return\n  // value of lazy is expected to be static\n  if (!route.lazy) {\n    return;\n  }\n  let routeToUpdate = manifest[route.id];\n  invariant(routeToUpdate, \"No route found in manifest\");\n  // Update the route in place.  This should be safe because there's no way\n  // we could yet be sitting on this route as we can't get there without\n  // resolving lazy() first.\n  //\n  // This is different than the HMR \"update\" use-case where we may actively be\n  // on the route being updated.  The main concern boils down to \"does this\n  // mutation affect any ongoing navigations or any current state.matches\n  // values?\".  If not, it should be safe to update in place.\n  let routeUpdates = {};\n  for (let lazyRouteProperty in lazyRoute) {\n    let staticRouteValue = routeToUpdate[lazyRouteProperty];\n    let isPropertyStaticallyDefined = staticRouteValue !== undefined &&\n    // This property isn't static since it should always be updated based\n    // on the route updates\n    lazyRouteProperty !== \"hasErrorBoundary\";\n    warning(!isPropertyStaticallyDefined, \"Route \\\"\" + routeToUpdate.id + \"\\\" has a static property \\\"\" + lazyRouteProperty + \"\\\" \" + \"defined but its lazy function is also returning a value for this property. \" + (\"The lazy route property \\\"\" + lazyRouteProperty + \"\\\" will be ignored.\"));\n    if (!isPropertyStaticallyDefined && !immutableRouteKeys.has(lazyRouteProperty)) {\n      routeUpdates[lazyRouteProperty] = lazyRoute[lazyRouteProperty];\n    }\n  }\n  // Mutate the route with the provided updates.  Do this first so we pass\n  // the updated version to mapRouteProperties\n  Object.assign(routeToUpdate, routeUpdates);\n  // Mutate the `hasErrorBoundary` property on the route based on the route\n  // updates and remove the `lazy` function so we don't resolve the lazy\n  // route again.\n  Object.assign(routeToUpdate, _extends({}, mapRouteProperties(routeToUpdate), {\n    lazy: undefined\n  }));\n}\n// Default implementation of `dataStrategy` which fetches all loaders in parallel\nasync function defaultDataStrategy(_ref4) {\n  let {\n    matches\n  } = _ref4;\n  let matchesToLoad = matches.filter(m => m.shouldLoad);\n  let results = await Promise.all(matchesToLoad.map(m => m.resolve()));\n  return results.reduce((acc, result, i) => Object.assign(acc, {\n    [matchesToLoad[i].route.id]: result\n  }), {});\n}\nasync function callDataStrategyImpl(dataStrategyImpl, type, state, request, matchesToLoad, matches, fetcherKey, manifest, mapRouteProperties, requestContext) {\n  let loadRouteDefinitionsPromises = matches.map(m => m.route.lazy ? loadLazyRouteModule(m.route, mapRouteProperties, manifest) : undefined);\n  let dsMatches = matches.map((match, i) => {\n    let loadRoutePromise = loadRouteDefinitionsPromises[i];\n    let shouldLoad = matchesToLoad.some(m => m.route.id === match.route.id);\n    // `resolve` encapsulates route.lazy(), executing the loader/action,\n    // and mapping return values/thrown errors to a `DataStrategyResult`.  Users\n    // can pass a callback to take fine-grained control over the execution\n    // of the loader/action\n    let resolve = async handlerOverride => {\n      if (handlerOverride && request.method === \"GET\" && (match.route.lazy || match.route.loader)) {\n        shouldLoad = true;\n      }\n      return shouldLoad ? callLoaderOrAction(type, request, match, loadRoutePromise, handlerOverride, requestContext) : Promise.resolve({\n        type: ResultType.data,\n        result: undefined\n      });\n    };\n    return _extends({}, match, {\n      shouldLoad,\n      resolve\n    });\n  });\n  // Send all matches here to allow for a middleware-type implementation.\n  // handler will be a no-op for unneeded routes and we filter those results\n  // back out below.\n  let results = await dataStrategyImpl({\n    matches: dsMatches,\n    request,\n    params: matches[0].params,\n    fetcherKey,\n    context: requestContext\n  });\n  // Wait for all routes to load here but 'swallow the error since we want\n  // it to bubble up from the `await loadRoutePromise` in `callLoaderOrAction` -\n  // called from `match.resolve()`\n  try {\n    await Promise.all(loadRouteDefinitionsPromises);\n  } catch (e) {\n    // No-op\n  }\n  return results;\n}\n// Default logic for calling a loader/action is the user has no specified a dataStrategy\nasync function callLoaderOrAction(type, request, match, loadRoutePromise, handlerOverride, staticContext) {\n  let result;\n  let onReject;\n  let runHandler = handler => {\n    // Setup a promise we can race against so that abort signals short circuit\n    let reject;\n    // This will never resolve so safe to type it as Promise<DataStrategyResult> to\n    // satisfy the function return value\n    let abortPromise = new Promise((_, r) => reject = r);\n    onReject = () => reject();\n    request.signal.addEventListener(\"abort\", onReject);\n    let actualHandler = ctx => {\n      if (typeof handler !== \"function\") {\n        return Promise.reject(new Error(\"You cannot call the handler for a route which defines a boolean \" + (\"\\\"\" + type + \"\\\" [routeId: \" + match.route.id + \"]\")));\n      }\n      return handler({\n        request,\n        params: match.params,\n        context: staticContext\n      }, ...(ctx !== undefined ? [ctx] : []));\n    };\n    let handlerPromise = (async () => {\n      try {\n        let val = await (handlerOverride ? handlerOverride(ctx => actualHandler(ctx)) : actualHandler());\n        return {\n          type: \"data\",\n          result: val\n        };\n      } catch (e) {\n        return {\n          type: \"error\",\n          result: e\n        };\n      }\n    })();\n    return Promise.race([handlerPromise, abortPromise]);\n  };\n  try {\n    let handler = match.route[type];\n    // If we have a route.lazy promise, await that first\n    if (loadRoutePromise) {\n      if (handler) {\n        // Run statically defined handler in parallel with lazy()\n        let handlerError;\n        let [value] = await Promise.all([\n        // If the handler throws, don't let it immediately bubble out,\n        // since we need to let the lazy() execution finish so we know if this\n        // route has a boundary that can handle the error\n        runHandler(handler).catch(e => {\n          handlerError = e;\n        }), loadRoutePromise]);\n        if (handlerError !== undefined) {\n          throw handlerError;\n        }\n        result = value;\n      } else {\n        // Load lazy route module, then run any returned handler\n        await loadRoutePromise;\n        handler = match.route[type];\n        if (handler) {\n          // Handler still runs even if we got interrupted to maintain consistency\n          // with un-abortable behavior of handler execution on non-lazy or\n          // previously-lazy-loaded routes\n          result = await runHandler(handler);\n        } else if (type === \"action\") {\n          let url = new URL(request.url);\n          let pathname = url.pathname + url.search;\n          throw getInternalRouterError(405, {\n            method: request.method,\n            pathname,\n            routeId: match.route.id\n          });\n        } else {\n          // lazy() route has no loader to run.  Short circuit here so we don't\n          // hit the invariant below that errors on returning undefined.\n          return {\n            type: ResultType.data,\n            result: undefined\n          };\n        }\n      }\n    } else if (!handler) {\n      let url = new URL(request.url);\n      let pathname = url.pathname + url.search;\n      throw getInternalRouterError(404, {\n        pathname\n      });\n    } else {\n      result = await runHandler(handler);\n    }\n    invariant(result.result !== undefined, \"You defined \" + (type === \"action\" ? \"an action\" : \"a loader\") + \" for route \" + (\"\\\"\" + match.route.id + \"\\\" but didn't return anything from your `\" + type + \"` \") + \"function. Please return a value or `null`.\");\n  } catch (e) {\n    // We should already be catching and converting normal handler executions to\n    // DataStrategyResults and returning them, so anything that throws here is an\n    // unexpected error we still need to wrap\n    return {\n      type: ResultType.error,\n      result: e\n    };\n  } finally {\n    if (onReject) {\n      request.signal.removeEventListener(\"abort\", onReject);\n    }\n  }\n  return result;\n}\nasync function convertDataStrategyResultToDataResult(dataStrategyResult) {\n  let {\n    result,\n    type\n  } = dataStrategyResult;\n  if (isResponse(result)) {\n    let data;\n    try {\n      let contentType = result.headers.get(\"Content-Type\");\n      // Check between word boundaries instead of startsWith() due to the last\n      // paragraph of https://httpwg.org/specs/rfc9110.html#field.content-type\n      if (contentType && /\\bapplication\\/json\\b/.test(contentType)) {\n        if (result.body == null) {\n          data = null;\n        } else {\n          data = await result.json();\n        }\n      } else {\n        data = await result.text();\n      }\n    } catch (e) {\n      return {\n        type: ResultType.error,\n        error: e\n      };\n    }\n    if (type === ResultType.error) {\n      return {\n        type: ResultType.error,\n        error: new ErrorResponseImpl(result.status, result.statusText, data),\n        statusCode: result.status,\n        headers: result.headers\n      };\n    }\n    return {\n      type: ResultType.data,\n      data,\n      statusCode: result.status,\n      headers: result.headers\n    };\n  }\n  if (type === ResultType.error) {\n    if (isDataWithResponseInit(result)) {\n      var _result$init3, _result$init4;\n      if (result.data instanceof Error) {\n        var _result$init, _result$init2;\n        return {\n          type: ResultType.error,\n          error: result.data,\n          statusCode: (_result$init = result.init) == null ? void 0 : _result$init.status,\n          headers: (_result$init2 = result.init) != null && _result$init2.headers ? new Headers(result.init.headers) : undefined\n        };\n      }\n      // Convert thrown data() to ErrorResponse instances\n      return {\n        type: ResultType.error,\n        error: new ErrorResponseImpl(((_result$init3 = result.init) == null ? void 0 : _result$init3.status) || 500, undefined, result.data),\n        statusCode: isRouteErrorResponse(result) ? result.status : undefined,\n        headers: (_result$init4 = result.init) != null && _result$init4.headers ? new Headers(result.init.headers) : undefined\n      };\n    }\n    return {\n      type: ResultType.error,\n      error: result,\n      statusCode: isRouteErrorResponse(result) ? result.status : undefined\n    };\n  }\n  if (isDeferredData(result)) {\n    var _result$init5, _result$init6;\n    return {\n      type: ResultType.deferred,\n      deferredData: result,\n      statusCode: (_result$init5 = result.init) == null ? void 0 : _result$init5.status,\n      headers: ((_result$init6 = result.init) == null ? void 0 : _result$init6.headers) && new Headers(result.init.headers)\n    };\n  }\n  if (isDataWithResponseInit(result)) {\n    var _result$init7, _result$init8;\n    return {\n      type: ResultType.data,\n      data: result.data,\n      statusCode: (_result$init7 = result.init) == null ? void 0 : _result$init7.status,\n      headers: (_result$init8 = result.init) != null && _result$init8.headers ? new Headers(result.init.headers) : undefined\n    };\n  }\n  return {\n    type: ResultType.data,\n    data: result\n  };\n}\n// Support relative routing in internal redirects\nfunction normalizeRelativeRoutingRedirectResponse(response, request, routeId, matches, basename, v7_relativeSplatPath) {\n  let location = response.headers.get(\"Location\");\n  invariant(location, \"Redirects returned/thrown from loaders/actions must have a Location header\");\n  if (!ABSOLUTE_URL_REGEX.test(location)) {\n    let trimmedMatches = matches.slice(0, matches.findIndex(m => m.route.id === routeId) + 1);\n    location = normalizeTo(new URL(request.url), trimmedMatches, basename, true, location, v7_relativeSplatPath);\n    response.headers.set(\"Location\", location);\n  }\n  return response;\n}\nfunction normalizeRedirectLocation(location, currentUrl, basename, historyInstance) {\n  // Match Chrome's behavior:\n  // https://github.com/chromium/chromium/blob/216dbeb61db0c667e62082e5f5400a32d6983df3/content/public/common/url_utils.cc#L82\n  let invalidProtocols = [\"about:\", \"blob:\", \"chrome:\", \"chrome-untrusted:\", \"content:\", \"data:\", \"devtools:\", \"file:\", \"filesystem:\",\n  // eslint-disable-next-line no-script-url\n  \"javascript:\"];\n  if (ABSOLUTE_URL_REGEX.test(location)) {\n    // Strip off the protocol+origin for same-origin + same-basename absolute redirects\n    let normalizedLocation = location;\n    let url = normalizedLocation.startsWith(\"//\") ? new URL(currentUrl.protocol + normalizedLocation) : new URL(normalizedLocation);\n    if (invalidProtocols.includes(url.protocol)) {\n      throw new Error(\"Invalid redirect location\");\n    }\n    let isSameBasename = stripBasename(url.pathname, basename) != null;\n    if (url.origin === currentUrl.origin && isSameBasename) {\n      return url.pathname + url.search + url.hash;\n    }\n  }\n  try {\n    let url = historyInstance.createURL(location);\n    if (invalidProtocols.includes(url.protocol)) {\n      throw new Error(\"Invalid redirect location\");\n    }\n  } catch (e) {}\n  return location;\n}\n// Utility method for creating the Request instances for loaders/actions during\n// client-side navigations and fetches.  During SSR we will always have a\n// Request instance from the static handler (query/queryRoute)\nfunction createClientSideRequest(history, location, signal, submission) {\n  let url = history.createURL(stripHashFromPath(location)).toString();\n  let init = {\n    signal\n  };\n  if (submission && isMutationMethod(submission.formMethod)) {\n    let {\n      formMethod,\n      formEncType\n    } = submission;\n    // Didn't think we needed this but it turns out unlike other methods, patch\n    // won't be properly normalized to uppercase and results in a 405 error.\n    // See: https://fetch.spec.whatwg.org/#concept-method\n    init.method = formMethod.toUpperCase();\n    if (formEncType === \"application/json\") {\n      init.headers = new Headers({\n        \"Content-Type\": formEncType\n      });\n      init.body = JSON.stringify(submission.json);\n    } else if (formEncType === \"text/plain\") {\n      // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n      init.body = submission.text;\n    } else if (formEncType === \"application/x-www-form-urlencoded\" && submission.formData) {\n      // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n      init.body = convertFormDataToSearchParams(submission.formData);\n    } else {\n      // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n      init.body = submission.formData;\n    }\n  }\n  return new Request(url, init);\n}\nfunction convertFormDataToSearchParams(formData) {\n  let searchParams = new URLSearchParams();\n  for (let [key, value] of formData.entries()) {\n    // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#converting-an-entry-list-to-a-list-of-name-value-pairs\n    searchParams.append(key, typeof value === \"string\" ? value : value.name);\n  }\n  return searchParams;\n}\nfunction convertSearchParamsToFormData(searchParams) {\n  let formData = new FormData();\n  for (let [key, value] of searchParams.entries()) {\n    formData.append(key, value);\n  }\n  return formData;\n}\nfunction processRouteLoaderData(matches, results, pendingActionResult, activeDeferreds, skipLoaderErrorBubbling) {\n  // Fill in loaderData/errors from our loaders\n  let loaderData = {};\n  let errors = null;\n  let statusCode;\n  let foundError = false;\n  let loaderHeaders = {};\n  let pendingError = pendingActionResult && isErrorResult(pendingActionResult[1]) ? pendingActionResult[1].error : undefined;\n  // Process loader results into state.loaderData/state.errors\n  matches.forEach(match => {\n    if (!(match.route.id in results)) {\n      return;\n    }\n    let id = match.route.id;\n    let result = results[id];\n    invariant(!isRedirectResult(result), \"Cannot handle redirect results in processLoaderData\");\n    if (isErrorResult(result)) {\n      let error = result.error;\n      // If we have a pending action error, we report it at the highest-route\n      // that throws a loader error, and then clear it out to indicate that\n      // it was consumed\n      if (pendingError !== undefined) {\n        error = pendingError;\n        pendingError = undefined;\n      }\n      errors = errors || {};\n      if (skipLoaderErrorBubbling) {\n        errors[id] = error;\n      } else {\n        // Look upwards from the matched route for the closest ancestor error\n        // boundary, defaulting to the root match.  Prefer higher error values\n        // if lower errors bubble to the same boundary\n        let boundaryMatch = findNearestBoundary(matches, id);\n        if (errors[boundaryMatch.route.id] == null) {\n          errors[boundaryMatch.route.id] = error;\n        }\n      }\n      // Clear our any prior loaderData for the throwing route\n      loaderData[id] = undefined;\n      // Once we find our first (highest) error, we set the status code and\n      // prevent deeper status codes from overriding\n      if (!foundError) {\n        foundError = true;\n        statusCode = isRouteErrorResponse(result.error) ? result.error.status : 500;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    } else {\n      if (isDeferredResult(result)) {\n        activeDeferreds.set(id, result.deferredData);\n        loaderData[id] = result.deferredData.data;\n        // Error status codes always override success status codes, but if all\n        // loaders are successful we take the deepest status code.\n        if (result.statusCode != null && result.statusCode !== 200 && !foundError) {\n          statusCode = result.statusCode;\n        }\n        if (result.headers) {\n          loaderHeaders[id] = result.headers;\n        }\n      } else {\n        loaderData[id] = result.data;\n        // Error status codes always override success status codes, but if all\n        // loaders are successful we take the deepest status code.\n        if (result.statusCode && result.statusCode !== 200 && !foundError) {\n          statusCode = result.statusCode;\n        }\n        if (result.headers) {\n          loaderHeaders[id] = result.headers;\n        }\n      }\n    }\n  });\n  // If we didn't consume the pending action error (i.e., all loaders\n  // resolved), then consume it here.  Also clear out any loaderData for the\n  // throwing route\n  if (pendingError !== undefined && pendingActionResult) {\n    errors = {\n      [pendingActionResult[0]]: pendingError\n    };\n    loaderData[pendingActionResult[0]] = undefined;\n  }\n  return {\n    loaderData,\n    errors,\n    statusCode: statusCode || 200,\n    loaderHeaders\n  };\n}\nfunction processLoaderData(state, matches, results, pendingActionResult, revalidatingFetchers, fetcherResults, activeDeferreds) {\n  let {\n    loaderData,\n    errors\n  } = processRouteLoaderData(matches, results, pendingActionResult, activeDeferreds, false // This method is only called client side so we always want to bubble\n  );\n  // Process results from our revalidating fetchers\n  revalidatingFetchers.forEach(rf => {\n    let {\n      key,\n      match,\n      controller\n    } = rf;\n    let result = fetcherResults[key];\n    invariant(result, \"Did not find corresponding fetcher result\");\n    // Process fetcher non-redirect errors\n    if (controller && controller.signal.aborted) {\n      // Nothing to do for aborted fetchers\n      return;\n    } else if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(state.matches, match == null ? void 0 : match.route.id);\n      if (!(errors && errors[boundaryMatch.route.id])) {\n        errors = _extends({}, errors, {\n          [boundaryMatch.route.id]: result.error\n        });\n      }\n      state.fetchers.delete(key);\n    } else if (isRedirectResult(result)) {\n      // Should never get here, redirects should get processed above, but we\n      // keep this to type narrow to a success result in the else\n      invariant(false, \"Unhandled fetcher revalidation redirect\");\n    } else if (isDeferredResult(result)) {\n      // Should never get here, deferred data should be awaited for fetchers\n      // in resolveDeferredResults\n      invariant(false, \"Unhandled fetcher deferred data\");\n    } else {\n      let doneFetcher = getDoneFetcher(result.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  });\n  return {\n    loaderData,\n    errors\n  };\n}\nfunction mergeLoaderData(loaderData, newLoaderData, matches, errors) {\n  let mergedLoaderData = _extends({}, newLoaderData);\n  for (let match of matches) {\n    let id = match.route.id;\n    if (newLoaderData.hasOwnProperty(id)) {\n      if (newLoaderData[id] !== undefined) {\n        mergedLoaderData[id] = newLoaderData[id];\n      }\n    } else if (loaderData[id] !== undefined && match.route.loader) {\n      // Preserve existing keys not included in newLoaderData and where a loader\n      // wasn't removed by HMR\n      mergedLoaderData[id] = loaderData[id];\n    }\n    if (errors && errors.hasOwnProperty(id)) {\n      // Don't keep any loader data below the boundary\n      break;\n    }\n  }\n  return mergedLoaderData;\n}\nfunction getActionDataForCommit(pendingActionResult) {\n  if (!pendingActionResult) {\n    return {};\n  }\n  return isErrorResult(pendingActionResult[1]) ? {\n    // Clear out prior actionData on errors\n    actionData: {}\n  } : {\n    actionData: {\n      [pendingActionResult[0]]: pendingActionResult[1].data\n    }\n  };\n}\n// Find the nearest error boundary, looking upwards from the leaf route (or the\n// route specified by routeId) for the closest ancestor error boundary,\n// defaulting to the root match\nfunction findNearestBoundary(matches, routeId) {\n  let eligibleMatches = routeId ? matches.slice(0, matches.findIndex(m => m.route.id === routeId) + 1) : [...matches];\n  return eligibleMatches.reverse().find(m => m.route.hasErrorBoundary === true) || matches[0];\n}\nfunction getShortCircuitMatches(routes) {\n  // Prefer a root layout route if present, otherwise shim in a route object\n  let route = routes.length === 1 ? routes[0] : routes.find(r => r.index || !r.path || r.path === \"/\") || {\n    id: \"__shim-error-route__\"\n  };\n  return {\n    matches: [{\n      params: {},\n      pathname: \"\",\n      pathnameBase: \"\",\n      route\n    }],\n    route\n  };\n}\nfunction getInternalRouterError(status, _temp5) {\n  let {\n    pathname,\n    routeId,\n    method,\n    type,\n    message\n  } = _temp5 === void 0 ? {} : _temp5;\n  let statusText = \"Unknown Server Error\";\n  let errorMessage = \"Unknown @remix-run/router error\";\n  if (status === 400) {\n    statusText = \"Bad Request\";\n    if (method && pathname && routeId) {\n      errorMessage = \"You made a \" + method + \" request to \\\"\" + pathname + \"\\\" but \" + (\"did not provide a `loader` for route \\\"\" + routeId + \"\\\", \") + \"so there is no way to handle the request.\";\n    } else if (type === \"defer-action\") {\n      errorMessage = \"defer() is not supported in actions\";\n    } else if (type === \"invalid-body\") {\n      errorMessage = \"Unable to encode submission body\";\n    }\n  } else if (status === 403) {\n    statusText = \"Forbidden\";\n    errorMessage = \"Route \\\"\" + routeId + \"\\\" does not match URL \\\"\" + pathname + \"\\\"\";\n  } else if (status === 404) {\n    statusText = \"Not Found\";\n    errorMessage = \"No route matches URL \\\"\" + pathname + \"\\\"\";\n  } else if (status === 405) {\n    statusText = \"Method Not Allowed\";\n    if (method && pathname && routeId) {\n      errorMessage = \"You made a \" + method.toUpperCase() + \" request to \\\"\" + pathname + \"\\\" but \" + (\"did not provide an `action` for route \\\"\" + routeId + \"\\\", \") + \"so there is no way to handle the request.\";\n    } else if (method) {\n      errorMessage = \"Invalid request method \\\"\" + method.toUpperCase() + \"\\\"\";\n    }\n  }\n  return new ErrorResponseImpl(status || 500, statusText, new Error(errorMessage), true);\n}\n// Find any returned redirect errors, starting from the lowest match\nfunction findRedirect(results) {\n  let entries = Object.entries(results);\n  for (let i = entries.length - 1; i >= 0; i--) {\n    let [key, result] = entries[i];\n    if (isRedirectResult(result)) {\n      return {\n        key,\n        result\n      };\n    }\n  }\n}\nfunction stripHashFromPath(path) {\n  let parsedPath = typeof path === \"string\" ? parsePath(path) : path;\n  return createPath(_extends({}, parsedPath, {\n    hash: \"\"\n  }));\n}\nfunction isHashChangeOnly(a, b) {\n  if (a.pathname !== b.pathname || a.search !== b.search) {\n    return false;\n  }\n  if (a.hash === \"\") {\n    // /page -> /page#hash\n    return b.hash !== \"\";\n  } else if (a.hash === b.hash) {\n    // /page#hash -> /page#hash\n    return true;\n  } else if (b.hash !== \"\") {\n    // /page#hash -> /page#other\n    return true;\n  }\n  // If the hash is removed the browser will re-perform a request to the server\n  // /page#hash -> /page\n  return false;\n}\nfunction isDataStrategyResult(result) {\n  return result != null && typeof result === \"object\" && \"type\" in result && \"result\" in result && (result.type === ResultType.data || result.type === ResultType.error);\n}\nfunction isRedirectDataStrategyResultResult(result) {\n  return isResponse(result.result) && redirectStatusCodes.has(result.result.status);\n}\nfunction isDeferredResult(result) {\n  return result.type === ResultType.deferred;\n}\nfunction isErrorResult(result) {\n  return result.type === ResultType.error;\n}\nfunction isRedirectResult(result) {\n  return (result && result.type) === ResultType.redirect;\n}\nfunction isDataWithResponseInit(value) {\n  return typeof value === \"object\" && value != null && \"type\" in value && \"data\" in value && \"init\" in value && value.type === \"DataWithResponseInit\";\n}\nfunction isDeferredData(value) {\n  let deferred = value;\n  return deferred && typeof deferred === \"object\" && typeof deferred.data === \"object\" && typeof deferred.subscribe === \"function\" && typeof deferred.cancel === \"function\" && typeof deferred.resolveData === \"function\";\n}\nfunction isResponse(value) {\n  return value != null && typeof value.status === \"number\" && typeof value.statusText === \"string\" && typeof value.headers === \"object\" && typeof value.body !== \"undefined\";\n}\nfunction isRedirectResponse(result) {\n  if (!isResponse(result)) {\n    return false;\n  }\n  let status = result.status;\n  let location = result.headers.get(\"Location\");\n  return status >= 300 && status <= 399 && location != null;\n}\nfunction isValidMethod(method) {\n  return validRequestMethods.has(method.toLowerCase());\n}\nfunction isMutationMethod(method) {\n  return validMutationMethods.has(method.toLowerCase());\n}\nasync function resolveNavigationDeferredResults(matches, results, signal, currentMatches, currentLoaderData) {\n  let entries = Object.entries(results);\n  for (let index = 0; index < entries.length; index++) {\n    let [routeId, result] = entries[index];\n    let match = matches.find(m => (m == null ? void 0 : m.route.id) === routeId);\n    // If we don't have a match, then we can have a deferred result to do\n    // anything with.  This is for revalidating fetchers where the route was\n    // removed during HMR\n    if (!match) {\n      continue;\n    }\n    let currentMatch = currentMatches.find(m => m.route.id === match.route.id);\n    let isRevalidatingLoader = currentMatch != null && !isNewRouteInstance(currentMatch, match) && (currentLoaderData && currentLoaderData[match.route.id]) !== undefined;\n    if (isDeferredResult(result) && isRevalidatingLoader) {\n      // Note: we do not have to touch activeDeferreds here since we race them\n      // against the signal in resolveDeferredData and they'll get aborted\n      // there if needed\n      await resolveDeferredData(result, signal, false).then(result => {\n        if (result) {\n          results[routeId] = result;\n        }\n      });\n    }\n  }\n}\nasync function resolveFetcherDeferredResults(matches, results, revalidatingFetchers) {\n  for (let index = 0; index < revalidatingFetchers.length; index++) {\n    let {\n      key,\n      routeId,\n      controller\n    } = revalidatingFetchers[index];\n    let result = results[key];\n    let match = matches.find(m => (m == null ? void 0 : m.route.id) === routeId);\n    // If we don't have a match, then we can have a deferred result to do\n    // anything with.  This is for revalidating fetchers where the route was\n    // removed during HMR\n    if (!match) {\n      continue;\n    }\n    if (isDeferredResult(result)) {\n      // Note: we do not have to touch activeDeferreds here since we race them\n      // against the signal in resolveDeferredData and they'll get aborted\n      // there if needed\n      invariant(controller, \"Expected an AbortController for revalidating fetcher deferred result\");\n      await resolveDeferredData(result, controller.signal, true).then(result => {\n        if (result) {\n          results[key] = result;\n        }\n      });\n    }\n  }\n}\nasync function resolveDeferredData(result, signal, unwrap) {\n  if (unwrap === void 0) {\n    unwrap = false;\n  }\n  let aborted = await result.deferredData.resolveData(signal);\n  if (aborted) {\n    return;\n  }\n  if (unwrap) {\n    try {\n      return {\n        type: ResultType.data,\n        data: result.deferredData.unwrappedData\n      };\n    } catch (e) {\n      // Handle any TrackedPromise._error values encountered while unwrapping\n      return {\n        type: ResultType.error,\n        error: e\n      };\n    }\n  }\n  return {\n    type: ResultType.data,\n    data: result.deferredData.data\n  };\n}\nfunction hasNakedIndexQuery(search) {\n  return new URLSearchParams(search).getAll(\"index\").some(v => v === \"\");\n}\nfunction getTargetMatch(matches, location) {\n  let search = typeof location === \"string\" ? parsePath(location).search : location.search;\n  if (matches[matches.length - 1].route.index && hasNakedIndexQuery(search || \"\")) {\n    // Return the leaf index route when index is present\n    return matches[matches.length - 1];\n  }\n  // Otherwise grab the deepest \"path contributing\" match (ignoring index and\n  // pathless layout routes)\n  let pathMatches = getPathContributingMatches(matches);\n  return pathMatches[pathMatches.length - 1];\n}\nfunction getSubmissionFromNavigation(navigation) {\n  let {\n    formMethod,\n    formAction,\n    formEncType,\n    text,\n    formData,\n    json\n  } = navigation;\n  if (!formMethod || !formAction || !formEncType) {\n    return;\n  }\n  if (text != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: undefined,\n      json: undefined,\n      text\n    };\n  } else if (formData != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData,\n      json: undefined,\n      text: undefined\n    };\n  } else if (json !== undefined) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: undefined,\n      json,\n      text: undefined\n    };\n  }\n}\nfunction getLoadingNavigation(location, submission) {\n  if (submission) {\n    let navigation = {\n      state: \"loading\",\n      location,\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text\n    };\n    return navigation;\n  } else {\n    let navigation = {\n      state: \"loading\",\n      location,\n      formMethod: undefined,\n      formAction: undefined,\n      formEncType: undefined,\n      formData: undefined,\n      json: undefined,\n      text: undefined\n    };\n    return navigation;\n  }\n}\nfunction getSubmittingNavigation(location, submission) {\n  let navigation = {\n    state: \"submitting\",\n    location,\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text\n  };\n  return navigation;\n}\nfunction getLoadingFetcher(submission, data) {\n  if (submission) {\n    let fetcher = {\n      state: \"loading\",\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text,\n      data\n    };\n    return fetcher;\n  } else {\n    let fetcher = {\n      state: \"loading\",\n      formMethod: undefined,\n      formAction: undefined,\n      formEncType: undefined,\n      formData: undefined,\n      json: undefined,\n      text: undefined,\n      data\n    };\n    return fetcher;\n  }\n}\nfunction getSubmittingFetcher(submission, existingFetcher) {\n  let fetcher = {\n    state: \"submitting\",\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text,\n    data: existingFetcher ? existingFetcher.data : undefined\n  };\n  return fetcher;\n}\nfunction getDoneFetcher(data) {\n  let fetcher = {\n    state: \"idle\",\n    formMethod: undefined,\n    formAction: undefined,\n    formEncType: undefined,\n    formData: undefined,\n    json: undefined,\n    text: undefined,\n    data\n  };\n  return fetcher;\n}\nfunction restoreAppliedTransitions(_window, transitions) {\n  try {\n    let sessionPositions = _window.sessionStorage.getItem(TRANSITIONS_STORAGE_KEY);\n    if (sessionPositions) {\n      let json = JSON.parse(sessionPositions);\n      for (let [k, v] of Object.entries(json || {})) {\n        if (v && Array.isArray(v)) {\n          transitions.set(k, new Set(v || []));\n        }\n      }\n    }\n  } catch (e) {\n    // no-op, use default empty object\n  }\n}\nfunction persistAppliedTransitions(_window, transitions) {\n  if (transitions.size > 0) {\n    let json = {};\n    for (let [k, v] of transitions) {\n      json[k] = [...v];\n    }\n    try {\n      _window.sessionStorage.setItem(TRANSITIONS_STORAGE_KEY, JSON.stringify(json));\n    } catch (error) {\n      warning(false, \"Failed to save applied view transitions in sessionStorage (\" + error + \").\");\n    }\n  }\n}\n//#endregion\n\nexport { AbortedDeferredError, Action, IDLE_BLOCKER, IDLE_FETCHER, IDLE_NAVIGATION, UNSAFE_DEFERRED_SYMBOL, DeferredData as UNSAFE_DeferredData, ErrorResponseImpl as UNSAFE_ErrorResponseImpl, convertRouteMatchToUiMatch as UNSAFE_convertRouteMatchToUiMatch, convertRoutesToDataRoutes as UNSAFE_convertRoutesToDataRoutes, decodePath as UNSAFE_decodePath, getResolveToMatches as UNSAFE_getResolveToMatches, invariant as UNSAFE_invariant, warning as UNSAFE_warning, createBrowserHistory, createHashHistory, createMemoryHistory, createPath, createRouter, createStaticHandler, data, defer, generatePath, getStaticContextFromError, getToPathname, isDataWithResponseInit, isDeferredData, isRouteErrorResponse, joinPaths, json, matchPath, matchRoutes, normalizePathname, parsePath, redirect, redirectDocument, replace, resolvePath, resolveTo, stripBasename };\n//# sourceMappingURL=router.js.map\n","/**\n * React Router v6.30.3\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nimport * as React from 'react';\nimport { UNSAFE_invariant, joinPaths, matchPath, UNSAFE_decodePath, UNSAFE_getResolveToMatches, UNSAFE_warning, resolveTo, parsePath, matchRoutes, Action, UNSAFE_convertRouteMatchToUiMatch, stripBasename, IDLE_BLOCKER, isRouteErrorResponse, createMemoryHistory, AbortedDeferredError, createRouter } from '@remix-run/router';\nexport { AbortedDeferredError, Action as NavigationType, createPath, defer, generatePath, isRouteErrorResponse, json, matchPath, matchRoutes, parsePath, redirect, redirectDocument, replace, resolvePath } from '@remix-run/router';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\n// Create react-specific types from the agnostic types in @remix-run/router to\n// export from react-router\nconst DataRouterContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  DataRouterContext.displayName = \"DataRouter\";\n}\nconst DataRouterStateContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  DataRouterStateContext.displayName = \"DataRouterState\";\n}\nconst AwaitContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  AwaitContext.displayName = \"Await\";\n}\n\n/**\n * A Navigator is a \"location changer\"; it's how you get to different locations.\n *\n * Every history instance conforms to the Navigator interface, but the\n * distinction is useful primarily when it comes to the low-level `<Router>` API\n * where both the location and a navigator must be provided separately in order\n * to avoid \"tearing\" that may occur in a suspense-enabled app if the action\n * and/or location were to be read directly from the history instance.\n */\n\nconst NavigationContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  NavigationContext.displayName = \"Navigation\";\n}\nconst LocationContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  LocationContext.displayName = \"Location\";\n}\nconst RouteContext = /*#__PURE__*/React.createContext({\n  outlet: null,\n  matches: [],\n  isDataRoute: false\n});\nif (process.env.NODE_ENV !== \"production\") {\n  RouteContext.displayName = \"Route\";\n}\nconst RouteErrorContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  RouteErrorContext.displayName = \"RouteError\";\n}\n\n/**\n * Returns the full href for the given \"to\" value. This is useful for building\n * custom links that are also accessible and preserve right-click behavior.\n *\n * @see https://reactrouter.com/v6/hooks/use-href\n */\nfunction useHref(to, _temp) {\n  let {\n    relative\n  } = _temp === void 0 ? {} : _temp;\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of the\n  // router loaded. We can help them understand how to avoid that.\n  \"useHref() may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  let {\n    basename,\n    navigator\n  } = React.useContext(NavigationContext);\n  let {\n    hash,\n    pathname,\n    search\n  } = useResolvedPath(to, {\n    relative\n  });\n  let joinedPathname = pathname;\n\n  // If we're operating within a basename, prepend it to the pathname prior\n  // to creating the href.  If this is a root navigation, then just use the raw\n  // basename which allows the basename to have full control over the presence\n  // of a trailing slash on root links\n  if (basename !== \"/\") {\n    joinedPathname = pathname === \"/\" ? basename : joinPaths([basename, pathname]);\n  }\n  return navigator.createHref({\n    pathname: joinedPathname,\n    search,\n    hash\n  });\n}\n\n/**\n * Returns true if this component is a descendant of a `<Router>`.\n *\n * @see https://reactrouter.com/v6/hooks/use-in-router-context\n */\nfunction useInRouterContext() {\n  return React.useContext(LocationContext) != null;\n}\n\n/**\n * Returns the current location object, which represents the current URL in web\n * browsers.\n *\n * Note: If you're using this it may mean you're doing some of your own\n * \"routing\" in your app, and we'd like to know what your use case is. We may\n * be able to provide something higher-level to better suit your needs.\n *\n * @see https://reactrouter.com/v6/hooks/use-location\n */\nfunction useLocation() {\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of the\n  // router loaded. We can help them understand how to avoid that.\n  \"useLocation() may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  return React.useContext(LocationContext).location;\n}\n\n/**\n * Returns the current navigation action which describes how the router came to\n * the current location, either by a pop, push, or replace on the history stack.\n *\n * @see https://reactrouter.com/v6/hooks/use-navigation-type\n */\nfunction useNavigationType() {\n  return React.useContext(LocationContext).navigationType;\n}\n\n/**\n * Returns a PathMatch object if the given pattern matches the current URL.\n * This is useful for components that need to know \"active\" state, e.g.\n * `<NavLink>`.\n *\n * @see https://reactrouter.com/v6/hooks/use-match\n */\nfunction useMatch(pattern) {\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of the\n  // router loaded. We can help them understand how to avoid that.\n  \"useMatch() may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  let {\n    pathname\n  } = useLocation();\n  return React.useMemo(() => matchPath(pattern, UNSAFE_decodePath(pathname)), [pathname, pattern]);\n}\n\n/**\n * The interface for the navigate() function returned from useNavigate().\n */\n\nconst navigateEffectWarning = \"You should call navigate() in a React.useEffect(), not when \" + \"your component is first rendered.\";\n\n// Mute warnings for calls to useNavigate in SSR environments\nfunction useIsomorphicLayoutEffect(cb) {\n  let isStatic = React.useContext(NavigationContext).static;\n  if (!isStatic) {\n    // We should be able to get rid of this once react 18.3 is released\n    // See: https://github.com/facebook/react/pull/26395\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(cb);\n  }\n}\n\n/**\n * Returns an imperative method for changing the location. Used by `<Link>`s, but\n * may also be used by other elements to change the location.\n *\n * @see https://reactrouter.com/v6/hooks/use-navigate\n */\nfunction useNavigate() {\n  let {\n    isDataRoute\n  } = React.useContext(RouteContext);\n  // Conditional usage is OK here because the usage of a data router is static\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  return isDataRoute ? useNavigateStable() : useNavigateUnstable();\n}\nfunction useNavigateUnstable() {\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of the\n  // router loaded. We can help them understand how to avoid that.\n  \"useNavigate() may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  let dataRouterContext = React.useContext(DataRouterContext);\n  let {\n    basename,\n    future,\n    navigator\n  } = React.useContext(NavigationContext);\n  let {\n    matches\n  } = React.useContext(RouteContext);\n  let {\n    pathname: locationPathname\n  } = useLocation();\n  let routePathnamesJson = JSON.stringify(UNSAFE_getResolveToMatches(matches, future.v7_relativeSplatPath));\n  let activeRef = React.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n  let navigate = React.useCallback(function (to, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(activeRef.current, navigateEffectWarning) : void 0;\n\n    // Short circuit here since if this happens on first render the navigate\n    // is useless because we haven't wired up our history listener yet\n    if (!activeRef.current) return;\n    if (typeof to === \"number\") {\n      navigator.go(to);\n      return;\n    }\n    let path = resolveTo(to, JSON.parse(routePathnamesJson), locationPathname, options.relative === \"path\");\n\n    // If we're operating within a basename, prepend it to the pathname prior\n    // to handing off to history (but only if we're not in a data router,\n    // otherwise it'll prepend the basename inside of the router).\n    // If this is a root navigation, then we navigate to the raw basename\n    // which allows the basename to have full control over the presence of a\n    // trailing slash on root links\n    if (dataRouterContext == null && basename !== \"/\") {\n      path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n    }\n    (!!options.replace ? navigator.replace : navigator.push)(path, options.state, options);\n  }, [basename, navigator, routePathnamesJson, locationPathname, dataRouterContext]);\n  return navigate;\n}\nconst OutletContext = /*#__PURE__*/React.createContext(null);\n\n/**\n * Returns the context (if provided) for the child route at this level of the route\n * hierarchy.\n * @see https://reactrouter.com/v6/hooks/use-outlet-context\n */\nfunction useOutletContext() {\n  return React.useContext(OutletContext);\n}\n\n/**\n * Returns the element for the child route at this level of the route\n * hierarchy. Used internally by `<Outlet>` to render child routes.\n *\n * @see https://reactrouter.com/v6/hooks/use-outlet\n */\nfunction useOutlet(context) {\n  let outlet = React.useContext(RouteContext).outlet;\n  if (outlet) {\n    return /*#__PURE__*/React.createElement(OutletContext.Provider, {\n      value: context\n    }, outlet);\n  }\n  return outlet;\n}\n\n/**\n * Returns an object of key/value pairs of the dynamic params from the current\n * URL that were matched by the route path.\n *\n * @see https://reactrouter.com/v6/hooks/use-params\n */\nfunction useParams() {\n  let {\n    matches\n  } = React.useContext(RouteContext);\n  let routeMatch = matches[matches.length - 1];\n  return routeMatch ? routeMatch.params : {};\n}\n\n/**\n * Resolves the pathname of the given `to` value against the current location.\n *\n * @see https://reactrouter.com/v6/hooks/use-resolved-path\n */\nfunction useResolvedPath(to, _temp2) {\n  let {\n    relative\n  } = _temp2 === void 0 ? {} : _temp2;\n  let {\n    future\n  } = React.useContext(NavigationContext);\n  let {\n    matches\n  } = React.useContext(RouteContext);\n  let {\n    pathname: locationPathname\n  } = useLocation();\n  let routePathnamesJson = JSON.stringify(UNSAFE_getResolveToMatches(matches, future.v7_relativeSplatPath));\n  return React.useMemo(() => resolveTo(to, JSON.parse(routePathnamesJson), locationPathname, relative === \"path\"), [to, routePathnamesJson, locationPathname, relative]);\n}\n\n/**\n * Returns the element of the route that matched the current location, prepared\n * with the correct context to render the remainder of the route tree. Route\n * elements in the tree must render an `<Outlet>` to render their child route's\n * element.\n *\n * @see https://reactrouter.com/v6/hooks/use-routes\n */\nfunction useRoutes(routes, locationArg) {\n  return useRoutesImpl(routes, locationArg);\n}\n\n// Internal implementation with accept optional param for RouterProvider usage\nfunction useRoutesImpl(routes, locationArg, dataRouterState, future) {\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of the\n  // router loaded. We can help them understand how to avoid that.\n  \"useRoutes() may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  let {\n    navigator\n  } = React.useContext(NavigationContext);\n  let {\n    matches: parentMatches\n  } = React.useContext(RouteContext);\n  let routeMatch = parentMatches[parentMatches.length - 1];\n  let parentParams = routeMatch ? routeMatch.params : {};\n  let parentPathname = routeMatch ? routeMatch.pathname : \"/\";\n  let parentPathnameBase = routeMatch ? routeMatch.pathnameBase : \"/\";\n  let parentRoute = routeMatch && routeMatch.route;\n  if (process.env.NODE_ENV !== \"production\") {\n    // You won't get a warning about 2 different <Routes> under a <Route>\n    // without a trailing *, but this is a best-effort warning anyway since we\n    // cannot even give the warning unless they land at the parent route.\n    //\n    // Example:\n    //\n    // <Routes>\n    //   {/* This route path MUST end with /* because otherwise\n    //       it will never match /blog/post/123 */}\n    //   <Route path=\"blog\" element={<Blog />} />\n    //   <Route path=\"blog/feed\" element={<BlogFeed />} />\n    // </Routes>\n    //\n    // function Blog() {\n    //   return (\n    //     <Routes>\n    //       <Route path=\"post/:id\" element={<Post />} />\n    //     </Routes>\n    //   );\n    // }\n    let parentPath = parentRoute && parentRoute.path || \"\";\n    warningOnce(parentPathname, !parentRoute || parentPath.endsWith(\"*\"), \"You rendered descendant <Routes> (or called `useRoutes()`) at \" + (\"\\\"\" + parentPathname + \"\\\" (under <Route path=\\\"\" + parentPath + \"\\\">) but the \") + \"parent route path has no trailing \\\"*\\\". This means if you navigate \" + \"deeper, the parent won't match anymore and therefore the child \" + \"routes will never render.\\n\\n\" + (\"Please change the parent <Route path=\\\"\" + parentPath + \"\\\"> to <Route \") + (\"path=\\\"\" + (parentPath === \"/\" ? \"*\" : parentPath + \"/*\") + \"\\\">.\"));\n  }\n  let locationFromContext = useLocation();\n  let location;\n  if (locationArg) {\n    var _parsedLocationArg$pa;\n    let parsedLocationArg = typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n    !(parentPathnameBase === \"/\" || ((_parsedLocationArg$pa = parsedLocationArg.pathname) == null ? void 0 : _parsedLocationArg$pa.startsWith(parentPathnameBase))) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, \" + \"the location pathname must begin with the portion of the URL pathname that was \" + (\"matched by all parent routes. The current pathname base is \\\"\" + parentPathnameBase + \"\\\" \") + (\"but pathname \\\"\" + parsedLocationArg.pathname + \"\\\" was given in the `location` prop.\")) : UNSAFE_invariant(false) : void 0;\n    location = parsedLocationArg;\n  } else {\n    location = locationFromContext;\n  }\n  let pathname = location.pathname || \"/\";\n  let remainingPathname = pathname;\n  if (parentPathnameBase !== \"/\") {\n    // Determine the remaining pathname by removing the # of URL segments the\n    // parentPathnameBase has, instead of removing based on character count.\n    // This is because we can't guarantee that incoming/outgoing encodings/\n    // decodings will match exactly.\n    // We decode paths before matching on a per-segment basis with\n    // decodeURIComponent(), but we re-encode pathnames via `new URL()` so they\n    // match what `window.location.pathname` would reflect.  Those don't 100%\n    // align when it comes to encoded URI characters such as % and &.\n    //\n    // So we may end up with:\n    //   pathname:           \"/descendant/a%25b/match\"\n    //   parentPathnameBase: \"/descendant/a%b\"\n    //\n    // And the direct substring removal approach won't work :/\n    let parentSegments = parentPathnameBase.replace(/^\\//, \"\").split(\"/\");\n    let segments = pathname.replace(/^\\//, \"\").split(\"/\");\n    remainingPathname = \"/\" + segments.slice(parentSegments.length).join(\"/\");\n  }\n  let matches = matchRoutes(routes, {\n    pathname: remainingPathname\n  });\n  if (process.env.NODE_ENV !== \"production\") {\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(parentRoute || matches != null, \"No routes matched location \\\"\" + location.pathname + location.search + location.hash + \"\\\" \") : void 0;\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(matches == null || matches[matches.length - 1].route.element !== undefined || matches[matches.length - 1].route.Component !== undefined || matches[matches.length - 1].route.lazy !== undefined, \"Matched leaf route at location \\\"\" + location.pathname + location.search + location.hash + \"\\\" \" + \"does not have an element or Component. This means it will render an <Outlet /> with a \" + \"null value by default resulting in an \\\"empty\\\" page.\") : void 0;\n  }\n  let renderedMatches = _renderMatches(matches && matches.map(match => Object.assign({}, match, {\n    params: Object.assign({}, parentParams, match.params),\n    pathname: joinPaths([parentPathnameBase,\n    // Re-encode pathnames that were decoded inside matchRoutes\n    navigator.encodeLocation ? navigator.encodeLocation(match.pathname).pathname : match.pathname]),\n    pathnameBase: match.pathnameBase === \"/\" ? parentPathnameBase : joinPaths([parentPathnameBase,\n    // Re-encode pathnames that were decoded inside matchRoutes\n    navigator.encodeLocation ? navigator.encodeLocation(match.pathnameBase).pathname : match.pathnameBase])\n  })), parentMatches, dataRouterState, future);\n\n  // When a user passes in a `locationArg`, the associated routes need to\n  // be wrapped in a new `LocationContext.Provider` in order for `useLocation`\n  // to use the scoped location instead of the global location.\n  if (locationArg && renderedMatches) {\n    return /*#__PURE__*/React.createElement(LocationContext.Provider, {\n      value: {\n        location: _extends({\n          pathname: \"/\",\n          search: \"\",\n          hash: \"\",\n          state: null,\n          key: \"default\"\n        }, location),\n        navigationType: Action.Pop\n      }\n    }, renderedMatches);\n  }\n  return renderedMatches;\n}\nfunction DefaultErrorComponent() {\n  let error = useRouteError();\n  let message = isRouteErrorResponse(error) ? error.status + \" \" + error.statusText : error instanceof Error ? error.message : JSON.stringify(error);\n  let stack = error instanceof Error ? error.stack : null;\n  let lightgrey = \"rgba(200,200,200, 0.5)\";\n  let preStyles = {\n    padding: \"0.5rem\",\n    backgroundColor: lightgrey\n  };\n  let codeStyles = {\n    padding: \"2px 4px\",\n    backgroundColor: lightgrey\n  };\n  let devInfo = null;\n  if (process.env.NODE_ENV !== \"production\") {\n    console.error(\"Error handled by React Router default ErrorBoundary:\", error);\n    devInfo = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", null, \"\\uD83D\\uDCBF Hey developer \\uD83D\\uDC4B\"), /*#__PURE__*/React.createElement(\"p\", null, \"You can provide a way better UX than this when your app throws errors by providing your own \", /*#__PURE__*/React.createElement(\"code\", {\n      style: codeStyles\n    }, \"ErrorBoundary\"), \" or\", \" \", /*#__PURE__*/React.createElement(\"code\", {\n      style: codeStyles\n    }, \"errorElement\"), \" prop on your route.\"));\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", null, \"Unexpected Application Error!\"), /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      fontStyle: \"italic\"\n    }\n  }, message), stack ? /*#__PURE__*/React.createElement(\"pre\", {\n    style: preStyles\n  }, stack) : null, devInfo);\n}\nconst defaultErrorElement = /*#__PURE__*/React.createElement(DefaultErrorComponent, null);\nclass RenderErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      location: props.location,\n      revalidation: props.revalidation,\n      error: props.error\n    };\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      error: error\n    };\n  }\n  static getDerivedStateFromProps(props, state) {\n    // When we get into an error state, the user will likely click \"back\" to the\n    // previous page that didn't have an error. Because this wraps the entire\n    // application, that will have no effect--the error page continues to display.\n    // This gives us a mechanism to recover from the error when the location changes.\n    //\n    // Whether we're in an error state or not, we update the location in state\n    // so that when we are in an error state, it gets reset when a new location\n    // comes in and the user recovers from the error.\n    if (state.location !== props.location || state.revalidation !== \"idle\" && props.revalidation === \"idle\") {\n      return {\n        error: props.error,\n        location: props.location,\n        revalidation: props.revalidation\n      };\n    }\n\n    // If we're not changing locations, preserve the location but still surface\n    // any new errors that may come through. We retain the existing error, we do\n    // this because the error provided from the app state may be cleared without\n    // the location changing.\n    return {\n      error: props.error !== undefined ? props.error : state.error,\n      location: state.location,\n      revalidation: props.revalidation || state.revalidation\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(\"React Router caught the following error during render\", error, errorInfo);\n  }\n  render() {\n    return this.state.error !== undefined ? /*#__PURE__*/React.createElement(RouteContext.Provider, {\n      value: this.props.routeContext\n    }, /*#__PURE__*/React.createElement(RouteErrorContext.Provider, {\n      value: this.state.error,\n      children: this.props.component\n    })) : this.props.children;\n  }\n}\nfunction RenderedRoute(_ref) {\n  let {\n    routeContext,\n    match,\n    children\n  } = _ref;\n  let dataRouterContext = React.useContext(DataRouterContext);\n\n  // Track how deep we got in our render pass to emulate SSR componentDidCatch\n  // in a DataStaticRouter\n  if (dataRouterContext && dataRouterContext.static && dataRouterContext.staticContext && (match.route.errorElement || match.route.ErrorBoundary)) {\n    dataRouterContext.staticContext._deepestRenderedBoundaryId = match.route.id;\n  }\n  return /*#__PURE__*/React.createElement(RouteContext.Provider, {\n    value: routeContext\n  }, children);\n}\nfunction _renderMatches(matches, parentMatches, dataRouterState, future) {\n  var _dataRouterState;\n  if (parentMatches === void 0) {\n    parentMatches = [];\n  }\n  if (dataRouterState === void 0) {\n    dataRouterState = null;\n  }\n  if (future === void 0) {\n    future = null;\n  }\n  if (matches == null) {\n    var _future;\n    if (!dataRouterState) {\n      return null;\n    }\n    if (dataRouterState.errors) {\n      // Don't bail if we have data router errors so we can render them in the\n      // boundary.  Use the pre-matched (or shimmed) matches\n      matches = dataRouterState.matches;\n    } else if ((_future = future) != null && _future.v7_partialHydration && parentMatches.length === 0 && !dataRouterState.initialized && dataRouterState.matches.length > 0) {\n      // Don't bail if we're initializing with partial hydration and we have\n      // router matches.  That means we're actively running `patchRoutesOnNavigation`\n      // so we should render down the partial matches to the appropriate\n      // `HydrateFallback`.  We only do this if `parentMatches` is empty so it\n      // only impacts the root matches for `RouterProvider` and no descendant\n      // `<Routes>`\n      matches = dataRouterState.matches;\n    } else {\n      return null;\n    }\n  }\n  let renderedMatches = matches;\n\n  // If we have data errors, trim matches to the highest error boundary\n  let errors = (_dataRouterState = dataRouterState) == null ? void 0 : _dataRouterState.errors;\n  if (errors != null) {\n    let errorIndex = renderedMatches.findIndex(m => m.route.id && (errors == null ? void 0 : errors[m.route.id]) !== undefined);\n    !(errorIndex >= 0) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"Could not find a matching route for errors on route IDs: \" + Object.keys(errors).join(\",\")) : UNSAFE_invariant(false) : void 0;\n    renderedMatches = renderedMatches.slice(0, Math.min(renderedMatches.length, errorIndex + 1));\n  }\n\n  // If we're in a partial hydration mode, detect if we need to render down to\n  // a given HydrateFallback while we load the rest of the hydration data\n  let renderFallback = false;\n  let fallbackIndex = -1;\n  if (dataRouterState && future && future.v7_partialHydration) {\n    for (let i = 0; i < renderedMatches.length; i++) {\n      let match = renderedMatches[i];\n      // Track the deepest fallback up until the first route without data\n      if (match.route.HydrateFallback || match.route.hydrateFallbackElement) {\n        fallbackIndex = i;\n      }\n      if (match.route.id) {\n        let {\n          loaderData,\n          errors\n        } = dataRouterState;\n        let needsToRunLoader = match.route.loader && loaderData[match.route.id] === undefined && (!errors || errors[match.route.id] === undefined);\n        if (match.route.lazy || needsToRunLoader) {\n          // We found the first route that's not ready to render (waiting on\n          // lazy, or has a loader that hasn't run yet).  Flag that we need to\n          // render a fallback and render up until the appropriate fallback\n          renderFallback = true;\n          if (fallbackIndex >= 0) {\n            renderedMatches = renderedMatches.slice(0, fallbackIndex + 1);\n          } else {\n            renderedMatches = [renderedMatches[0]];\n          }\n          break;\n        }\n      }\n    }\n  }\n  return renderedMatches.reduceRight((outlet, match, index) => {\n    // Only data routers handle errors/fallbacks\n    let error;\n    let shouldRenderHydrateFallback = false;\n    let errorElement = null;\n    let hydrateFallbackElement = null;\n    if (dataRouterState) {\n      error = errors && match.route.id ? errors[match.route.id] : undefined;\n      errorElement = match.route.errorElement || defaultErrorElement;\n      if (renderFallback) {\n        if (fallbackIndex < 0 && index === 0) {\n          warningOnce(\"route-fallback\", false, \"No `HydrateFallback` element provided to render during initial hydration\");\n          shouldRenderHydrateFallback = true;\n          hydrateFallbackElement = null;\n        } else if (fallbackIndex === index) {\n          shouldRenderHydrateFallback = true;\n          hydrateFallbackElement = match.route.hydrateFallbackElement || null;\n        }\n      }\n    }\n    let matches = parentMatches.concat(renderedMatches.slice(0, index + 1));\n    let getChildren = () => {\n      let children;\n      if (error) {\n        children = errorElement;\n      } else if (shouldRenderHydrateFallback) {\n        children = hydrateFallbackElement;\n      } else if (match.route.Component) {\n        // Note: This is a de-optimized path since React won't re-use the\n        // ReactElement since it's identity changes with each new\n        // React.createElement call.  We keep this so folks can use\n        // `<Route Component={...}>` in `<Routes>` but generally `Component`\n        // usage is only advised in `RouterProvider` when we can convert it to\n        // `element` ahead of time.\n        children = /*#__PURE__*/React.createElement(match.route.Component, null);\n      } else if (match.route.element) {\n        children = match.route.element;\n      } else {\n        children = outlet;\n      }\n      return /*#__PURE__*/React.createElement(RenderedRoute, {\n        match: match,\n        routeContext: {\n          outlet,\n          matches,\n          isDataRoute: dataRouterState != null\n        },\n        children: children\n      });\n    };\n    // Only wrap in an error boundary within data router usages when we have an\n    // ErrorBoundary/errorElement on this route.  Otherwise let it bubble up to\n    // an ancestor ErrorBoundary/errorElement\n    return dataRouterState && (match.route.ErrorBoundary || match.route.errorElement || index === 0) ? /*#__PURE__*/React.createElement(RenderErrorBoundary, {\n      location: dataRouterState.location,\n      revalidation: dataRouterState.revalidation,\n      component: errorElement,\n      error: error,\n      children: getChildren(),\n      routeContext: {\n        outlet: null,\n        matches,\n        isDataRoute: true\n      }\n    }) : getChildren();\n  }, null);\n}\nvar DataRouterHook = /*#__PURE__*/function (DataRouterHook) {\n  DataRouterHook[\"UseBlocker\"] = \"useBlocker\";\n  DataRouterHook[\"UseRevalidator\"] = \"useRevalidator\";\n  DataRouterHook[\"UseNavigateStable\"] = \"useNavigate\";\n  return DataRouterHook;\n}(DataRouterHook || {});\nvar DataRouterStateHook = /*#__PURE__*/function (DataRouterStateHook) {\n  DataRouterStateHook[\"UseBlocker\"] = \"useBlocker\";\n  DataRouterStateHook[\"UseLoaderData\"] = \"useLoaderData\";\n  DataRouterStateHook[\"UseActionData\"] = \"useActionData\";\n  DataRouterStateHook[\"UseRouteError\"] = \"useRouteError\";\n  DataRouterStateHook[\"UseNavigation\"] = \"useNavigation\";\n  DataRouterStateHook[\"UseRouteLoaderData\"] = \"useRouteLoaderData\";\n  DataRouterStateHook[\"UseMatches\"] = \"useMatches\";\n  DataRouterStateHook[\"UseRevalidator\"] = \"useRevalidator\";\n  DataRouterStateHook[\"UseNavigateStable\"] = \"useNavigate\";\n  DataRouterStateHook[\"UseRouteId\"] = \"useRouteId\";\n  return DataRouterStateHook;\n}(DataRouterStateHook || {});\nfunction getDataRouterConsoleError(hookName) {\n  return hookName + \" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router.\";\n}\nfunction useDataRouterContext(hookName) {\n  let ctx = React.useContext(DataRouterContext);\n  !ctx ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, getDataRouterConsoleError(hookName)) : UNSAFE_invariant(false) : void 0;\n  return ctx;\n}\nfunction useDataRouterState(hookName) {\n  let state = React.useContext(DataRouterStateContext);\n  !state ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, getDataRouterConsoleError(hookName)) : UNSAFE_invariant(false) : void 0;\n  return state;\n}\nfunction useRouteContext(hookName) {\n  let route = React.useContext(RouteContext);\n  !route ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, getDataRouterConsoleError(hookName)) : UNSAFE_invariant(false) : void 0;\n  return route;\n}\n\n// Internal version with hookName-aware debugging\nfunction useCurrentRouteId(hookName) {\n  let route = useRouteContext(hookName);\n  let thisRoute = route.matches[route.matches.length - 1];\n  !thisRoute.route.id ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, hookName + \" can only be used on routes that contain a unique \\\"id\\\"\") : UNSAFE_invariant(false) : void 0;\n  return thisRoute.route.id;\n}\n\n/**\n * Returns the ID for the nearest contextual route\n */\nfunction useRouteId() {\n  return useCurrentRouteId(DataRouterStateHook.UseRouteId);\n}\n\n/**\n * Returns the current navigation, defaulting to an \"idle\" navigation when\n * no navigation is in progress\n */\nfunction useNavigation() {\n  let state = useDataRouterState(DataRouterStateHook.UseNavigation);\n  return state.navigation;\n}\n\n/**\n * Returns a revalidate function for manually triggering revalidation, as well\n * as the current state of any manual revalidations\n */\nfunction useRevalidator() {\n  let dataRouterContext = useDataRouterContext(DataRouterHook.UseRevalidator);\n  let state = useDataRouterState(DataRouterStateHook.UseRevalidator);\n  return React.useMemo(() => ({\n    revalidate: dataRouterContext.router.revalidate,\n    state: state.revalidation\n  }), [dataRouterContext.router.revalidate, state.revalidation]);\n}\n\n/**\n * Returns the active route matches, useful for accessing loaderData for\n * parent/child routes or the route \"handle\" property\n */\nfunction useMatches() {\n  let {\n    matches,\n    loaderData\n  } = useDataRouterState(DataRouterStateHook.UseMatches);\n  return React.useMemo(() => matches.map(m => UNSAFE_convertRouteMatchToUiMatch(m, loaderData)), [matches, loaderData]);\n}\n\n/**\n * Returns the loader data for the nearest ancestor Route loader\n */\nfunction useLoaderData() {\n  let state = useDataRouterState(DataRouterStateHook.UseLoaderData);\n  let routeId = useCurrentRouteId(DataRouterStateHook.UseLoaderData);\n  if (state.errors && state.errors[routeId] != null) {\n    console.error(\"You cannot `useLoaderData` in an errorElement (routeId: \" + routeId + \")\");\n    return undefined;\n  }\n  return state.loaderData[routeId];\n}\n\n/**\n * Returns the loaderData for the given routeId\n */\nfunction useRouteLoaderData(routeId) {\n  let state = useDataRouterState(DataRouterStateHook.UseRouteLoaderData);\n  return state.loaderData[routeId];\n}\n\n/**\n * Returns the action data for the nearest ancestor Route action\n */\nfunction useActionData() {\n  let state = useDataRouterState(DataRouterStateHook.UseActionData);\n  let routeId = useCurrentRouteId(DataRouterStateHook.UseLoaderData);\n  return state.actionData ? state.actionData[routeId] : undefined;\n}\n\n/**\n * Returns the nearest ancestor Route error, which could be a loader/action\n * error or a render error.  This is intended to be called from your\n * ErrorBoundary/errorElement to display a proper error message.\n */\nfunction useRouteError() {\n  var _state$errors;\n  let error = React.useContext(RouteErrorContext);\n  let state = useDataRouterState(DataRouterStateHook.UseRouteError);\n  let routeId = useCurrentRouteId(DataRouterStateHook.UseRouteError);\n\n  // If this was a render error, we put it in a RouteError context inside\n  // of RenderErrorBoundary\n  if (error !== undefined) {\n    return error;\n  }\n\n  // Otherwise look for errors from our data router state\n  return (_state$errors = state.errors) == null ? void 0 : _state$errors[routeId];\n}\n\n/**\n * Returns the happy-path data from the nearest ancestor `<Await />` value\n */\nfunction useAsyncValue() {\n  let value = React.useContext(AwaitContext);\n  return value == null ? void 0 : value._data;\n}\n\n/**\n * Returns the error from the nearest ancestor `<Await />` value\n */\nfunction useAsyncError() {\n  let value = React.useContext(AwaitContext);\n  return value == null ? void 0 : value._error;\n}\nlet blockerId = 0;\n\n/**\n * Allow the application to block navigations within the SPA and present the\n * user a confirmation dialog to confirm the navigation.  Mostly used to avoid\n * using half-filled form data.  This does not handle hard-reloads or\n * cross-origin navigations.\n */\nfunction useBlocker(shouldBlock) {\n  let {\n    router,\n    basename\n  } = useDataRouterContext(DataRouterHook.UseBlocker);\n  let state = useDataRouterState(DataRouterStateHook.UseBlocker);\n  let [blockerKey, setBlockerKey] = React.useState(\"\");\n  let blockerFunction = React.useCallback(arg => {\n    if (typeof shouldBlock !== \"function\") {\n      return !!shouldBlock;\n    }\n    if (basename === \"/\") {\n      return shouldBlock(arg);\n    }\n\n    // If they provided us a function and we've got an active basename, strip\n    // it from the locations we expose to the user to match the behavior of\n    // useLocation\n    let {\n      currentLocation,\n      nextLocation,\n      historyAction\n    } = arg;\n    return shouldBlock({\n      currentLocation: _extends({}, currentLocation, {\n        pathname: stripBasename(currentLocation.pathname, basename) || currentLocation.pathname\n      }),\n      nextLocation: _extends({}, nextLocation, {\n        pathname: stripBasename(nextLocation.pathname, basename) || nextLocation.pathname\n      }),\n      historyAction\n    });\n  }, [basename, shouldBlock]);\n\n  // This effect is in charge of blocker key assignment and deletion (which is\n  // tightly coupled to the key)\n  React.useEffect(() => {\n    let key = String(++blockerId);\n    setBlockerKey(key);\n    return () => router.deleteBlocker(key);\n  }, [router]);\n\n  // This effect handles assigning the blockerFunction.  This is to handle\n  // unstable blocker function identities, and happens only after the prior\n  // effect so we don't get an orphaned blockerFunction in the router with a\n  // key of \"\".  Until then we just have the IDLE_BLOCKER.\n  React.useEffect(() => {\n    if (blockerKey !== \"\") {\n      router.getBlocker(blockerKey, blockerFunction);\n    }\n  }, [router, blockerKey, blockerFunction]);\n\n  // Prefer the blocker from `state` not `router.state` since DataRouterContext\n  // is memoized so this ensures we update on blocker state updates\n  return blockerKey && state.blockers.has(blockerKey) ? state.blockers.get(blockerKey) : IDLE_BLOCKER;\n}\n\n/**\n * Stable version of useNavigate that is used when we are in the context of\n * a RouterProvider.\n */\nfunction useNavigateStable() {\n  let {\n    router\n  } = useDataRouterContext(DataRouterHook.UseNavigateStable);\n  let id = useCurrentRouteId(DataRouterStateHook.UseNavigateStable);\n  let activeRef = React.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n  let navigate = React.useCallback(function (to, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(activeRef.current, navigateEffectWarning) : void 0;\n\n    // Short circuit here since if this happens on first render the navigate\n    // is useless because we haven't wired up our router subscriber yet\n    if (!activeRef.current) return;\n    if (typeof to === \"number\") {\n      router.navigate(to);\n    } else {\n      router.navigate(to, _extends({\n        fromRouteId: id\n      }, options));\n    }\n  }, [router, id]);\n  return navigate;\n}\nconst alreadyWarned$1 = {};\nfunction warningOnce(key, cond, message) {\n  if (!cond && !alreadyWarned$1[key]) {\n    alreadyWarned$1[key] = true;\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, message) : void 0;\n  }\n}\n\nconst alreadyWarned = {};\nfunction warnOnce(key, message) {\n  if (process.env.NODE_ENV !== \"production\" && !alreadyWarned[message]) {\n    alreadyWarned[message] = true;\n    console.warn(message);\n  }\n}\nconst logDeprecation = (flag, msg, link) => warnOnce(flag, \"\\u26A0\\uFE0F React Router Future Flag Warning: \" + msg + \". \" + (\"You can use the `\" + flag + \"` future flag to opt-in early. \") + (\"For more information, see \" + link + \".\"));\nfunction logV6DeprecationWarnings(renderFuture, routerFuture) {\n  if ((renderFuture == null ? void 0 : renderFuture.v7_startTransition) === undefined) {\n    logDeprecation(\"v7_startTransition\", \"React Router will begin wrapping state updates in `React.startTransition` in v7\", \"https://reactrouter.com/v6/upgrading/future#v7_starttransition\");\n  }\n  if ((renderFuture == null ? void 0 : renderFuture.v7_relativeSplatPath) === undefined && (!routerFuture || routerFuture.v7_relativeSplatPath === undefined)) {\n    logDeprecation(\"v7_relativeSplatPath\", \"Relative route resolution within Splat routes is changing in v7\", \"https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath\");\n  }\n  if (routerFuture) {\n    if (routerFuture.v7_fetcherPersist === undefined) {\n      logDeprecation(\"v7_fetcherPersist\", \"The persistence behavior of fetchers is changing in v7\", \"https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist\");\n    }\n    if (routerFuture.v7_normalizeFormMethod === undefined) {\n      logDeprecation(\"v7_normalizeFormMethod\", \"Casing of `formMethod` fields is being normalized to uppercase in v7\", \"https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod\");\n    }\n    if (routerFuture.v7_partialHydration === undefined) {\n      logDeprecation(\"v7_partialHydration\", \"`RouterProvider` hydration behavior is changing in v7\", \"https://reactrouter.com/v6/upgrading/future#v7_partialhydration\");\n    }\n    if (routerFuture.v7_skipActionErrorRevalidation === undefined) {\n      logDeprecation(\"v7_skipActionErrorRevalidation\", \"The revalidation behavior after 4xx/5xx `action` responses is changing in v7\", \"https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation\");\n    }\n  }\n}\n\n/**\n  Webpack + React 17 fails to compile on any of the following because webpack\n  complains that `startTransition` doesn't exist in `React`:\n  * import { startTransition } from \"react\"\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React.startTransition(() => setState()) : setState()\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React[\"startTransition\"](() => setState()) : setState()\n\n  Moving it to a constant such as the following solves the Webpack/React 17 issue:\n  * import * as React from from \"react\";\n    const START_TRANSITION = \"startTransition\";\n    START_TRANSITION in React ? React[START_TRANSITION](() => setState()) : setState()\n\n  However, that introduces webpack/terser minification issues in production builds\n  in React 18 where minification/obfuscation ends up removing the call of\n  React.startTransition entirely from the first half of the ternary.  Grabbing\n  this exported reference once up front resolves that issue.\n\n  See https://github.com/remix-run/react-router/issues/10579\n*/\nconst START_TRANSITION = \"startTransition\";\nconst startTransitionImpl = React[START_TRANSITION];\n\n/**\n * Given a Remix Router instance, render the appropriate UI\n */\nfunction RouterProvider(_ref) {\n  let {\n    fallbackElement,\n    router,\n    future\n  } = _ref;\n  let [state, setStateImpl] = React.useState(router.state);\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    if (v7_startTransition && startTransitionImpl) {\n      startTransitionImpl(() => setStateImpl(newState));\n    } else {\n      setStateImpl(newState);\n    }\n  }, [setStateImpl, v7_startTransition]);\n\n  // Need to use a layout effect here so we are subscribed early enough to\n  // pick up on any render-driven redirects/navigations (useEffect/<Navigate>)\n  React.useLayoutEffect(() => router.subscribe(setState), [router, setState]);\n  React.useEffect(() => {\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(fallbackElement == null || !router.future.v7_partialHydration, \"`<RouterProvider fallbackElement>` is deprecated when using \" + \"`v7_partialHydration`, use a `HydrateFallback` component instead\") : void 0;\n    // Only log this once on initial mount\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  let navigator = React.useMemo(() => {\n    return {\n      createHref: router.createHref,\n      encodeLocation: router.encodeLocation,\n      go: n => router.navigate(n),\n      push: (to, state, opts) => router.navigate(to, {\n        state,\n        preventScrollReset: opts == null ? void 0 : opts.preventScrollReset\n      }),\n      replace: (to, state, opts) => router.navigate(to, {\n        replace: true,\n        state,\n        preventScrollReset: opts == null ? void 0 : opts.preventScrollReset\n      })\n    };\n  }, [router]);\n  let basename = router.basename || \"/\";\n  let dataRouterContext = React.useMemo(() => ({\n    router,\n    navigator,\n    static: false,\n    basename\n  }), [router, navigator, basename]);\n  React.useEffect(() => logV6DeprecationWarnings(future, router.future), [router, future]);\n\n  // The fragment and {null} here are important!  We need them to keep React 18's\n  // useId happy when we are server-rendering since we may have a <script> here\n  // containing the hydrated server-side staticContext (from StaticRouterProvider).\n  // useId relies on the component tree structure to generate deterministic id's\n  // so we need to ensure it remains the same on the client even though\n  // we don't need the <script> tag\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(DataRouterContext.Provider, {\n    value: dataRouterContext\n  }, /*#__PURE__*/React.createElement(DataRouterStateContext.Provider, {\n    value: state\n  }, /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    location: state.location,\n    navigationType: state.historyAction,\n    navigator: navigator,\n    future: {\n      v7_relativeSplatPath: router.future.v7_relativeSplatPath\n    }\n  }, state.initialized || router.future.v7_partialHydration ? /*#__PURE__*/React.createElement(DataRoutes, {\n    routes: router.routes,\n    future: router.future,\n    state: state\n  }) : fallbackElement))), null);\n}\nfunction DataRoutes(_ref2) {\n  let {\n    routes,\n    future,\n    state\n  } = _ref2;\n  return useRoutesImpl(routes, undefined, state, future);\n}\n/**\n * A `<Router>` that stores all entries in memory.\n *\n * @see https://reactrouter.com/v6/router-components/memory-router\n */\nfunction MemoryRouter(_ref3) {\n  let {\n    basename,\n    children,\n    initialEntries,\n    initialIndex,\n    future\n  } = _ref3;\n  let historyRef = React.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createMemoryHistory({\n      initialEntries,\n      initialIndex,\n      v5Compat: true\n    });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location\n  });\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);\n  }, [setStateImpl, v7_startTransition]);\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  React.useEffect(() => logV6DeprecationWarnings(future), [future]);\n  return /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    children: children,\n    location: state.location,\n    navigationType: state.action,\n    navigator: history,\n    future: future\n  });\n}\n/**\n * Changes the current location.\n *\n * Note: This API is mostly useful in React.Component subclasses that are not\n * able to use hooks. In functional components, we recommend you use the\n * `useNavigate` hook instead.\n *\n * @see https://reactrouter.com/v6/components/navigate\n */\nfunction Navigate(_ref4) {\n  let {\n    to,\n    replace,\n    state,\n    relative\n  } = _ref4;\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of\n  // the router loaded. We can help them understand how to avoid that.\n  \"<Navigate> may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  let {\n    future,\n    static: isStatic\n  } = React.useContext(NavigationContext);\n  process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(!isStatic, \"<Navigate> must not be used on the initial render in a <StaticRouter>. \" + \"This is a no-op, but you should modify your code so the <Navigate> is \" + \"only ever rendered in response to some user interaction or state change.\") : void 0;\n  let {\n    matches\n  } = React.useContext(RouteContext);\n  let {\n    pathname: locationPathname\n  } = useLocation();\n  let navigate = useNavigate();\n\n  // Resolve the path outside of the effect so that when effects run twice in\n  // StrictMode they navigate to the same place\n  let path = resolveTo(to, UNSAFE_getResolveToMatches(matches, future.v7_relativeSplatPath), locationPathname, relative === \"path\");\n  let jsonPath = JSON.stringify(path);\n  React.useEffect(() => navigate(JSON.parse(jsonPath), {\n    replace,\n    state,\n    relative\n  }), [navigate, jsonPath, relative, replace, state]);\n  return null;\n}\n/**\n * Renders the child route's element, if there is one.\n *\n * @see https://reactrouter.com/v6/components/outlet\n */\nfunction Outlet(props) {\n  return useOutlet(props.context);\n}\n/**\n * Declares an element that should be rendered at a certain URL path.\n *\n * @see https://reactrouter.com/v6/components/route\n */\nfunction Route(_props) {\n  process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"A <Route> is only ever to be used as the child of <Routes> element, \" + \"never rendered directly. Please wrap your <Route> in a <Routes>.\") : UNSAFE_invariant(false) ;\n}\n/**\n * Provides location context for the rest of the app.\n *\n * Note: You usually won't render a `<Router>` directly. Instead, you'll render a\n * router that is more specific to your environment such as a `<BrowserRouter>`\n * in web browsers or a `<StaticRouter>` for server rendering.\n *\n * @see https://reactrouter.com/v6/router-components/router\n */\nfunction Router(_ref5) {\n  let {\n    basename: basenameProp = \"/\",\n    children = null,\n    location: locationProp,\n    navigationType = Action.Pop,\n    navigator,\n    static: staticProp = false,\n    future\n  } = _ref5;\n  !!useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"You cannot render a <Router> inside another <Router>.\" + \" You should never have more than one in your app.\") : UNSAFE_invariant(false) : void 0;\n\n  // Preserve trailing slashes on basename, so we can let the user control\n  // the enforcement of trailing slashes throughout the app\n  let basename = basenameProp.replace(/^\\/*/, \"/\");\n  let navigationContext = React.useMemo(() => ({\n    basename,\n    navigator,\n    static: staticProp,\n    future: _extends({\n      v7_relativeSplatPath: false\n    }, future)\n  }), [basename, future, navigator, staticProp]);\n  if (typeof locationProp === \"string\") {\n    locationProp = parsePath(locationProp);\n  }\n  let {\n    pathname = \"/\",\n    search = \"\",\n    hash = \"\",\n    state = null,\n    key = \"default\"\n  } = locationProp;\n  let locationContext = React.useMemo(() => {\n    let trailingPathname = stripBasename(pathname, basename);\n    if (trailingPathname == null) {\n      return null;\n    }\n    return {\n      location: {\n        pathname: trailingPathname,\n        search,\n        hash,\n        state,\n        key\n      },\n      navigationType\n    };\n  }, [basename, pathname, search, hash, state, key, navigationType]);\n  process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(locationContext != null, \"<Router basename=\\\"\" + basename + \"\\\"> is not able to match the URL \" + (\"\\\"\" + pathname + search + hash + \"\\\" because it does not start with the \") + \"basename, so the <Router> won't render anything.\") : void 0;\n  if (locationContext == null) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(NavigationContext.Provider, {\n    value: navigationContext\n  }, /*#__PURE__*/React.createElement(LocationContext.Provider, {\n    children: children,\n    value: locationContext\n  }));\n}\n/**\n * A container for a nested tree of `<Route>` elements that renders the branch\n * that best matches the current location.\n *\n * @see https://reactrouter.com/v6/components/routes\n */\nfunction Routes(_ref6) {\n  let {\n    children,\n    location\n  } = _ref6;\n  return useRoutes(createRoutesFromChildren(children), location);\n}\n/**\n * Component to use for rendering lazily loaded data from returning defer()\n * in a loader function\n */\nfunction Await(_ref7) {\n  let {\n    children,\n    errorElement,\n    resolve\n  } = _ref7;\n  return /*#__PURE__*/React.createElement(AwaitErrorBoundary, {\n    resolve: resolve,\n    errorElement: errorElement\n  }, /*#__PURE__*/React.createElement(ResolveAwait, null, children));\n}\nvar AwaitRenderStatus = /*#__PURE__*/function (AwaitRenderStatus) {\n  AwaitRenderStatus[AwaitRenderStatus[\"pending\"] = 0] = \"pending\";\n  AwaitRenderStatus[AwaitRenderStatus[\"success\"] = 1] = \"success\";\n  AwaitRenderStatus[AwaitRenderStatus[\"error\"] = 2] = \"error\";\n  return AwaitRenderStatus;\n}(AwaitRenderStatus || {});\nconst neverSettledPromise = new Promise(() => {});\nclass AwaitErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null\n    };\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      error\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(\"<Await> caught the following error during render\", error, errorInfo);\n  }\n  render() {\n    let {\n      children,\n      errorElement,\n      resolve\n    } = this.props;\n    let promise = null;\n    let status = AwaitRenderStatus.pending;\n    if (!(resolve instanceof Promise)) {\n      // Didn't get a promise - provide as a resolved promise\n      status = AwaitRenderStatus.success;\n      promise = Promise.resolve();\n      Object.defineProperty(promise, \"_tracked\", {\n        get: () => true\n      });\n      Object.defineProperty(promise, \"_data\", {\n        get: () => resolve\n      });\n    } else if (this.state.error) {\n      // Caught a render error, provide it as a rejected promise\n      status = AwaitRenderStatus.error;\n      let renderError = this.state.error;\n      promise = Promise.reject().catch(() => {}); // Avoid unhandled rejection warnings\n      Object.defineProperty(promise, \"_tracked\", {\n        get: () => true\n      });\n      Object.defineProperty(promise, \"_error\", {\n        get: () => renderError\n      });\n    } else if (resolve._tracked) {\n      // Already tracked promise - check contents\n      promise = resolve;\n      status = \"_error\" in promise ? AwaitRenderStatus.error : \"_data\" in promise ? AwaitRenderStatus.success : AwaitRenderStatus.pending;\n    } else {\n      // Raw (untracked) promise - track it\n      status = AwaitRenderStatus.pending;\n      Object.defineProperty(resolve, \"_tracked\", {\n        get: () => true\n      });\n      promise = resolve.then(data => Object.defineProperty(resolve, \"_data\", {\n        get: () => data\n      }), error => Object.defineProperty(resolve, \"_error\", {\n        get: () => error\n      }));\n    }\n    if (status === AwaitRenderStatus.error && promise._error instanceof AbortedDeferredError) {\n      // Freeze the UI by throwing a never resolved promise\n      throw neverSettledPromise;\n    }\n    if (status === AwaitRenderStatus.error && !errorElement) {\n      // No errorElement, throw to the nearest route-level error boundary\n      throw promise._error;\n    }\n    if (status === AwaitRenderStatus.error) {\n      // Render via our errorElement\n      return /*#__PURE__*/React.createElement(AwaitContext.Provider, {\n        value: promise,\n        children: errorElement\n      });\n    }\n    if (status === AwaitRenderStatus.success) {\n      // Render children with resolved value\n      return /*#__PURE__*/React.createElement(AwaitContext.Provider, {\n        value: promise,\n        children: children\n      });\n    }\n\n    // Throw to the suspense boundary\n    throw promise;\n  }\n}\n\n/**\n * @private\n * Indirection to leverage useAsyncValue for a render-prop API on `<Await>`\n */\nfunction ResolveAwait(_ref8) {\n  let {\n    children\n  } = _ref8;\n  let data = useAsyncValue();\n  let toRender = typeof children === \"function\" ? children(data) : children;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, toRender);\n}\n\n///////////////////////////////////////////////////////////////////////////////\n// UTILS\n///////////////////////////////////////////////////////////////////////////////\n\n/**\n * Creates a route config from a React \"children\" object, which is usually\n * either a `<Route>` element or an array of them. Used internally by\n * `<Routes>` to create a route config from its children.\n *\n * @see https://reactrouter.com/v6/utils/create-routes-from-children\n */\nfunction createRoutesFromChildren(children, parentPath) {\n  if (parentPath === void 0) {\n    parentPath = [];\n  }\n  let routes = [];\n  React.Children.forEach(children, (element, index) => {\n    if (! /*#__PURE__*/React.isValidElement(element)) {\n      // Ignore non-elements. This allows people to more easily inline\n      // conditionals in their route config.\n      return;\n    }\n    let treePath = [...parentPath, index];\n    if (element.type === React.Fragment) {\n      // Transparently support React.Fragment and its children.\n      routes.push.apply(routes, createRoutesFromChildren(element.props.children, treePath));\n      return;\n    }\n    !(element.type === Route) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"[\" + (typeof element.type === \"string\" ? element.type : element.type.name) + \"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>\") : UNSAFE_invariant(false) : void 0;\n    !(!element.props.index || !element.props.children) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"An index route cannot have child routes.\") : UNSAFE_invariant(false) : void 0;\n    let route = {\n      id: element.props.id || treePath.join(\"-\"),\n      caseSensitive: element.props.caseSensitive,\n      element: element.props.element,\n      Component: element.props.Component,\n      index: element.props.index,\n      path: element.props.path,\n      loader: element.props.loader,\n      action: element.props.action,\n      errorElement: element.props.errorElement,\n      ErrorBoundary: element.props.ErrorBoundary,\n      hasErrorBoundary: element.props.ErrorBoundary != null || element.props.errorElement != null,\n      shouldRevalidate: element.props.shouldRevalidate,\n      handle: element.props.handle,\n      lazy: element.props.lazy\n    };\n    if (element.props.children) {\n      route.children = createRoutesFromChildren(element.props.children, treePath);\n    }\n    routes.push(route);\n  });\n  return routes;\n}\n\n/**\n * Renders the result of `matchRoutes()` into a React element.\n */\nfunction renderMatches(matches) {\n  return _renderMatches(matches);\n}\n\nfunction mapRouteProperties(route) {\n  let updates = {\n    // Note: this check also occurs in createRoutesFromChildren so update\n    // there if you change this -- please and thank you!\n    hasErrorBoundary: route.ErrorBoundary != null || route.errorElement != null\n  };\n  if (route.Component) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (route.element) {\n        process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"You should not include both `Component` and `element` on your route - \" + \"`Component` will be used.\") : void 0;\n      }\n    }\n    Object.assign(updates, {\n      element: /*#__PURE__*/React.createElement(route.Component),\n      Component: undefined\n    });\n  }\n  if (route.HydrateFallback) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (route.hydrateFallbackElement) {\n        process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - \" + \"`HydrateFallback` will be used.\") : void 0;\n      }\n    }\n    Object.assign(updates, {\n      hydrateFallbackElement: /*#__PURE__*/React.createElement(route.HydrateFallback),\n      HydrateFallback: undefined\n    });\n  }\n  if (route.ErrorBoundary) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (route.errorElement) {\n        process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"You should not include both `ErrorBoundary` and `errorElement` on your route - \" + \"`ErrorBoundary` will be used.\") : void 0;\n      }\n    }\n    Object.assign(updates, {\n      errorElement: /*#__PURE__*/React.createElement(route.ErrorBoundary),\n      ErrorBoundary: undefined\n    });\n  }\n  return updates;\n}\nfunction createMemoryRouter(routes, opts) {\n  return createRouter({\n    basename: opts == null ? void 0 : opts.basename,\n    future: _extends({}, opts == null ? void 0 : opts.future, {\n      v7_prependBasename: true\n    }),\n    history: createMemoryHistory({\n      initialEntries: opts == null ? void 0 : opts.initialEntries,\n      initialIndex: opts == null ? void 0 : opts.initialIndex\n    }),\n    hydrationData: opts == null ? void 0 : opts.hydrationData,\n    routes,\n    mapRouteProperties,\n    dataStrategy: opts == null ? void 0 : opts.dataStrategy,\n    patchRoutesOnNavigation: opts == null ? void 0 : opts.patchRoutesOnNavigation\n  }).initialize();\n}\n\nexport { Await, MemoryRouter, Navigate, Outlet, Route, Router, RouterProvider, Routes, DataRouterContext as UNSAFE_DataRouterContext, DataRouterStateContext as UNSAFE_DataRouterStateContext, LocationContext as UNSAFE_LocationContext, NavigationContext as UNSAFE_NavigationContext, RouteContext as UNSAFE_RouteContext, logV6DeprecationWarnings as UNSAFE_logV6DeprecationWarnings, mapRouteProperties as UNSAFE_mapRouteProperties, useRouteId as UNSAFE_useRouteId, useRoutesImpl as UNSAFE_useRoutesImpl, createMemoryRouter, createRoutesFromChildren, createRoutesFromChildren as createRoutesFromElements, renderMatches, useActionData, useAsyncError, useAsyncValue, useBlocker, useHref, useInRouterContext, useLoaderData, useLocation, useMatch, useMatches, useNavigate, useNavigation, useNavigationType, useOutlet, useOutletContext, useParams, useResolvedPath, useRevalidator, useRouteError, useRouteLoaderData, useRoutes };\n//# sourceMappingURL=index.js.map\n","/**\n * React Router DOM v6.30.3\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { UNSAFE_mapRouteProperties, UNSAFE_logV6DeprecationWarnings, UNSAFE_DataRouterContext, UNSAFE_DataRouterStateContext, Router, UNSAFE_useRoutesImpl, UNSAFE_NavigationContext, useHref, useResolvedPath, useLocation, useNavigate, createPath, UNSAFE_useRouteId, UNSAFE_RouteContext, useMatches, useNavigation, useBlocker } from 'react-router';\nexport { AbortedDeferredError, Await, MemoryRouter, Navigate, NavigationType, Outlet, Route, Router, Routes, UNSAFE_DataRouterContext, UNSAFE_DataRouterStateContext, UNSAFE_LocationContext, UNSAFE_NavigationContext, UNSAFE_RouteContext, UNSAFE_useRouteId, createMemoryRouter, createPath, createRoutesFromChildren, createRoutesFromElements, defer, generatePath, isRouteErrorResponse, json, matchPath, matchRoutes, parsePath, redirect, redirectDocument, renderMatches, replace, resolvePath, useActionData, useAsyncError, useAsyncValue, useBlocker, useHref, useInRouterContext, useLoaderData, useLocation, useMatch, useMatches, useNavigate, useNavigation, useNavigationType, useOutlet, useOutletContext, useParams, useResolvedPath, useRevalidator, useRouteError, useRouteLoaderData, useRoutes } from 'react-router';\nimport { stripBasename, UNSAFE_warning, createRouter, createBrowserHistory, createHashHistory, UNSAFE_ErrorResponseImpl, UNSAFE_invariant, joinPaths, IDLE_FETCHER, matchPath } from '@remix-run/router';\nexport { UNSAFE_ErrorResponseImpl } from '@remix-run/router';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\n\nconst defaultMethod = \"get\";\nconst defaultEncType = \"application/x-www-form-urlencoded\";\nfunction isHtmlElement(object) {\n  return object != null && typeof object.tagName === \"string\";\n}\nfunction isButtonElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"button\";\n}\nfunction isFormElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"form\";\n}\nfunction isInputElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"input\";\n}\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\nfunction shouldProcessLinkClick(event, target) {\n  return event.button === 0 && (\n  // Ignore everything but left clicks\n  !target || target === \"_self\") &&\n  // Let browser handle \"target=_blank\" etc.\n  !isModifiedEvent(event) // Ignore clicks with modifier keys\n  ;\n}\n/**\n * Creates a URLSearchParams object using the given initializer.\n *\n * This is identical to `new URLSearchParams(init)` except it also\n * supports arrays as values in the object form of the initializer\n * instead of just strings. This is convenient when you need multiple\n * values for a given key, but don't want to use an array initializer.\n *\n * For example, instead of:\n *\n *   let searchParams = new URLSearchParams([\n *     ['sort', 'name'],\n *     ['sort', 'price']\n *   ]);\n *\n * you can do:\n *\n *   let searchParams = createSearchParams({\n *     sort: ['name', 'price']\n *   });\n */\nfunction createSearchParams(init) {\n  if (init === void 0) {\n    init = \"\";\n  }\n  return new URLSearchParams(typeof init === \"string\" || Array.isArray(init) || init instanceof URLSearchParams ? init : Object.keys(init).reduce((memo, key) => {\n    let value = init[key];\n    return memo.concat(Array.isArray(value) ? value.map(v => [key, v]) : [[key, value]]);\n  }, []));\n}\nfunction getSearchParamsForLocation(locationSearch, defaultSearchParams) {\n  let searchParams = createSearchParams(locationSearch);\n  if (defaultSearchParams) {\n    // Use `defaultSearchParams.forEach(...)` here instead of iterating of\n    // `defaultSearchParams.keys()` to work-around a bug in Firefox related to\n    // web extensions. Relevant Bugzilla tickets:\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1414602\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1023984\n    defaultSearchParams.forEach((_, key) => {\n      if (!searchParams.has(key)) {\n        defaultSearchParams.getAll(key).forEach(value => {\n          searchParams.append(key, value);\n        });\n      }\n    });\n  }\n  return searchParams;\n}\n// One-time check for submitter support\nlet _formDataSupportsSubmitter = null;\nfunction isFormDataSubmitterSupported() {\n  if (_formDataSupportsSubmitter === null) {\n    try {\n      new FormData(document.createElement(\"form\"),\n      // @ts-expect-error if FormData supports the submitter parameter, this will throw\n      0);\n      _formDataSupportsSubmitter = false;\n    } catch (e) {\n      _formDataSupportsSubmitter = true;\n    }\n  }\n  return _formDataSupportsSubmitter;\n}\nconst supportedFormEncTypes = new Set([\"application/x-www-form-urlencoded\", \"multipart/form-data\", \"text/plain\"]);\nfunction getFormEncType(encType) {\n  if (encType != null && !supportedFormEncTypes.has(encType)) {\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"\\\"\" + encType + \"\\\" is not a valid `encType` for `<Form>`/`<fetcher.Form>` \" + (\"and will default to \\\"\" + defaultEncType + \"\\\"\")) : void 0;\n    return null;\n  }\n  return encType;\n}\nfunction getFormSubmissionInfo(target, basename) {\n  let method;\n  let action;\n  let encType;\n  let formData;\n  let body;\n  if (isFormElement(target)) {\n    // When grabbing the action from the element, it will have had the basename\n    // prefixed to ensure non-JS scenarios work, so strip it since we'll\n    // re-prefix in the router\n    let attr = target.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"enctype\")) || defaultEncType;\n    formData = new FormData(target);\n  } else if (isButtonElement(target) || isInputElement(target) && (target.type === \"submit\" || target.type === \"image\")) {\n    let form = target.form;\n    if (form == null) {\n      throw new Error(\"Cannot submit a <button> or <input type=\\\"submit\\\"> without a <form>\");\n    }\n    // <button>/<input type=\"submit\"> may override attributes of <form>\n    // When grabbing the action from the element, it will have had the basename\n    // prefixed to ensure non-JS scenarios work, so strip it since we'll\n    // re-prefix in the router\n    let attr = target.getAttribute(\"formaction\") || form.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"formmethod\") || form.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"formenctype\")) || getFormEncType(form.getAttribute(\"enctype\")) || defaultEncType;\n    // Build a FormData object populated from a form and submitter\n    formData = new FormData(form, target);\n    // If this browser doesn't support the `FormData(el, submitter)` format,\n    // then tack on the submitter value at the end.  This is a lightweight\n    // solution that is not 100% spec compliant.  For complete support in older\n    // browsers, consider using the `formdata-submitter-polyfill` package\n    if (!isFormDataSubmitterSupported()) {\n      let {\n        name,\n        type,\n        value\n      } = target;\n      if (type === \"image\") {\n        let prefix = name ? name + \".\" : \"\";\n        formData.append(prefix + \"x\", \"0\");\n        formData.append(prefix + \"y\", \"0\");\n      } else if (name) {\n        formData.append(name, value);\n      }\n    }\n  } else if (isHtmlElement(target)) {\n    throw new Error(\"Cannot submit element that is not <form>, <button>, or \" + \"<input type=\\\"submit|image\\\">\");\n  } else {\n    method = defaultMethod;\n    action = null;\n    encType = defaultEncType;\n    body = target;\n  }\n  // Send body for <Form encType=\"text/plain\" so we encode it into text\n  if (formData && encType === \"text/plain\") {\n    body = formData;\n    formData = undefined;\n  }\n  return {\n    action,\n    method: method.toLowerCase(),\n    encType,\n    formData,\n    body\n  };\n}\n\nconst _excluded = [\"onClick\", \"relative\", \"reloadDocument\", \"replace\", \"state\", \"target\", \"to\", \"preventScrollReset\", \"viewTransition\"],\n  _excluded2 = [\"aria-current\", \"caseSensitive\", \"className\", \"end\", \"style\", \"to\", \"viewTransition\", \"children\"],\n  _excluded3 = [\"fetcherKey\", \"navigate\", \"reloadDocument\", \"replace\", \"state\", \"method\", \"action\", \"onSubmit\", \"relative\", \"preventScrollReset\", \"viewTransition\"];\n// HEY YOU! DON'T TOUCH THIS VARIABLE!\n//\n// It is replaced with the proper version at build time via a babel plugin in\n// the rollup config.\n//\n// Export a global property onto the window for React Router detection by the\n// Core Web Vitals Technology Report.  This way they can configure the `wappalyzer`\n// to detect and properly classify live websites as being built with React Router:\n// https://github.com/HTTPArchive/wappalyzer/blob/main/src/technologies/r.json\nconst REACT_ROUTER_VERSION = \"6\";\ntry {\n  window.__reactRouterVersion = REACT_ROUTER_VERSION;\n} catch (e) {\n  // no-op\n}\nfunction createBrowserRouter(routes, opts) {\n  return createRouter({\n    basename: opts == null ? void 0 : opts.basename,\n    future: _extends({}, opts == null ? void 0 : opts.future, {\n      v7_prependBasename: true\n    }),\n    history: createBrowserHistory({\n      window: opts == null ? void 0 : opts.window\n    }),\n    hydrationData: (opts == null ? void 0 : opts.hydrationData) || parseHydrationData(),\n    routes,\n    mapRouteProperties: UNSAFE_mapRouteProperties,\n    dataStrategy: opts == null ? void 0 : opts.dataStrategy,\n    patchRoutesOnNavigation: opts == null ? void 0 : opts.patchRoutesOnNavigation,\n    window: opts == null ? void 0 : opts.window\n  }).initialize();\n}\nfunction createHashRouter(routes, opts) {\n  return createRouter({\n    basename: opts == null ? void 0 : opts.basename,\n    future: _extends({}, opts == null ? void 0 : opts.future, {\n      v7_prependBasename: true\n    }),\n    history: createHashHistory({\n      window: opts == null ? void 0 : opts.window\n    }),\n    hydrationData: (opts == null ? void 0 : opts.hydrationData) || parseHydrationData(),\n    routes,\n    mapRouteProperties: UNSAFE_mapRouteProperties,\n    dataStrategy: opts == null ? void 0 : opts.dataStrategy,\n    patchRoutesOnNavigation: opts == null ? void 0 : opts.patchRoutesOnNavigation,\n    window: opts == null ? void 0 : opts.window\n  }).initialize();\n}\nfunction parseHydrationData() {\n  var _window;\n  let state = (_window = window) == null ? void 0 : _window.__staticRouterHydrationData;\n  if (state && state.errors) {\n    state = _extends({}, state, {\n      errors: deserializeErrors(state.errors)\n    });\n  }\n  return state;\n}\nfunction deserializeErrors(errors) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    // Hey you!  If you change this, please change the corresponding logic in\n    // serializeErrors in react-router-dom/server.tsx :)\n    if (val && val.__type === \"RouteErrorResponse\") {\n      serialized[key] = new UNSAFE_ErrorResponseImpl(val.status, val.statusText, val.data, val.internal === true);\n    } else if (val && val.__type === \"Error\") {\n      // Attempt to reconstruct the right type of Error (i.e., ReferenceError)\n      if (val.__subType) {\n        let ErrorConstructor = window[val.__subType];\n        if (typeof ErrorConstructor === \"function\") {\n          try {\n            // @ts-expect-error\n            let error = new ErrorConstructor(val.message);\n            // Wipe away the client-side stack trace.  Nothing to fill it in with\n            // because we don't serialize SSR stack traces for security reasons\n            error.stack = \"\";\n            serialized[key] = error;\n          } catch (e) {\n            // no-op - fall through and create a normal Error\n          }\n        }\n      }\n      if (serialized[key] == null) {\n        let error = new Error(val.message);\n        // Wipe away the client-side stack trace.  Nothing to fill it in with\n        // because we don't serialize SSR stack traces for security reasons\n        error.stack = \"\";\n        serialized[key] = error;\n      }\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\nconst ViewTransitionContext = /*#__PURE__*/React.createContext({\n  isTransitioning: false\n});\nif (process.env.NODE_ENV !== \"production\") {\n  ViewTransitionContext.displayName = \"ViewTransition\";\n}\nconst FetchersContext = /*#__PURE__*/React.createContext(new Map());\nif (process.env.NODE_ENV !== \"production\") {\n  FetchersContext.displayName = \"Fetchers\";\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region Components\n////////////////////////////////////////////////////////////////////////////////\n/**\n  Webpack + React 17 fails to compile on any of the following because webpack\n  complains that `startTransition` doesn't exist in `React`:\n  * import { startTransition } from \"react\"\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React.startTransition(() => setState()) : setState()\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React[\"startTransition\"](() => setState()) : setState()\n\n  Moving it to a constant such as the following solves the Webpack/React 17 issue:\n  * import * as React from from \"react\";\n    const START_TRANSITION = \"startTransition\";\n    START_TRANSITION in React ? React[START_TRANSITION](() => setState()) : setState()\n\n  However, that introduces webpack/terser minification issues in production builds\n  in React 18 where minification/obfuscation ends up removing the call of\n  React.startTransition entirely from the first half of the ternary.  Grabbing\n  this exported reference once up front resolves that issue.\n\n  See https://github.com/remix-run/react-router/issues/10579\n*/\nconst START_TRANSITION = \"startTransition\";\nconst startTransitionImpl = React[START_TRANSITION];\nconst FLUSH_SYNC = \"flushSync\";\nconst flushSyncImpl = ReactDOM[FLUSH_SYNC];\nconst USE_ID = \"useId\";\nconst useIdImpl = React[USE_ID];\nfunction startTransitionSafe(cb) {\n  if (startTransitionImpl) {\n    startTransitionImpl(cb);\n  } else {\n    cb();\n  }\n}\nfunction flushSyncSafe(cb) {\n  if (flushSyncImpl) {\n    flushSyncImpl(cb);\n  } else {\n    cb();\n  }\n}\nclass Deferred {\n  constructor() {\n    this.status = \"pending\";\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = value => {\n        if (this.status === \"pending\") {\n          this.status = \"resolved\";\n          resolve(value);\n        }\n      };\n      this.reject = reason => {\n        if (this.status === \"pending\") {\n          this.status = \"rejected\";\n          reject(reason);\n        }\n      };\n    });\n  }\n}\n/**\n * Given a Remix Router instance, render the appropriate UI\n */\nfunction RouterProvider(_ref) {\n  let {\n    fallbackElement,\n    router,\n    future\n  } = _ref;\n  let [state, setStateImpl] = React.useState(router.state);\n  let [pendingState, setPendingState] = React.useState();\n  let [vtContext, setVtContext] = React.useState({\n    isTransitioning: false\n  });\n  let [renderDfd, setRenderDfd] = React.useState();\n  let [transition, setTransition] = React.useState();\n  let [interruption, setInterruption] = React.useState();\n  let fetcherData = React.useRef(new Map());\n  let {\n    v7_startTransition\n  } = future || {};\n  let optInStartTransition = React.useCallback(cb => {\n    if (v7_startTransition) {\n      startTransitionSafe(cb);\n    } else {\n      cb();\n    }\n  }, [v7_startTransition]);\n  let setState = React.useCallback((newState, _ref2) => {\n    let {\n      deletedFetchers,\n      flushSync: flushSync,\n      viewTransitionOpts: viewTransitionOpts\n    } = _ref2;\n    newState.fetchers.forEach((fetcher, key) => {\n      if (fetcher.data !== undefined) {\n        fetcherData.current.set(key, fetcher.data);\n      }\n    });\n    deletedFetchers.forEach(key => fetcherData.current.delete(key));\n    let isViewTransitionUnavailable = router.window == null || router.window.document == null || typeof router.window.document.startViewTransition !== \"function\";\n    // If this isn't a view transition or it's not available in this browser,\n    // just update and be done with it\n    if (!viewTransitionOpts || isViewTransitionUnavailable) {\n      if (flushSync) {\n        flushSyncSafe(() => setStateImpl(newState));\n      } else {\n        optInStartTransition(() => setStateImpl(newState));\n      }\n      return;\n    }\n    // flushSync + startViewTransition\n    if (flushSync) {\n      // Flush through the context to mark DOM elements as transition=ing\n      flushSyncSafe(() => {\n        // Cancel any pending transitions\n        if (transition) {\n          renderDfd && renderDfd.resolve();\n          transition.skipTransition();\n        }\n        setVtContext({\n          isTransitioning: true,\n          flushSync: true,\n          currentLocation: viewTransitionOpts.currentLocation,\n          nextLocation: viewTransitionOpts.nextLocation\n        });\n      });\n      // Update the DOM\n      let t = router.window.document.startViewTransition(() => {\n        flushSyncSafe(() => setStateImpl(newState));\n      });\n      // Clean up after the animation completes\n      t.finished.finally(() => {\n        flushSyncSafe(() => {\n          setRenderDfd(undefined);\n          setTransition(undefined);\n          setPendingState(undefined);\n          setVtContext({\n            isTransitioning: false\n          });\n        });\n      });\n      flushSyncSafe(() => setTransition(t));\n      return;\n    }\n    // startTransition + startViewTransition\n    if (transition) {\n      // Interrupting an in-progress transition, cancel and let everything flush\n      // out, and then kick off a new transition from the interruption state\n      renderDfd && renderDfd.resolve();\n      transition.skipTransition();\n      setInterruption({\n        state: newState,\n        currentLocation: viewTransitionOpts.currentLocation,\n        nextLocation: viewTransitionOpts.nextLocation\n      });\n    } else {\n      // Completed navigation update with opted-in view transitions, let 'er rip\n      setPendingState(newState);\n      setVtContext({\n        isTransitioning: true,\n        flushSync: false,\n        currentLocation: viewTransitionOpts.currentLocation,\n        nextLocation: viewTransitionOpts.nextLocation\n      });\n    }\n  }, [router.window, transition, renderDfd, fetcherData, optInStartTransition]);\n  // Need to use a layout effect here so we are subscribed early enough to\n  // pick up on any render-driven redirects/navigations (useEffect/<Navigate>)\n  React.useLayoutEffect(() => router.subscribe(setState), [router, setState]);\n  // When we start a view transition, create a Deferred we can use for the\n  // eventual \"completed\" render\n  React.useEffect(() => {\n    if (vtContext.isTransitioning && !vtContext.flushSync) {\n      setRenderDfd(new Deferred());\n    }\n  }, [vtContext]);\n  // Once the deferred is created, kick off startViewTransition() to update the\n  // DOM and then wait on the Deferred to resolve (indicating the DOM update has\n  // happened)\n  React.useEffect(() => {\n    if (renderDfd && pendingState && router.window) {\n      let newState = pendingState;\n      let renderPromise = renderDfd.promise;\n      let transition = router.window.document.startViewTransition(async () => {\n        optInStartTransition(() => setStateImpl(newState));\n        await renderPromise;\n      });\n      transition.finished.finally(() => {\n        setRenderDfd(undefined);\n        setTransition(undefined);\n        setPendingState(undefined);\n        setVtContext({\n          isTransitioning: false\n        });\n      });\n      setTransition(transition);\n    }\n  }, [optInStartTransition, pendingState, renderDfd, router.window]);\n  // When the new location finally renders and is committed to the DOM, this\n  // effect will run to resolve the transition\n  React.useEffect(() => {\n    if (renderDfd && pendingState && state.location.key === pendingState.location.key) {\n      renderDfd.resolve();\n    }\n  }, [renderDfd, transition, state.location, pendingState]);\n  // If we get interrupted with a new navigation during a transition, we skip\n  // the active transition, let it cleanup, then kick it off again here\n  React.useEffect(() => {\n    if (!vtContext.isTransitioning && interruption) {\n      setPendingState(interruption.state);\n      setVtContext({\n        isTransitioning: true,\n        flushSync: false,\n        currentLocation: interruption.currentLocation,\n        nextLocation: interruption.nextLocation\n      });\n      setInterruption(undefined);\n    }\n  }, [vtContext.isTransitioning, interruption]);\n  React.useEffect(() => {\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(fallbackElement == null || !router.future.v7_partialHydration, \"`<RouterProvider fallbackElement>` is deprecated when using \" + \"`v7_partialHydration`, use a `HydrateFallback` component instead\") : void 0;\n    // Only log this once on initial mount\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  let navigator = React.useMemo(() => {\n    return {\n      createHref: router.createHref,\n      encodeLocation: router.encodeLocation,\n      go: n => router.navigate(n),\n      push: (to, state, opts) => router.navigate(to, {\n        state,\n        preventScrollReset: opts == null ? void 0 : opts.preventScrollReset\n      }),\n      replace: (to, state, opts) => router.navigate(to, {\n        replace: true,\n        state,\n        preventScrollReset: opts == null ? void 0 : opts.preventScrollReset\n      })\n    };\n  }, [router]);\n  let basename = router.basename || \"/\";\n  let dataRouterContext = React.useMemo(() => ({\n    router,\n    navigator,\n    static: false,\n    basename\n  }), [router, navigator, basename]);\n  let routerFuture = React.useMemo(() => ({\n    v7_relativeSplatPath: router.future.v7_relativeSplatPath\n  }), [router.future.v7_relativeSplatPath]);\n  React.useEffect(() => UNSAFE_logV6DeprecationWarnings(future, router.future), [future, router.future]);\n  // The fragment and {null} here are important!  We need them to keep React 18's\n  // useId happy when we are server-rendering since we may have a <script> here\n  // containing the hydrated server-side staticContext (from StaticRouterProvider).\n  // useId relies on the component tree structure to generate deterministic id's\n  // so we need to ensure it remains the same on the client even though\n  // we don't need the <script> tag\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(UNSAFE_DataRouterContext.Provider, {\n    value: dataRouterContext\n  }, /*#__PURE__*/React.createElement(UNSAFE_DataRouterStateContext.Provider, {\n    value: state\n  }, /*#__PURE__*/React.createElement(FetchersContext.Provider, {\n    value: fetcherData.current\n  }, /*#__PURE__*/React.createElement(ViewTransitionContext.Provider, {\n    value: vtContext\n  }, /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    location: state.location,\n    navigationType: state.historyAction,\n    navigator: navigator,\n    future: routerFuture\n  }, state.initialized || router.future.v7_partialHydration ? /*#__PURE__*/React.createElement(MemoizedDataRoutes, {\n    routes: router.routes,\n    future: router.future,\n    state: state\n  }) : fallbackElement))))), null);\n}\n// Memoize to avoid re-renders when updating `ViewTransitionContext`\nconst MemoizedDataRoutes = /*#__PURE__*/React.memo(DataRoutes);\nfunction DataRoutes(_ref3) {\n  let {\n    routes,\n    future,\n    state\n  } = _ref3;\n  return UNSAFE_useRoutesImpl(routes, undefined, state, future);\n}\n/**\n * A `<Router>` for use in web browsers. Provides the cleanest URLs.\n */\nfunction BrowserRouter(_ref4) {\n  let {\n    basename,\n    children,\n    future,\n    window\n  } = _ref4;\n  let historyRef = React.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createBrowserHistory({\n      window,\n      v5Compat: true\n    });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location\n  });\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);\n  }, [setStateImpl, v7_startTransition]);\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  React.useEffect(() => UNSAFE_logV6DeprecationWarnings(future), [future]);\n  return /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    children: children,\n    location: state.location,\n    navigationType: state.action,\n    navigator: history,\n    future: future\n  });\n}\n/**\n * A `<Router>` for use in web browsers. Stores the location in the hash\n * portion of the URL so it is not sent to the server.\n */\nfunction HashRouter(_ref5) {\n  let {\n    basename,\n    children,\n    future,\n    window\n  } = _ref5;\n  let historyRef = React.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createHashHistory({\n      window,\n      v5Compat: true\n    });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location\n  });\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);\n  }, [setStateImpl, v7_startTransition]);\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  React.useEffect(() => UNSAFE_logV6DeprecationWarnings(future), [future]);\n  return /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    children: children,\n    location: state.location,\n    navigationType: state.action,\n    navigator: history,\n    future: future\n  });\n}\n/**\n * A `<Router>` that accepts a pre-instantiated history object. It's important\n * to note that using your own history object is highly discouraged and may add\n * two versions of the history library to your bundles unless you use the same\n * version of the history library that React Router uses internally.\n */\nfunction HistoryRouter(_ref6) {\n  let {\n    basename,\n    children,\n    future,\n    history\n  } = _ref6;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location\n  });\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);\n  }, [setStateImpl, v7_startTransition]);\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  React.useEffect(() => UNSAFE_logV6DeprecationWarnings(future), [future]);\n  return /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    children: children,\n    location: state.location,\n    navigationType: state.action,\n    navigator: history,\n    future: future\n  });\n}\nif (process.env.NODE_ENV !== \"production\") {\n  HistoryRouter.displayName = \"unstable_HistoryRouter\";\n}\nconst isBrowser = typeof window !== \"undefined\" && typeof window.document !== \"undefined\" && typeof window.document.createElement !== \"undefined\";\nconst ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\n/**\n * The public API for rendering a history-aware `<a>`.\n */\nconst Link = /*#__PURE__*/React.forwardRef(function LinkWithRef(_ref7, ref) {\n  let {\n      onClick,\n      relative,\n      reloadDocument,\n      replace,\n      state,\n      target,\n      to,\n      preventScrollReset,\n      viewTransition\n    } = _ref7,\n    rest = _objectWithoutPropertiesLoose(_ref7, _excluded);\n  let {\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  // Rendered into <a href> for absolute URLs\n  let absoluteHref;\n  let isExternal = false;\n  if (typeof to === \"string\" && ABSOLUTE_URL_REGEX.test(to)) {\n    // Render the absolute href server- and client-side\n    absoluteHref = to;\n    // Only check for external origins client-side\n    if (isBrowser) {\n      try {\n        let currentUrl = new URL(window.location.href);\n        let targetUrl = to.startsWith(\"//\") ? new URL(currentUrl.protocol + to) : new URL(to);\n        let path = stripBasename(targetUrl.pathname, basename);\n        if (targetUrl.origin === currentUrl.origin && path != null) {\n          // Strip the protocol/origin/basename for same-origin absolute URLs\n          to = path + targetUrl.search + targetUrl.hash;\n        } else {\n          isExternal = true;\n        }\n      } catch (e) {\n        // We can't do external URL detection without a valid URL\n        process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"<Link to=\\\"\" + to + \"\\\"> contains an invalid URL which will probably break \" + \"when clicked - please update to a valid URL path.\") : void 0;\n      }\n    }\n  }\n  // Rendered into <a href> for relative URLs\n  let href = useHref(to, {\n    relative\n  });\n  let internalOnClick = useLinkClickHandler(to, {\n    replace,\n    state,\n    target,\n    preventScrollReset,\n    relative,\n    viewTransition\n  });\n  function handleClick(event) {\n    if (onClick) onClick(event);\n    if (!event.defaultPrevented) {\n      internalOnClick(event);\n    }\n  }\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line jsx-a11y/anchor-has-content\n    React.createElement(\"a\", _extends({}, rest, {\n      href: absoluteHref || href,\n      onClick: isExternal || reloadDocument ? onClick : handleClick,\n      ref: ref,\n      target: target\n    }))\n  );\n});\nif (process.env.NODE_ENV !== \"production\") {\n  Link.displayName = \"Link\";\n}\n/**\n * A `<Link>` wrapper that knows if it's \"active\" or not.\n */\nconst NavLink = /*#__PURE__*/React.forwardRef(function NavLinkWithRef(_ref8, ref) {\n  let {\n      \"aria-current\": ariaCurrentProp = \"page\",\n      caseSensitive = false,\n      className: classNameProp = \"\",\n      end = false,\n      style: styleProp,\n      to,\n      viewTransition,\n      children\n    } = _ref8,\n    rest = _objectWithoutPropertiesLoose(_ref8, _excluded2);\n  let path = useResolvedPath(to, {\n    relative: rest.relative\n  });\n  let location = useLocation();\n  let routerState = React.useContext(UNSAFE_DataRouterStateContext);\n  let {\n    navigator,\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  let isTransitioning = routerState != null &&\n  // Conditional usage is OK here because the usage of a data router is static\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  useViewTransitionState(path) && viewTransition === true;\n  let toPathname = navigator.encodeLocation ? navigator.encodeLocation(path).pathname : path.pathname;\n  let locationPathname = location.pathname;\n  let nextLocationPathname = routerState && routerState.navigation && routerState.navigation.location ? routerState.navigation.location.pathname : null;\n  if (!caseSensitive) {\n    locationPathname = locationPathname.toLowerCase();\n    nextLocationPathname = nextLocationPathname ? nextLocationPathname.toLowerCase() : null;\n    toPathname = toPathname.toLowerCase();\n  }\n  if (nextLocationPathname && basename) {\n    nextLocationPathname = stripBasename(nextLocationPathname, basename) || nextLocationPathname;\n  }\n  // If the `to` has a trailing slash, look at that exact spot.  Otherwise,\n  // we're looking for a slash _after_ what's in `to`.  For example:\n  //\n  // <NavLink to=\"/users\"> and <NavLink to=\"/users/\">\n  // both want to look for a / at index 6 to match URL `/users/matt`\n  const endSlashPosition = toPathname !== \"/\" && toPathname.endsWith(\"/\") ? toPathname.length - 1 : toPathname.length;\n  let isActive = locationPathname === toPathname || !end && locationPathname.startsWith(toPathname) && locationPathname.charAt(endSlashPosition) === \"/\";\n  let isPending = nextLocationPathname != null && (nextLocationPathname === toPathname || !end && nextLocationPathname.startsWith(toPathname) && nextLocationPathname.charAt(toPathname.length) === \"/\");\n  let renderProps = {\n    isActive,\n    isPending,\n    isTransitioning\n  };\n  let ariaCurrent = isActive ? ariaCurrentProp : undefined;\n  let className;\n  if (typeof classNameProp === \"function\") {\n    className = classNameProp(renderProps);\n  } else {\n    // If the className prop is not a function, we use a default `active`\n    // class for <NavLink />s that are active. In v5 `active` was the default\n    // value for `activeClassName`, but we are removing that API and can still\n    // use the old default behavior for a cleaner upgrade path and keep the\n    // simple styling rules working as they currently do.\n    className = [classNameProp, isActive ? \"active\" : null, isPending ? \"pending\" : null, isTransitioning ? \"transitioning\" : null].filter(Boolean).join(\" \");\n  }\n  let style = typeof styleProp === \"function\" ? styleProp(renderProps) : styleProp;\n  return /*#__PURE__*/React.createElement(Link, _extends({}, rest, {\n    \"aria-current\": ariaCurrent,\n    className: className,\n    ref: ref,\n    style: style,\n    to: to,\n    viewTransition: viewTransition\n  }), typeof children === \"function\" ? children(renderProps) : children);\n});\nif (process.env.NODE_ENV !== \"production\") {\n  NavLink.displayName = \"NavLink\";\n}\n/**\n * A `@remix-run/router`-aware `<form>`. It behaves like a normal form except\n * that the interaction with the server is with `fetch` instead of new document\n * requests, allowing components to add nicer UX to the page as the form is\n * submitted and returns with data.\n */\nconst Form = /*#__PURE__*/React.forwardRef((_ref9, forwardedRef) => {\n  let {\n      fetcherKey,\n      navigate,\n      reloadDocument,\n      replace,\n      state,\n      method = defaultMethod,\n      action,\n      onSubmit,\n      relative,\n      preventScrollReset,\n      viewTransition\n    } = _ref9,\n    props = _objectWithoutPropertiesLoose(_ref9, _excluded3);\n  let submit = useSubmit();\n  let formAction = useFormAction(action, {\n    relative\n  });\n  let formMethod = method.toLowerCase() === \"get\" ? \"get\" : \"post\";\n  let submitHandler = event => {\n    onSubmit && onSubmit(event);\n    if (event.defaultPrevented) return;\n    event.preventDefault();\n    let submitter = event.nativeEvent.submitter;\n    let submitMethod = (submitter == null ? void 0 : submitter.getAttribute(\"formmethod\")) || method;\n    submit(submitter || event.currentTarget, {\n      fetcherKey,\n      method: submitMethod,\n      navigate,\n      replace,\n      state,\n      relative,\n      preventScrollReset,\n      viewTransition\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"form\", _extends({\n    ref: forwardedRef,\n    method: formMethod,\n    action: formAction,\n    onSubmit: reloadDocument ? onSubmit : submitHandler\n  }, props));\n});\nif (process.env.NODE_ENV !== \"production\") {\n  Form.displayName = \"Form\";\n}\n/**\n * This component will emulate the browser's scroll restoration on location\n * changes.\n */\nfunction ScrollRestoration(_ref10) {\n  let {\n    getKey,\n    storageKey\n  } = _ref10;\n  useScrollRestoration({\n    getKey,\n    storageKey\n  });\n  return null;\n}\nif (process.env.NODE_ENV !== \"production\") {\n  ScrollRestoration.displayName = \"ScrollRestoration\";\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region Hooks\n////////////////////////////////////////////////////////////////////////////////\nvar DataRouterHook;\n(function (DataRouterHook) {\n  DataRouterHook[\"UseScrollRestoration\"] = \"useScrollRestoration\";\n  DataRouterHook[\"UseSubmit\"] = \"useSubmit\";\n  DataRouterHook[\"UseSubmitFetcher\"] = \"useSubmitFetcher\";\n  DataRouterHook[\"UseFetcher\"] = \"useFetcher\";\n  DataRouterHook[\"useViewTransitionState\"] = \"useViewTransitionState\";\n})(DataRouterHook || (DataRouterHook = {}));\nvar DataRouterStateHook;\n(function (DataRouterStateHook) {\n  DataRouterStateHook[\"UseFetcher\"] = \"useFetcher\";\n  DataRouterStateHook[\"UseFetchers\"] = \"useFetchers\";\n  DataRouterStateHook[\"UseScrollRestoration\"] = \"useScrollRestoration\";\n})(DataRouterStateHook || (DataRouterStateHook = {}));\n// Internal hooks\nfunction getDataRouterConsoleError(hookName) {\n  return hookName + \" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router.\";\n}\nfunction useDataRouterContext(hookName) {\n  let ctx = React.useContext(UNSAFE_DataRouterContext);\n  !ctx ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, getDataRouterConsoleError(hookName)) : UNSAFE_invariant(false) : void 0;\n  return ctx;\n}\nfunction useDataRouterState(hookName) {\n  let state = React.useContext(UNSAFE_DataRouterStateContext);\n  !state ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, getDataRouterConsoleError(hookName)) : UNSAFE_invariant(false) : void 0;\n  return state;\n}\n// External hooks\n/**\n * Handles the click behavior for router `<Link>` components. This is useful if\n * you need to create custom `<Link>` components with the same click behavior we\n * use in our exported `<Link>`.\n */\nfunction useLinkClickHandler(to, _temp) {\n  let {\n    target,\n    replace: replaceProp,\n    state,\n    preventScrollReset,\n    relative,\n    viewTransition\n  } = _temp === void 0 ? {} : _temp;\n  let navigate = useNavigate();\n  let location = useLocation();\n  let path = useResolvedPath(to, {\n    relative\n  });\n  return React.useCallback(event => {\n    if (shouldProcessLinkClick(event, target)) {\n      event.preventDefault();\n      // If the URL hasn't changed, a regular <a> will do a replace instead of\n      // a push, so do the same here unless the replace prop is explicitly set\n      let replace = replaceProp !== undefined ? replaceProp : createPath(location) === createPath(path);\n      navigate(to, {\n        replace,\n        state,\n        preventScrollReset,\n        relative,\n        viewTransition\n      });\n    }\n  }, [location, navigate, path, replaceProp, state, target, to, preventScrollReset, relative, viewTransition]);\n}\n/**\n * A convenient wrapper for reading and writing search parameters via the\n * URLSearchParams interface.\n */\nfunction useSearchParams(defaultInit) {\n  process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(typeof URLSearchParams !== \"undefined\", \"You cannot use the `useSearchParams` hook in a browser that does not \" + \"support the URLSearchParams API. If you need to support Internet \" + \"Explorer 11, we recommend you load a polyfill such as \" + \"https://github.com/ungap/url-search-params.\") : void 0;\n  let defaultSearchParamsRef = React.useRef(createSearchParams(defaultInit));\n  let hasSetSearchParamsRef = React.useRef(false);\n  let location = useLocation();\n  let searchParams = React.useMemo(() =>\n  // Only merge in the defaults if we haven't yet called setSearchParams.\n  // Once we call that we want those to take precedence, otherwise you can't\n  // remove a param with setSearchParams({}) if it has an initial value\n  getSearchParamsForLocation(location.search, hasSetSearchParamsRef.current ? null : defaultSearchParamsRef.current), [location.search]);\n  let navigate = useNavigate();\n  let setSearchParams = React.useCallback((nextInit, navigateOptions) => {\n    const newSearchParams = createSearchParams(typeof nextInit === \"function\" ? nextInit(searchParams) : nextInit);\n    hasSetSearchParamsRef.current = true;\n    navigate(\"?\" + newSearchParams, navigateOptions);\n  }, [navigate, searchParams]);\n  return [searchParams, setSearchParams];\n}\nfunction validateClientSideSubmission() {\n  if (typeof document === \"undefined\") {\n    throw new Error(\"You are calling submit during the server render. \" + \"Try calling submit within a `useEffect` or callback instead.\");\n  }\n}\nlet fetcherId = 0;\nlet getUniqueFetcherId = () => \"__\" + String(++fetcherId) + \"__\";\n/**\n * Returns a function that may be used to programmatically submit a form (or\n * some arbitrary data) to the server.\n */\nfunction useSubmit() {\n  let {\n    router\n  } = useDataRouterContext(DataRouterHook.UseSubmit);\n  let {\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  let currentRouteId = UNSAFE_useRouteId();\n  return React.useCallback(function (target, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    validateClientSideSubmission();\n    let {\n      action,\n      method,\n      encType,\n      formData,\n      body\n    } = getFormSubmissionInfo(target, basename);\n    if (options.navigate === false) {\n      let key = options.fetcherKey || getUniqueFetcherId();\n      router.fetch(key, currentRouteId, options.action || action, {\n        preventScrollReset: options.preventScrollReset,\n        formData,\n        body,\n        formMethod: options.method || method,\n        formEncType: options.encType || encType,\n        flushSync: options.flushSync\n      });\n    } else {\n      router.navigate(options.action || action, {\n        preventScrollReset: options.preventScrollReset,\n        formData,\n        body,\n        formMethod: options.method || method,\n        formEncType: options.encType || encType,\n        replace: options.replace,\n        state: options.state,\n        fromRouteId: currentRouteId,\n        flushSync: options.flushSync,\n        viewTransition: options.viewTransition\n      });\n    }\n  }, [router, basename, currentRouteId]);\n}\n// v7: Eventually we should deprecate this entirely in favor of using the\n// router method directly?\nfunction useFormAction(action, _temp2) {\n  let {\n    relative\n  } = _temp2 === void 0 ? {} : _temp2;\n  let {\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  let routeContext = React.useContext(UNSAFE_RouteContext);\n  !routeContext ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"useFormAction must be used inside a RouteContext\") : UNSAFE_invariant(false) : void 0;\n  let [match] = routeContext.matches.slice(-1);\n  // Shallow clone path so we can modify it below, otherwise we modify the\n  // object referenced by useMemo inside useResolvedPath\n  let path = _extends({}, useResolvedPath(action ? action : \".\", {\n    relative\n  }));\n  // If no action was specified, browsers will persist current search params\n  // when determining the path, so match that behavior\n  // https://github.com/remix-run/remix/issues/927\n  let location = useLocation();\n  if (action == null) {\n    // Safe to write to this directly here since if action was undefined, we\n    // would have called useResolvedPath(\".\") which will never include a search\n    path.search = location.search;\n    // When grabbing search params from the URL, remove any included ?index param\n    // since it might not apply to our contextual route.  We add it back based\n    // on match.route.index below\n    let params = new URLSearchParams(path.search);\n    let indexValues = params.getAll(\"index\");\n    let hasNakedIndexParam = indexValues.some(v => v === \"\");\n    if (hasNakedIndexParam) {\n      params.delete(\"index\");\n      indexValues.filter(v => v).forEach(v => params.append(\"index\", v));\n      let qs = params.toString();\n      path.search = qs ? \"?\" + qs : \"\";\n    }\n  }\n  if ((!action || action === \".\") && match.route.index) {\n    path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n  }\n  // If we're operating within a basename, prepend it to the pathname prior\n  // to creating the form action.  If this is a root navigation, then just use\n  // the raw basename which allows the basename to have full control over the\n  // presence of a trailing slash on root actions\n  if (basename !== \"/\") {\n    path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n  return createPath(path);\n}\n// TODO: (v7) Change the useFetcher generic default from `any` to `unknown`\n/**\n * Interacts with route loaders and actions without causing a navigation. Great\n * for any interaction that stays on the same page.\n */\nfunction useFetcher(_temp3) {\n  var _route$matches;\n  let {\n    key\n  } = _temp3 === void 0 ? {} : _temp3;\n  let {\n    router\n  } = useDataRouterContext(DataRouterHook.UseFetcher);\n  let state = useDataRouterState(DataRouterStateHook.UseFetcher);\n  let fetcherData = React.useContext(FetchersContext);\n  let route = React.useContext(UNSAFE_RouteContext);\n  let routeId = (_route$matches = route.matches[route.matches.length - 1]) == null ? void 0 : _route$matches.route.id;\n  !fetcherData ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"useFetcher must be used inside a FetchersContext\") : UNSAFE_invariant(false) : void 0;\n  !route ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"useFetcher must be used inside a RouteContext\") : UNSAFE_invariant(false) : void 0;\n  !(routeId != null) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"useFetcher can only be used on routes that contain a unique \\\"id\\\"\") : UNSAFE_invariant(false) : void 0;\n  // Fetcher key handling\n  // OK to call conditionally to feature detect `useId`\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  let defaultKey = useIdImpl ? useIdImpl() : \"\";\n  let [fetcherKey, setFetcherKey] = React.useState(key || defaultKey);\n  if (key && key !== fetcherKey) {\n    setFetcherKey(key);\n  } else if (!fetcherKey) {\n    // We will only fall through here when `useId` is not available\n    setFetcherKey(getUniqueFetcherId());\n  }\n  // Registration/cleanup\n  React.useEffect(() => {\n    router.getFetcher(fetcherKey);\n    return () => {\n      // Tell the router we've unmounted - if v7_fetcherPersist is enabled this\n      // will not delete immediately but instead queue up a delete after the\n      // fetcher returns to an `idle` state\n      router.deleteFetcher(fetcherKey);\n    };\n  }, [router, fetcherKey]);\n  // Fetcher additions\n  let load = React.useCallback((href, opts) => {\n    !routeId ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"No routeId available for fetcher.load()\") : UNSAFE_invariant(false) : void 0;\n    router.fetch(fetcherKey, routeId, href, opts);\n  }, [fetcherKey, routeId, router]);\n  let submitImpl = useSubmit();\n  let submit = React.useCallback((target, opts) => {\n    submitImpl(target, _extends({}, opts, {\n      navigate: false,\n      fetcherKey\n    }));\n  }, [fetcherKey, submitImpl]);\n  let FetcherForm = React.useMemo(() => {\n    let FetcherForm = /*#__PURE__*/React.forwardRef((props, ref) => {\n      return /*#__PURE__*/React.createElement(Form, _extends({}, props, {\n        navigate: false,\n        fetcherKey: fetcherKey,\n        ref: ref\n      }));\n    });\n    if (process.env.NODE_ENV !== \"production\") {\n      FetcherForm.displayName = \"fetcher.Form\";\n    }\n    return FetcherForm;\n  }, [fetcherKey]);\n  // Exposed FetcherWithComponents\n  let fetcher = state.fetchers.get(fetcherKey) || IDLE_FETCHER;\n  let data = fetcherData.get(fetcherKey);\n  let fetcherWithComponents = React.useMemo(() => _extends({\n    Form: FetcherForm,\n    submit,\n    load\n  }, fetcher, {\n    data\n  }), [FetcherForm, submit, load, fetcher, data]);\n  return fetcherWithComponents;\n}\n/**\n * Provides all fetchers currently on the page. Useful for layouts and parent\n * routes that need to provide pending/optimistic UI regarding the fetch.\n */\nfunction useFetchers() {\n  let state = useDataRouterState(DataRouterStateHook.UseFetchers);\n  return Array.from(state.fetchers.entries()).map(_ref11 => {\n    let [key, fetcher] = _ref11;\n    return _extends({}, fetcher, {\n      key\n    });\n  });\n}\nconst SCROLL_RESTORATION_STORAGE_KEY = \"react-router-scroll-positions\";\nlet savedScrollPositions = {};\n/**\n * When rendered inside a RouterProvider, will restore scroll positions on navigations\n */\nfunction useScrollRestoration(_temp4) {\n  let {\n    getKey,\n    storageKey\n  } = _temp4 === void 0 ? {} : _temp4;\n  let {\n    router\n  } = useDataRouterContext(DataRouterHook.UseScrollRestoration);\n  let {\n    restoreScrollPosition,\n    preventScrollReset\n  } = useDataRouterState(DataRouterStateHook.UseScrollRestoration);\n  let {\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  let location = useLocation();\n  let matches = useMatches();\n  let navigation = useNavigation();\n  // Trigger manual scroll restoration while we're active\n  React.useEffect(() => {\n    window.history.scrollRestoration = \"manual\";\n    return () => {\n      window.history.scrollRestoration = \"auto\";\n    };\n  }, []);\n  // Save positions on pagehide\n  usePageHide(React.useCallback(() => {\n    if (navigation.state === \"idle\") {\n      let key = (getKey ? getKey(location, matches) : null) || location.key;\n      savedScrollPositions[key] = window.scrollY;\n    }\n    try {\n      sessionStorage.setItem(storageKey || SCROLL_RESTORATION_STORAGE_KEY, JSON.stringify(savedScrollPositions));\n    } catch (error) {\n      process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (\" + error + \").\") : void 0;\n    }\n    window.history.scrollRestoration = \"auto\";\n  }, [storageKey, getKey, navigation.state, location, matches]));\n  // Read in any saved scroll locations\n  if (typeof document !== \"undefined\") {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      try {\n        let sessionPositions = sessionStorage.getItem(storageKey || SCROLL_RESTORATION_STORAGE_KEY);\n        if (sessionPositions) {\n          savedScrollPositions = JSON.parse(sessionPositions);\n        }\n      } catch (e) {\n        // no-op, use default empty object\n      }\n    }, [storageKey]);\n    // Enable scroll restoration in the router\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      let getKeyWithoutBasename = getKey && basename !== \"/\" ? (location, matches) => getKey( // Strip the basename to match useLocation()\n      _extends({}, location, {\n        pathname: stripBasename(location.pathname, basename) || location.pathname\n      }), matches) : getKey;\n      let disableScrollRestoration = router == null ? void 0 : router.enableScrollRestoration(savedScrollPositions, () => window.scrollY, getKeyWithoutBasename);\n      return () => disableScrollRestoration && disableScrollRestoration();\n    }, [router, basename, getKey]);\n    // Restore scrolling when state.restoreScrollPosition changes\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      // Explicit false means don't do anything (used for submissions)\n      if (restoreScrollPosition === false) {\n        return;\n      }\n      // been here before, scroll to it\n      if (typeof restoreScrollPosition === \"number\") {\n        window.scrollTo(0, restoreScrollPosition);\n        return;\n      }\n      // try to scroll to the hash\n      if (location.hash) {\n        let el = document.getElementById(decodeURIComponent(location.hash.slice(1)));\n        if (el) {\n          el.scrollIntoView();\n          return;\n        }\n      }\n      // Don't reset if this navigation opted out\n      if (preventScrollReset === true) {\n        return;\n      }\n      // otherwise go to the top on new locations\n      window.scrollTo(0, 0);\n    }, [location, restoreScrollPosition, preventScrollReset]);\n  }\n}\n/**\n * Setup a callback to be fired on the window's `beforeunload` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */\nfunction useBeforeUnload(callback, options) {\n  let {\n    capture\n  } = options || {};\n  React.useEffect(() => {\n    let opts = capture != null ? {\n      capture\n    } : undefined;\n    window.addEventListener(\"beforeunload\", callback, opts);\n    return () => {\n      window.removeEventListener(\"beforeunload\", callback, opts);\n    };\n  }, [callback, capture]);\n}\n/**\n * Setup a callback to be fired on the window's `pagehide` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.  This event is better supported than beforeunload across browsers.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */\nfunction usePageHide(callback, options) {\n  let {\n    capture\n  } = options || {};\n  React.useEffect(() => {\n    let opts = capture != null ? {\n      capture\n    } : undefined;\n    window.addEventListener(\"pagehide\", callback, opts);\n    return () => {\n      window.removeEventListener(\"pagehide\", callback, opts);\n    };\n  }, [callback, capture]);\n}\n/**\n * Wrapper around useBlocker to show a window.confirm prompt to users instead\n * of building a custom UI with useBlocker.\n *\n * Warning: This has *a lot of rough edges* and behaves very differently (and\n * very incorrectly in some cases) across browsers if user click addition\n * back/forward navigations while the confirm is open.  Use at your own risk.\n */\nfunction usePrompt(_ref12) {\n  let {\n    when,\n    message\n  } = _ref12;\n  let blocker = useBlocker(when);\n  React.useEffect(() => {\n    if (blocker.state === \"blocked\") {\n      let proceed = window.confirm(message);\n      if (proceed) {\n        // This timeout is needed to avoid a weird \"race\" on POP navigations\n        // between the `window.history` revert navigation and the result of\n        // `window.confirm`\n        setTimeout(blocker.proceed, 0);\n      } else {\n        blocker.reset();\n      }\n    }\n  }, [blocker, message]);\n  React.useEffect(() => {\n    if (blocker.state === \"blocked\" && !when) {\n      blocker.reset();\n    }\n  }, [blocker, when]);\n}\n/**\n * Return a boolean indicating if there is an active view transition to the\n * given href.  You can use this value to render CSS classes or viewTransitionName\n * styles onto your elements\n *\n * @param href The destination href\n * @param [opts.relative] Relative routing type (\"route\" | \"path\")\n */\nfunction useViewTransitionState(to, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n  let vtContext = React.useContext(ViewTransitionContext);\n  !(vtContext != null) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  \" + \"Did you accidentally import `RouterProvider` from `react-router`?\") : UNSAFE_invariant(false) : void 0;\n  let {\n    basename\n  } = useDataRouterContext(DataRouterHook.useViewTransitionState);\n  let path = useResolvedPath(to, {\n    relative: opts.relative\n  });\n  if (!vtContext.isTransitioning) {\n    return false;\n  }\n  let currentPath = stripBasename(vtContext.currentLocation.pathname, basename) || vtContext.currentLocation.pathname;\n  let nextPath = stripBasename(vtContext.nextLocation.pathname, basename) || vtContext.nextLocation.pathname;\n  // Transition is active if we're going to or coming from the indicated\n  // destination.  This ensures that other PUSH navigations that reverse\n  // an indicated transition apply.  I.e., on the list view you have:\n  //\n  //   <NavLink to=\"/details/1\" viewTransition>\n  //\n  // If you click the breadcrumb back to the list view:\n  //\n  //   <NavLink to=\"/list\" viewTransition>\n  //\n  // We should apply the transition because it's indicated as active going\n  // from /list -> /details/1 and therefore should be active on the reverse\n  // (even though this isn't strictly a POP reverse)\n  return matchPath(path.pathname, nextPath) != null || matchPath(path.pathname, currentPath) != null;\n}\n//#endregion\n\nexport { BrowserRouter, Form, HashRouter, Link, NavLink, RouterProvider, ScrollRestoration, FetchersContext as UNSAFE_FetchersContext, ViewTransitionContext as UNSAFE_ViewTransitionContext, useScrollRestoration as UNSAFE_useScrollRestoration, createBrowserRouter, createHashRouter, createSearchParams, HistoryRouter as unstable_HistoryRouter, usePrompt as unstable_usePrompt, useBeforeUnload, useFetcher, useFetchers, useFormAction, useLinkClickHandler, useSearchParams, useSubmit, useViewTransitionState };\n//# sourceMappingURL=index.js.map\n","import y from\"react\";import{matchResourceFromRoute as k,ResourceContext as A}from\"@refinedev/core\";import{useCallback as R,useContext as E}from\"react\";import P from\"qs\";import{useNavigate as b,useLocation as v,Link as I,matchPath as S,useParams as F}from\"react-router-dom\";var h=t=>{if(typeof t>\"u\")return t;let o=Number(t);return`${o}`===t?o:t};var x={addQueryPrefix:!0,skipNulls:!0,arrayFormat:\"indices\",encode:!1,encodeValuesOnly:!0},D={go:()=>{let{search:t,hash:o}=v(),r=b();return R(({to:s,type:n,query:e,hash:a,options:{keepQuery:c,keepHash:f}={}})=>{let u={...c&&t&&P.parse(t,{ignoreQueryPrefix:!0}),...e};u.to&&(u.to=encodeURIComponent(`${u.to}`));let p=Object.keys(u).length>0,m=`#${(a||f&&o||\"\").replace(/^#/,\"\")}`,d=m.length>1,C=`${s||\"\"}${p?P.stringify(u,x):\"\"}${d?m:\"\"}`;return n===\"path\"?C:r(C,{replace:n===\"replace\"})},[o,t,r])},back:()=>{let t=b();return R(()=>{t(-1)},[t])},parse:()=>{var c;let t=F(),{pathname:o,search:r}=v(),{resources:i}=E(A),{resource:s,action:n,matchedRoute:e}=y.useMemo(()=>k(o,i),[i,o]);return Object.entries(t).length===0&&e&&(t=((c=S(e,o))==null?void 0:c.params)||{}),R(()=>{let f=P.parse(r,{ignoreQueryPrefix:!0}),u={...t,...f};return{...s&&{resource:s},...n&&{action:n},...(t==null?void 0:t.id)&&{id:decodeURIComponent(t.id)},pathname:o,params:{...u,current:h(u.current),pageSize:h(u.pageSize),to:u.to?decodeURIComponent(u.to):void 0}}},[o,r,t,s,n])},Link:y.forwardRef(function(o,r){return y.createElement(I,{...o,ref:r})})};import $ from\"react\";import{useResource as H}from\"@refinedev/core\";import N from\"react\";import{Route as j}from\"react-router-dom\";var B=(t,o)=>{let{name:r,list:i,create:s,show:n,edit:e}=t;if(typeof i==\"string\"&&o===\"list\")return i;if(typeof i==\"object\"&&o===\"list\")return i.path;if(typeof s==\"string\"&&o===\"create\")return s;if(typeof s==\"object\"&&o===\"create\")return s.path;if(typeof n==\"string\"&&o===\"show\")return n;if(typeof n==\"object\"&&o===\"show\")return n.path;if(typeof e==\"string\"&&o===\"edit\")return e;if(typeof e==\"object\"&&o===\"edit\")return e.path;let a=`/${r}`,c=`${[\"edit\",\"create\",\"clone\",\"show\"].includes(o)?o:\"\"}`,f=`${[\"edit\",\"show\",\"clone\"].includes(o)?\":id\":\"\"}`;return[a,c,f].filter(Boolean).join(\"/\")},T=t=>t.flatMap(r=>{let i=[];return[\"list\",\"show\",\"edit\",\"create\"].forEach(s=>{let n=r[s];if(typeof n<\"u\"&&typeof n!=\"string\"){let e=typeof n==\"function\"?n:n.component,a=B(r,s);i.push({action:s,element:e,path:a}),s===\"create\"&&i.push({action:\"clone\",element:e,path:a})}}),i.map(({action:s,element:n,path:e})=>{let a=N.createElement(n,null);return N.createElement(j,{key:`${s}-${e}`,path:e,element:a})})});import{Routes as M}from\"react-router-dom\";var G=({children:t})=>{let{resources:o}=H(),r=$.useMemo(()=>T(o),[o]);return t?t(r):$.createElement(M,null,r)};import{useResource as Q,useGetToPath as V}from\"@refinedev/core\";import q from\"react\";import{Navigate as K}from\"react-router-dom\";var O=({resource:t,meta:o})=>{let r=V(),{resource:i,resources:s}=Q(t),n=i||s.find(e=>e.list);if(n){let e=r({resource:n,action:\"list\",meta:o});return e?q.createElement(K,{to:e}):(console.warn(\"No resource is found to navigate to.\"),null)}return console.warn(\"No resource is found to navigate to.\"),null};import L from\"react\";import{useTranslate as X,useWarnAboutChange as W}from\"@refinedev/core\";import l from\"react\";import{UNSAFE_NavigationContext as z}from\"react-router-dom\";function J(t,o=!0){let{navigator:r}=l.useContext(z);l.useEffect(()=>{if(!o)return;let i=r.go,s=r.push;return r.push=(...n)=>{t()!==!1&&s(...n)},r.go=(...n)=>{t()!==!1&&i(...n)},()=>{r.push=s,r.go=i}},[r,t,o])}function w(t,o=!0,r,i=!1){let s=l.useCallback(e=>(e.preventDefault(),e.returnValue=t,e.returnValue),[t]);l.useEffect(()=>(o&&!i&&window.addEventListener(\"beforeunload\",s),()=>{window.removeEventListener(\"beforeunload\",s)}),[s,o,i]);let n=l.useCallback(()=>{let e=window.confirm(t);return e&&r&&r(),e},[t]);J(n,o)}import{useLocation as Y}from\"react-router-dom\";var _=({translationKey:t=\"warnWhenUnsavedChanges\",message:o=\"Are you sure you want to leave? You have unsaved changes.\"})=>{let r=X(),{pathname:i}=Y(),{warnWhen:s,setWarnWhen:n}=W();L.useEffect(()=>()=>n==null?void 0:n(!1),[i]);let e=L.useMemo(()=>r(t,o),[t,o,r]);return w(e,s,()=>{n==null||n(!1)}),null};import Z from\"react\";import{Navigate as ee,useLocation as te}from\"react-router-dom\";var oe=({to:t})=>{let{pathname:o,search:r}=te(),i=`${o}${r}`,s=i.length>1?`?to=${encodeURIComponent(i)}`:\"\";return Z.createElement(ee,{to:`${t}${s}`})};import{useParsed as re,useTranslate as ne,generateDefaultDocumentTitle as se,useUserFriendlyName as ie}from\"@refinedev/core\";import U,{useLayoutEffect as ae}from\"react\";import{useLocation as ue}from\"react-router-dom\";function ce({handler:t}){var d;let o=ue(),{action:r,id:i,params:s,pathname:n,resource:e}=re(),a=ne(),c=ie(),f=(e==null?void 0:e.identifier)??(e==null?void 0:e.name),p=(e==null?void 0:e.label)??((d=e==null?void 0:e.meta)==null?void 0:d.label)??c(f,r===\"list\"?\"plural\":\"singular\"),m=a(`${e==null?void 0:e.name}.${e==null?void 0:e.name}`,p);return ae(()=>{let g=se(a,e,r,`${i}`,p);t?document.title=t({action:r,resource:{...e??{},label:m,meta:{...e==null?void 0:e.meta,label:m}},params:s,pathname:n,autoGeneratedTitle:g}):document.title=g},[o]),U.createElement(U.Fragment,null)}import{useTranslate as fe}from\"@refinedev/core\";import{useEffect as pe}from\"react\";var me=t=>{let o=fe();return pe(()=>{t&&(typeof t==\"string\"?document.title=o(t):document.title=o(t.i18nKey))},[t]),r=>{typeof r==\"string\"?document.title=o(r):document.title=o(r.i18nKey)}};export{oe as CatchAllNavigate,ce as DocumentTitleHandler,O as NavigateToResource,G as RefineRoutes,_ as UnsavedChangesNotifier,D as default,x as stringifyConfig,me as useDocumentTitle};\n//# sourceMappingURL=index.mjs.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Priority = exports.isModKey = exports.shouldRejectKeystrokes = exports.useThrottledValue = exports.getScrollbarWidth = exports.useIsomorphicLayout = exports.noop = exports.createAction = exports.randomId = exports.usePointerMovedSinceMount = exports.useOuterClick = exports.swallowEvent = void 0;\nvar React = __importStar(require(\"react\"));\nfunction swallowEvent(event) {\n    event.stopPropagation();\n    event.preventDefault();\n}\nexports.swallowEvent = swallowEvent;\nfunction useOuterClick(dom, cb) {\n    var cbRef = React.useRef(cb);\n    cbRef.current = cb;\n    React.useEffect(function () {\n        function handler(event) {\n            var _a, _b;\n            if (((_a = dom.current) === null || _a === void 0 ? void 0 : _a.contains(event.target)) ||\n                // Add support for ReactShadowRoot\n                // @ts-expect-error wrong types, the `host` property exists https://stackoverflow.com/a/25340456\n                event.target === ((_b = dom.current) === null || _b === void 0 ? void 0 : _b.getRootNode().host)) {\n                return;\n            }\n            event.preventDefault();\n            event.stopPropagation();\n            cbRef.current();\n        }\n        window.addEventListener(\"pointerdown\", handler, true);\n        return function () { return window.removeEventListener(\"pointerdown\", handler, true); };\n    }, [dom]);\n}\nexports.useOuterClick = useOuterClick;\nfunction usePointerMovedSinceMount() {\n    var _a = React.useState(false), moved = _a[0], setMoved = _a[1];\n    React.useEffect(function () {\n        function handler() {\n            setMoved(true);\n        }\n        if (!moved) {\n            window.addEventListener(\"pointermove\", handler);\n            return function () { return window.removeEventListener(\"pointermove\", handler); };\n        }\n    }, [moved]);\n    return moved;\n}\nexports.usePointerMovedSinceMount = usePointerMovedSinceMount;\nfunction randomId() {\n    return Math.random().toString(36).substring(2, 9);\n}\nexports.randomId = randomId;\nfunction createAction(params) {\n    return __assign({ id: randomId() }, params);\n}\nexports.createAction = createAction;\nfunction noop() { }\nexports.noop = noop;\nexports.useIsomorphicLayout = typeof window === \"undefined\" ? noop : React.useLayoutEffect;\n// https://stackoverflow.com/questions/13382516/getting-scroll-bar-width-using-javascript\nfunction getScrollbarWidth() {\n    var outer = document.createElement(\"div\");\n    outer.style.visibility = \"hidden\";\n    outer.style.overflow = \"scroll\";\n    document.body.appendChild(outer);\n    var inner = document.createElement(\"div\");\n    outer.appendChild(inner);\n    var scrollbarWidth = outer.offsetWidth - inner.offsetWidth;\n    outer.parentNode.removeChild(outer);\n    return scrollbarWidth;\n}\nexports.getScrollbarWidth = getScrollbarWidth;\nfunction useThrottledValue(value, ms) {\n    if (ms === void 0) { ms = 100; }\n    var _a = React.useState(value), throttledValue = _a[0], setThrottledValue = _a[1];\n    var lastRan = React.useRef(Date.now());\n    React.useEffect(function () {\n        if (ms === 0)\n            return;\n        var timeout = setTimeout(function () {\n            setThrottledValue(value);\n            lastRan.current = Date.now();\n        }, lastRan.current - (Date.now() - ms));\n        return function () {\n            clearTimeout(timeout);\n        };\n    }, [ms, value]);\n    return ms === 0 ? value : throttledValue;\n}\nexports.useThrottledValue = useThrottledValue;\nfunction shouldRejectKeystrokes(_a) {\n    var _b, _c;\n    var _d = _a === void 0 ? { ignoreWhenFocused: [] } : _a, ignoreWhenFocused = _d.ignoreWhenFocused;\n    var inputs = __spreadArray([\"input\", \"textarea\"], ignoreWhenFocused, true).map(function (el) {\n        return el.toLowerCase();\n    });\n    var activeElement = document.activeElement;\n    var ignoreStrokes = activeElement &&\n        (inputs.indexOf(activeElement.tagName.toLowerCase()) !== -1 ||\n            ((_b = activeElement.attributes.getNamedItem(\"role\")) === null || _b === void 0 ? void 0 : _b.value) === \"textbox\" ||\n            ((_c = activeElement.attributes.getNamedItem(\"contenteditable\")) === null || _c === void 0 ? void 0 : _c.value) ===\n                \"true\");\n    return ignoreStrokes;\n}\nexports.shouldRejectKeystrokes = shouldRejectKeystrokes;\nvar SSR = typeof window === \"undefined\";\nvar isMac = !SSR && window.navigator.platform === \"MacIntel\";\nfunction isModKey(event) {\n    return isMac ? event.metaKey : event.ctrlKey;\n}\nexports.isModKey = isModKey;\nexports.Priority = {\n    HIGH: 1,\n    NORMAL: 0,\n    LOW: -1,\n};\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global[\"fast-equals\"] = {}));\n})(this, (function (exports) { 'use strict';\n\n  var HAS_WEAKSET_SUPPORT = typeof WeakSet === 'function';\r\n  var keys = Object.keys;\r\n  /**\r\n   * are the values passed strictly equal or both NaN\r\n   *\r\n   * @param a the value to compare against\r\n   * @param b the value to test\r\n   * @returns are the values equal by the SameValueZero principle\r\n   */\r\n  function sameValueZeroEqual(a, b) {\r\n      return a === b || (a !== a && b !== b);\r\n  }\r\n  /**\r\n   * is the value a plain object\r\n   *\r\n   * @param value the value to test\r\n   * @returns is the value a plain object\r\n   */\r\n  function isPlainObject(value) {\r\n      return value.constructor === Object || value.constructor == null;\r\n  }\r\n  /**\r\n   * is the value promise-like (meaning it is thenable)\r\n   *\r\n   * @param value the value to test\r\n   * @returns is the value promise-like\r\n   */\r\n  function isPromiseLike(value) {\r\n      return !!value && typeof value.then === 'function';\r\n  }\r\n  /**\r\n   * is the value passed a react element\r\n   *\r\n   * @param value the value to test\r\n   * @returns is the value a react element\r\n   */\r\n  function isReactElement(value) {\r\n      return !!(value && value.$$typeof);\r\n  }\r\n  /**\r\n   * in cases where WeakSet is not supported, creates a new custom\r\n   * object that mimics the necessary API aspects for cache purposes\r\n   *\r\n   * @returns the new cache object\r\n   */\r\n  function getNewCacheFallback() {\r\n      var values = [];\r\n      return {\r\n          add: function (value) {\r\n              values.push(value);\r\n          },\r\n          has: function (value) {\r\n              return values.indexOf(value) !== -1;\r\n          },\r\n      };\r\n  }\r\n  /**\r\n   * get a new cache object to prevent circular references\r\n   *\r\n   * @returns the new cache object\r\n   */\r\n  var getNewCache = (function (canUseWeakMap) {\r\n      if (canUseWeakMap) {\r\n          return function _getNewCache() {\r\n              return new WeakSet();\r\n          };\r\n      }\r\n      return getNewCacheFallback;\r\n  })(HAS_WEAKSET_SUPPORT);\r\n  /**\r\n   * create a custom isEqual handler specific to circular objects\r\n   *\r\n   * @param [isEqual] the isEqual comparator to use instead of isDeepEqual\r\n   * @returns the method to create the `isEqual` function\r\n   */\r\n  function createCircularEqualCreator(isEqual) {\r\n      return function createCircularEqual(comparator) {\r\n          var _comparator = isEqual || comparator;\r\n          return function circularEqual(a, b, cache) {\r\n              if (cache === void 0) { cache = getNewCache(); }\r\n              var isCacheableA = !!a && typeof a === 'object';\r\n              var isCacheableB = !!b && typeof b === 'object';\r\n              if (isCacheableA || isCacheableB) {\r\n                  var hasA = isCacheableA && cache.has(a);\r\n                  var hasB = isCacheableB && cache.has(b);\r\n                  if (hasA || hasB) {\r\n                      return hasA && hasB;\r\n                  }\r\n                  if (isCacheableA) {\r\n                      cache.add(a);\r\n                  }\r\n                  if (isCacheableB) {\r\n                      cache.add(b);\r\n                  }\r\n              }\r\n              return _comparator(a, b, cache);\r\n          };\r\n      };\r\n  }\r\n  /**\r\n   * are the arrays equal in value\r\n   *\r\n   * @param a the array to test\r\n   * @param b the array to test against\r\n   * @param isEqual the comparator to determine equality\r\n   * @param meta the meta object to pass through\r\n   * @returns are the arrays equal\r\n   */\r\n  function areArraysEqual(a, b, isEqual, meta) {\r\n      var index = a.length;\r\n      if (b.length !== index) {\r\n          return false;\r\n      }\r\n      while (index-- > 0) {\r\n          if (!isEqual(a[index], b[index], meta)) {\r\n              return false;\r\n          }\r\n      }\r\n      return true;\r\n  }\r\n  /**\r\n   * are the maps equal in value\r\n   *\r\n   * @param a the map to test\r\n   * @param b the map to test against\r\n   * @param isEqual the comparator to determine equality\r\n   * @param meta the meta map to pass through\r\n   * @returns are the maps equal\r\n   */\r\n  function areMapsEqual(a, b, isEqual, meta) {\r\n      var isValueEqual = a.size === b.size;\r\n      if (isValueEqual && a.size) {\r\n          var matchedIndices_1 = {};\r\n          a.forEach(function (aValue, aKey) {\r\n              if (isValueEqual) {\r\n                  var hasMatch_1 = false;\r\n                  var matchIndex_1 = 0;\r\n                  b.forEach(function (bValue, bKey) {\r\n                      if (!hasMatch_1 && !matchedIndices_1[matchIndex_1]) {\r\n                          hasMatch_1 =\r\n                              isEqual(aKey, bKey, meta) && isEqual(aValue, bValue, meta);\r\n                          if (hasMatch_1) {\r\n                              matchedIndices_1[matchIndex_1] = true;\r\n                          }\r\n                      }\r\n                      matchIndex_1++;\r\n                  });\r\n                  isValueEqual = hasMatch_1;\r\n              }\r\n          });\r\n      }\r\n      return isValueEqual;\r\n  }\r\n  var OWNER = '_owner';\r\n  var hasOwnProperty = Function.prototype.bind.call(Function.prototype.call, Object.prototype.hasOwnProperty);\r\n  /**\r\n   * are the objects equal in value\r\n   *\r\n   * @param a the object to test\r\n   * @param b the object to test against\r\n   * @param isEqual the comparator to determine equality\r\n   * @param meta the meta object to pass through\r\n   * @returns are the objects equal\r\n   */\r\n  function areObjectsEqual(a, b, isEqual, meta) {\r\n      var keysA = keys(a);\r\n      var index = keysA.length;\r\n      if (keys(b).length !== index) {\r\n          return false;\r\n      }\r\n      if (index) {\r\n          var key = void 0;\r\n          while (index-- > 0) {\r\n              key = keysA[index];\r\n              if (key === OWNER) {\r\n                  var reactElementA = isReactElement(a);\r\n                  var reactElementB = isReactElement(b);\r\n                  if ((reactElementA || reactElementB) &&\r\n                      reactElementA !== reactElementB) {\r\n                      return false;\r\n                  }\r\n              }\r\n              if (!hasOwnProperty(b, key) || !isEqual(a[key], b[key], meta)) {\r\n                  return false;\r\n              }\r\n          }\r\n      }\r\n      return true;\r\n  }\r\n  /**\r\n   * are the regExps equal in value\r\n   *\r\n   * @param a the regExp to test\r\n   * @param b the regExp to test agains\r\n   * @returns are the regExps equal\r\n   */\r\n  function areRegExpsEqual(a, b) {\r\n      return (a.source === b.source &&\r\n          a.global === b.global &&\r\n          a.ignoreCase === b.ignoreCase &&\r\n          a.multiline === b.multiline &&\r\n          a.unicode === b.unicode &&\r\n          a.sticky === b.sticky &&\r\n          a.lastIndex === b.lastIndex);\r\n  }\r\n  /**\r\n   * are the sets equal in value\r\n   *\r\n   * @param a the set to test\r\n   * @param b the set to test against\r\n   * @param isEqual the comparator to determine equality\r\n   * @param meta the meta set to pass through\r\n   * @returns are the sets equal\r\n   */\r\n  function areSetsEqual(a, b, isEqual, meta) {\r\n      var isValueEqual = a.size === b.size;\r\n      if (isValueEqual && a.size) {\r\n          var matchedIndices_2 = {};\r\n          a.forEach(function (aValue) {\r\n              if (isValueEqual) {\r\n                  var hasMatch_2 = false;\r\n                  var matchIndex_2 = 0;\r\n                  b.forEach(function (bValue) {\r\n                      if (!hasMatch_2 && !matchedIndices_2[matchIndex_2]) {\r\n                          hasMatch_2 = isEqual(aValue, bValue, meta);\r\n                          if (hasMatch_2) {\r\n                              matchedIndices_2[matchIndex_2] = true;\r\n                          }\r\n                      }\r\n                      matchIndex_2++;\r\n                  });\r\n                  isValueEqual = hasMatch_2;\r\n              }\r\n          });\r\n      }\r\n      return isValueEqual;\r\n  }\n\n  var HAS_MAP_SUPPORT = typeof Map === 'function';\r\n  var HAS_SET_SUPPORT = typeof Set === 'function';\r\n  function createComparator(createIsEqual) {\r\n      var isEqual = \r\n      /* eslint-disable no-use-before-define */\r\n      typeof createIsEqual === 'function'\r\n          ? createIsEqual(comparator)\r\n          : comparator;\r\n      /* eslint-enable */\r\n      /**\r\n       * compare the value of the two objects and return true if they are equivalent in values\r\n       *\r\n       * @param a the value to test against\r\n       * @param b the value to test\r\n       * @param [meta] an optional meta object that is passed through to all equality test calls\r\n       * @returns are a and b equivalent in value\r\n       */\r\n      function comparator(a, b, meta) {\r\n          if (a === b) {\r\n              return true;\r\n          }\r\n          if (a && b && typeof a === 'object' && typeof b === 'object') {\r\n              if (isPlainObject(a) && isPlainObject(b)) {\r\n                  return areObjectsEqual(a, b, isEqual, meta);\r\n              }\r\n              var aShape = Array.isArray(a);\r\n              var bShape = Array.isArray(b);\r\n              if (aShape || bShape) {\r\n                  return aShape === bShape && areArraysEqual(a, b, isEqual, meta);\r\n              }\r\n              aShape = a instanceof Date;\r\n              bShape = b instanceof Date;\r\n              if (aShape || bShape) {\r\n                  return (aShape === bShape && sameValueZeroEqual(a.getTime(), b.getTime()));\r\n              }\r\n              aShape = a instanceof RegExp;\r\n              bShape = b instanceof RegExp;\r\n              if (aShape || bShape) {\r\n                  return aShape === bShape && areRegExpsEqual(a, b);\r\n              }\r\n              if (isPromiseLike(a) || isPromiseLike(b)) {\r\n                  return a === b;\r\n              }\r\n              if (HAS_MAP_SUPPORT) {\r\n                  aShape = a instanceof Map;\r\n                  bShape = b instanceof Map;\r\n                  if (aShape || bShape) {\r\n                      return aShape === bShape && areMapsEqual(a, b, isEqual, meta);\r\n                  }\r\n              }\r\n              if (HAS_SET_SUPPORT) {\r\n                  aShape = a instanceof Set;\r\n                  bShape = b instanceof Set;\r\n                  if (aShape || bShape) {\r\n                      return aShape === bShape && areSetsEqual(a, b, isEqual, meta);\r\n                  }\r\n              }\r\n              return areObjectsEqual(a, b, isEqual, meta);\r\n          }\r\n          return a !== a && b !== b;\r\n      }\r\n      return comparator;\r\n  }\n\n  var deepEqual = createComparator();\r\n  var shallowEqual = createComparator(function () { return sameValueZeroEqual; });\r\n  var circularDeepEqual = createComparator(createCircularEqualCreator());\r\n  var circularShallowEqual = createComparator(createCircularEqualCreator(sameValueZeroEqual));\n\n  exports.circularDeepEqual = circularDeepEqual;\n  exports.circularShallowEqual = circularShallowEqual;\n  exports.createCustomEqual = createComparator;\n  exports.deepEqual = deepEqual;\n  exports.sameValueZeroEqual = sameValueZeroEqual;\n  exports.shallowEqual = shallowEqual;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n//# sourceMappingURL=fast-equals.js.map\n","'use strict';\n\nvar isProduction = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction invariant(condition, message) {\n    if (condition) {\n        return;\n    }\n    if (isProduction) {\n        throw new Error(prefix);\n    }\n    var provided = typeof message === 'function' ? message() : message;\n    var value = provided ? \"\".concat(prefix, \": \").concat(provided) : prefix;\n    throw new Error(value);\n}\n\nmodule.exports = invariant;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Command = void 0;\nvar Command = /** @class */ (function () {\n    function Command(command, options) {\n        var _this = this;\n        if (options === void 0) { options = {}; }\n        this.perform = function () {\n            var negate = command.perform();\n            // no need for history if non negatable\n            if (typeof negate !== \"function\")\n                return;\n            // return if no history enabled\n            var history = options.history;\n            if (!history)\n                return;\n            // since we are performing the same action, we'll clean up the\n            // previous call to the action and create a new history record\n            if (_this.historyItem) {\n                history.remove(_this.historyItem);\n            }\n            _this.historyItem = history.add({\n                perform: command.perform,\n                negate: negate,\n            });\n            _this.history = {\n                undo: function () { return history.undo(_this.historyItem); },\n                redo: function () { return history.redo(_this.historyItem); },\n            };\n        };\n    }\n    return Command;\n}());\nexports.Command = Command;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ActionImpl = void 0;\nvar tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\nvar Command_1 = require(\"./Command\");\nvar utils_1 = require(\"../utils\");\n/**\n * Extends the configured keywords to include the section\n * This allows section names to be searched for.\n */\nvar extendKeywords = function (_a) {\n    var _b = _a.keywords, keywords = _b === void 0 ? \"\" : _b, _c = _a.section, section = _c === void 0 ? \"\" : _c;\n    return (keywords + \" \" + (typeof section === \"string\" ? section : section.name)).trim();\n};\nvar ActionImpl = /** @class */ (function () {\n    function ActionImpl(action, options) {\n        var _this = this;\n        var _a;\n        this.priority = utils_1.Priority.NORMAL;\n        this.ancestors = [];\n        this.children = [];\n        Object.assign(this, action);\n        this.id = action.id;\n        this.name = action.name;\n        this.keywords = extendKeywords(action);\n        var perform = action.perform;\n        this.command =\n            perform &&\n                new Command_1.Command({\n                    perform: function () { return perform(_this); },\n                }, {\n                    history: options.history,\n                });\n        // Backwards compatibility\n        this.perform = (_a = this.command) === null || _a === void 0 ? void 0 : _a.perform;\n        if (action.parent) {\n            var parentActionImpl = options.store[action.parent];\n            (0, tiny_invariant_1.default)(parentActionImpl, \"attempted to create an action whos parent: \" + action.parent + \" does not exist in the store.\");\n            parentActionImpl.addChild(this);\n        }\n    }\n    ActionImpl.prototype.addChild = function (childActionImpl) {\n        // add all ancestors for the child action\n        childActionImpl.ancestors.unshift(this);\n        var parent = this.parentActionImpl;\n        while (parent) {\n            childActionImpl.ancestors.unshift(parent);\n            parent = parent.parentActionImpl;\n        }\n        // we ensure that order of adding always goes\n        // parent -> children, so no need to recurse\n        this.children.push(childActionImpl);\n    };\n    ActionImpl.prototype.removeChild = function (actionImpl) {\n        var _this = this;\n        // recursively remove all children\n        var index = this.children.indexOf(actionImpl);\n        if (index !== -1) {\n            this.children.splice(index, 1);\n        }\n        if (actionImpl.children) {\n            actionImpl.children.forEach(function (child) {\n                _this.removeChild(child);\n            });\n        }\n    };\n    Object.defineProperty(ActionImpl.prototype, \"parentActionImpl\", {\n        // easily access parentActionImpl after creation\n        get: function () {\n            return this.ancestors[this.ancestors.length - 1];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ActionImpl.create = function (action, options) {\n        return new ActionImpl(action, options);\n    };\n    return ActionImpl;\n}());\nexports.ActionImpl = ActionImpl;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ActionInterface = void 0;\nvar tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\nvar ActionImpl_1 = require(\"./ActionImpl\");\nvar ActionInterface = /** @class */ (function () {\n    function ActionInterface(actions, options) {\n        if (actions === void 0) { actions = []; }\n        if (options === void 0) { options = {}; }\n        this.actions = {};\n        this.options = options;\n        this.add(actions);\n    }\n    ActionInterface.prototype.add = function (actions) {\n        for (var i = 0; i < actions.length; i++) {\n            var action = actions[i];\n            if (action.parent) {\n                (0, tiny_invariant_1.default)(this.actions[action.parent], \"Attempted to create action \\\"\" + action.name + \"\\\" without registering its parent \\\"\" + action.parent + \"\\\" first.\");\n            }\n            this.actions[action.id] = ActionImpl_1.ActionImpl.create(action, {\n                history: this.options.historyManager,\n                store: this.actions,\n            });\n        }\n        return __assign({}, this.actions);\n    };\n    ActionInterface.prototype.remove = function (actions) {\n        var _this = this;\n        actions.forEach(function (action) {\n            var actionImpl = _this.actions[action.id];\n            if (!actionImpl)\n                return;\n            var children = actionImpl.children;\n            while (children.length) {\n                var child = children.pop();\n                if (!child)\n                    return;\n                delete _this.actions[child.id];\n                if (child.parentActionImpl)\n                    child.parentActionImpl.removeChild(child);\n                if (child.children)\n                    children.push.apply(children, child.children);\n            }\n            if (actionImpl.parentActionImpl) {\n                actionImpl.parentActionImpl.removeChild(actionImpl);\n            }\n            delete _this.actions[action.id];\n        });\n        return __assign({}, this.actions);\n    };\n    return ActionInterface;\n}());\nexports.ActionInterface = ActionInterface;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.history = exports.HistoryItemImpl = void 0;\nvar utils_1 = require(\"../utils\");\nvar HistoryItemImpl = /** @class */ (function () {\n    function HistoryItemImpl(item) {\n        this.perform = item.perform;\n        this.negate = item.negate;\n    }\n    HistoryItemImpl.create = function (item) {\n        return new HistoryItemImpl(item);\n    };\n    return HistoryItemImpl;\n}());\nexports.HistoryItemImpl = HistoryItemImpl;\nvar HistoryImpl = /** @class */ (function () {\n    function HistoryImpl() {\n        this.undoStack = [];\n        this.redoStack = [];\n        if (!HistoryImpl.instance) {\n            HistoryImpl.instance = this;\n            this.init();\n        }\n        return HistoryImpl.instance;\n    }\n    HistoryImpl.prototype.init = function () {\n        var _this = this;\n        if (typeof window === \"undefined\")\n            return;\n        window.addEventListener(\"keydown\", function (event) {\n            var _a;\n            if ((!_this.redoStack.length && !_this.undoStack.length) ||\n                (0, utils_1.shouldRejectKeystrokes)()) {\n                return;\n            }\n            var key = (_a = event.key) === null || _a === void 0 ? void 0 : _a.toLowerCase();\n            if (event.metaKey && key === \"z\" && event.shiftKey) {\n                _this.redo();\n            }\n            else if (event.metaKey && key === \"z\") {\n                _this.undo();\n            }\n        });\n    };\n    HistoryImpl.prototype.add = function (item) {\n        var historyItem = HistoryItemImpl.create(item);\n        this.undoStack.push(historyItem);\n        return historyItem;\n    };\n    HistoryImpl.prototype.remove = function (item) {\n        var undoIndex = this.undoStack.findIndex(function (i) { return i === item; });\n        if (undoIndex !== -1) {\n            this.undoStack.splice(undoIndex, 1);\n            return;\n        }\n        var redoIndex = this.redoStack.findIndex(function (i) { return i === item; });\n        if (redoIndex !== -1) {\n            this.redoStack.splice(redoIndex, 1);\n        }\n    };\n    HistoryImpl.prototype.undo = function (item) {\n        // if not undoing a specific item, just undo the latest\n        if (!item) {\n            var item_1 = this.undoStack.pop();\n            if (!item_1)\n                return;\n            item_1 === null || item_1 === void 0 ? void 0 : item_1.negate();\n            this.redoStack.push(item_1);\n            return item_1;\n        }\n        // else undo the specific item\n        var index = this.undoStack.findIndex(function (i) { return i === item; });\n        if (index === -1)\n            return;\n        this.undoStack.splice(index, 1);\n        item.negate();\n        this.redoStack.push(item);\n        return item;\n    };\n    HistoryImpl.prototype.redo = function (item) {\n        if (!item) {\n            var item_2 = this.redoStack.pop();\n            if (!item_2)\n                return;\n            item_2 === null || item_2 === void 0 ? void 0 : item_2.perform();\n            this.undoStack.push(item_2);\n            return item_2;\n        }\n        var index = this.redoStack.findIndex(function (i) { return i === item; });\n        if (index === -1)\n            return;\n        this.redoStack.splice(index, 1);\n        item.perform();\n        this.undoStack.push(item);\n        return item;\n    };\n    HistoryImpl.prototype.reset = function () {\n        this.undoStack.splice(0);\n        this.redoStack.splice(0);\n    };\n    return HistoryImpl;\n}());\nvar history = new HistoryImpl();\nexports.history = history;\nObject.freeze(history);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VisualState = void 0;\nvar VisualState;\n(function (VisualState) {\n    VisualState[\"animatingIn\"] = \"animating-in\";\n    VisualState[\"showing\"] = \"showing\";\n    VisualState[\"animatingOut\"] = \"animating-out\";\n    VisualState[\"hidden\"] = \"hidden\";\n})(VisualState = exports.VisualState || (exports.VisualState = {}));\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useStore = void 0;\nvar fast_equals_1 = require(\"fast-equals\");\nvar React = __importStar(require(\"react\"));\nvar tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\nvar ActionInterface_1 = require(\"./action/ActionInterface\");\nvar HistoryImpl_1 = require(\"./action/HistoryImpl\");\nvar types_1 = require(\"./types\");\nfunction useStore(props) {\n    var optionsRef = React.useRef(__assign({ animations: {\n            enterMs: 200,\n            exitMs: 100,\n        } }, props.options));\n    var actionsInterface = React.useMemo(function () {\n        return new ActionInterface_1.ActionInterface(props.actions || [], {\n            historyManager: optionsRef.current.enableHistory ? HistoryImpl_1.history : undefined,\n        });\n    }, \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []);\n    // TODO: at this point useReducer might be a better approach to managing state.\n    var _a = React.useState({\n        searchQuery: \"\",\n        currentRootActionId: null,\n        visualState: types_1.VisualState.hidden,\n        actions: __assign({}, actionsInterface.actions),\n        activeIndex: 0,\n    }), state = _a[0], setState = _a[1];\n    var currState = React.useRef(state);\n    currState.current = state;\n    var getState = React.useCallback(function () { return currState.current; }, []);\n    var publisher = React.useMemo(function () { return new Publisher(getState); }, [getState]);\n    React.useEffect(function () {\n        currState.current = state;\n        publisher.notify();\n    }, [state, publisher]);\n    var registerActions = React.useCallback(function (actions) {\n        setState(function (state) {\n            return __assign(__assign({}, state), { actions: actionsInterface.add(actions) });\n        });\n        return function unregister() {\n            setState(function (state) {\n                return __assign(__assign({}, state), { actions: actionsInterface.remove(actions) });\n            });\n        };\n    }, [actionsInterface]);\n    var inputRef = React.useRef(null);\n    return React.useMemo(function () {\n        return {\n            getState: getState,\n            query: {\n                setCurrentRootAction: function (actionId) {\n                    setState(function (state) { return (__assign(__assign({}, state), { currentRootActionId: actionId })); });\n                },\n                setVisualState: function (cb) {\n                    setState(function (state) { return (__assign(__assign({}, state), { visualState: typeof cb === \"function\" ? cb(state.visualState) : cb })); });\n                },\n                setSearch: function (searchQuery) {\n                    return setState(function (state) { return (__assign(__assign({}, state), { searchQuery: searchQuery })); });\n                },\n                registerActions: registerActions,\n                toggle: function () {\n                    return setState(function (state) { return (__assign(__assign({}, state), { visualState: [\n                            types_1.VisualState.animatingOut,\n                            types_1.VisualState.hidden,\n                        ].includes(state.visualState)\n                            ? types_1.VisualState.animatingIn\n                            : types_1.VisualState.animatingOut })); });\n                },\n                setActiveIndex: function (cb) {\n                    return setState(function (state) { return (__assign(__assign({}, state), { activeIndex: typeof cb === \"number\" ? cb : cb(state.activeIndex) })); });\n                },\n                inputRefSetter: function (el) {\n                    inputRef.current = el;\n                },\n                getInput: function () {\n                    (0, tiny_invariant_1.default)(inputRef.current, \"Input is undefined, make sure you apple `query.inputRefSetter` to your search input.\");\n                    return inputRef.current;\n                },\n            },\n            options: optionsRef.current,\n            subscribe: function (collector, cb) { return publisher.subscribe(collector, cb); },\n        };\n    }, [getState, publisher, registerActions]);\n}\nexports.useStore = useStore;\nvar Publisher = /** @class */ (function () {\n    function Publisher(getState) {\n        this.subscribers = [];\n        this.getState = getState;\n    }\n    Publisher.prototype.subscribe = function (collector, onChange) {\n        var _this = this;\n        var subscriber = new Subscriber(function () { return collector(_this.getState()); }, onChange);\n        this.subscribers.push(subscriber);\n        return this.unsubscribe.bind(this, subscriber);\n    };\n    Publisher.prototype.unsubscribe = function (subscriber) {\n        if (this.subscribers.length) {\n            var index = this.subscribers.indexOf(subscriber);\n            if (index > -1) {\n                return this.subscribers.splice(index, 1);\n            }\n        }\n    };\n    Publisher.prototype.notify = function () {\n        this.subscribers.forEach(function (subscriber) { return subscriber.collect(); });\n    };\n    return Publisher;\n}());\nvar Subscriber = /** @class */ (function () {\n    function Subscriber(collector, onChange) {\n        this.collector = collector;\n        this.onChange = onChange;\n    }\n    Subscriber.prototype.collect = function () {\n        try {\n            // grab latest state\n            var recollect = this.collector();\n            if (!(0, fast_equals_1.deepEqual)(recollect, this.collected)) {\n                this.collected = recollect;\n                if (this.onChange) {\n                    this.onChange(this.collected);\n                }\n            }\n        }\n        catch (error) {\n            console.warn(error);\n        }\n    };\n    return Subscriber;\n}());\n","\"use strict\";\n// Fixes special character issues; `?` -> `shift+/` + build issue\n// https://github.com/jamiebuilds/tinykeys\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * These are the modifier keys that change the meaning of keybindings.\n *\n * Note: Ignoring \"AltGraph\" because it is covered by the others.\n */\nvar KEYBINDING_MODIFIER_KEYS = [\"Shift\", \"Meta\", \"Alt\", \"Control\"];\n/**\n * Keybinding sequences should timeout if individual key presses are more than\n * 1s apart by default.\n */\nvar DEFAULT_TIMEOUT = 1000;\n/**\n * Keybinding sequences should bind to this event by default.\n */\nvar DEFAULT_EVENT = \"keydown\";\n/**\n * An alias for creating platform-specific keybinding aliases.\n */\nvar MOD = typeof navigator === \"object\" &&\n    /Mac|iPod|iPhone|iPad/.test(navigator.platform)\n    ? \"Meta\"\n    : \"Control\";\n/**\n * There's a bug in Chrome that causes event.getModifierState not to exist on\n * KeyboardEvent's for F1/F2/etc keys.\n */\nfunction getModifierState(event, mod) {\n    return typeof event.getModifierState === \"function\"\n        ? event.getModifierState(mod)\n        : false;\n}\n/**\n * Parses a \"Key Binding String\" into its parts\n *\n * grammar    = `<sequence>`\n * <sequence> = `<press> <press> <press> ...`\n * <press>    = `<key>` or `<mods>+<key>`\n * <mods>     = `<mod>+<mod>+...`\n */\nfunction parse(str) {\n    return str\n        .trim()\n        .split(\" \")\n        .map(function (press) {\n        var mods = press.split(/\\b\\+/);\n        var key = mods.pop();\n        mods = mods.map(function (mod) { return (mod === \"$mod\" ? MOD : mod); });\n        return [mods, key];\n    });\n}\n/**\n * This tells us if a series of events matches a key binding sequence either\n * partially or exactly.\n */\nfunction match(event, press) {\n    // Special characters; `?` `!`\n    if (/^[^A-Za-z0-9]$/.test(event.key) && press[1] === event.key) {\n        return true;\n    }\n    // prettier-ignore\n    return !(\n    // Allow either the `event.key` or the `event.code`\n    // MDN event.key: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key\n    // MDN event.code: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/code\n    (press[1].toUpperCase() !== event.key.toUpperCase() &&\n        press[1] !== event.code) ||\n        // Ensure all the modifiers in the keybinding are pressed.\n        press[0].find(function (mod) {\n            return !getModifierState(event, mod);\n        }) ||\n        // KEYBINDING_MODIFIER_KEYS (Shift/Control/etc) change the meaning of a\n        // keybinding. So if they are pressed but aren't part of the current\n        // keybinding press, then we don't have a match.\n        KEYBINDING_MODIFIER_KEYS.find(function (mod) {\n            return !press[0].includes(mod) && press[1] !== mod && getModifierState(event, mod);\n        }));\n}\n/**\n * Subscribes to keybindings.\n *\n * Returns an unsubscribe method.\n *\n * @example\n * ```js\n * import keybindings from \"../src/keybindings\"\n *\n * keybindings(window, {\n * \t\"Shift+d\": () => {\n * \t\talert(\"The 'Shift' and 'd' keys were pressed at the same time\")\n * \t},\n * \t\"y e e t\": () => {\n * \t\talert(\"The keys 'y', 'e', 'e', and 't' were pressed in order\")\n * \t},\n * \t\"$mod+d\": () => {\n * \t\talert(\"Either 'Control+d' or 'Meta+d' were pressed\")\n * \t},\n * })\n * ```\n */\nfunction keybindings(target, keyBindingMap, options) {\n    var _a, _b;\n    if (options === void 0) { options = {}; }\n    var timeout = (_a = options.timeout) !== null && _a !== void 0 ? _a : DEFAULT_TIMEOUT;\n    var event = (_b = options.event) !== null && _b !== void 0 ? _b : DEFAULT_EVENT;\n    var keyBindings = Object.keys(keyBindingMap).map(function (key) {\n        return [parse(key), keyBindingMap[key]];\n    });\n    var possibleMatches = new Map();\n    var timer = null;\n    var onKeyEvent = function (event) {\n        // Ensure and stop any event that isn't a full keyboard event.\n        // Autocomplete option navigation and selection would fire a instanceof Event,\n        // instead of the expected KeyboardEvent\n        if (!(event instanceof KeyboardEvent)) {\n            return;\n        }\n        keyBindings.forEach(function (keyBinding) {\n            var sequence = keyBinding[0];\n            var callback = keyBinding[1];\n            var prev = possibleMatches.get(sequence);\n            var remainingExpectedPresses = prev ? prev : sequence;\n            var currentExpectedPress = remainingExpectedPresses[0];\n            var matches = match(event, currentExpectedPress);\n            if (!matches) {\n                // Modifier keydown events shouldn't break sequences\n                // Note: This works because:\n                // - non-modifiers will always return false\n                // - if the current keypress is a modifier then it will return true when we check its state\n                // MDN: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/getModifierState\n                if (!getModifierState(event, event.key)) {\n                    possibleMatches.delete(sequence);\n                }\n            }\n            else if (remainingExpectedPresses.length > 1) {\n                possibleMatches.set(sequence, remainingExpectedPresses.slice(1));\n            }\n            else {\n                possibleMatches.delete(sequence);\n                callback(event);\n            }\n        });\n        if (timer) {\n            clearTimeout(timer);\n        }\n        // @ts-ignore\n        timer = setTimeout(possibleMatches.clear.bind(possibleMatches), timeout);\n    };\n    target.addEventListener(event, onKeyEvent);\n    return function () {\n        target.removeEventListener(event, onKeyEvent);\n    };\n}\nexports.default = keybindings;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InternalEvents = void 0;\nvar React = __importStar(require(\"react\"));\nvar tinykeys_1 = __importDefault(require(\"./tinykeys\"));\nvar types_1 = require(\"./types\");\nvar useKBar_1 = require(\"./useKBar\");\nvar utils_1 = require(\"./utils\");\nfunction InternalEvents() {\n    useToggleHandler();\n    useDocumentLock();\n    useShortcuts();\n    useFocusHandler();\n    return null;\n}\nexports.InternalEvents = InternalEvents;\n/**\n * `useToggleHandler` handles the keyboard events for toggling kbar.\n */\nfunction useToggleHandler() {\n    var _a, _b;\n    var _c = (0, useKBar_1.useKBar)(function (state) { return ({\n        visualState: state.visualState,\n        showing: state.visualState !== types_1.VisualState.hidden,\n    }); }), query = _c.query, options = _c.options, visualState = _c.visualState, showing = _c.showing;\n    React.useEffect(function () {\n        var _a;\n        var shortcut = options.toggleShortcut || \"$mod+k\";\n        var unsubscribe = (0, tinykeys_1.default)(window, (_a = {},\n            _a[shortcut] = function (event) {\n                var _a, _b, _c, _d;\n                if (event.defaultPrevented)\n                    return;\n                event.preventDefault();\n                query.toggle();\n                if (showing) {\n                    (_b = (_a = options.callbacks) === null || _a === void 0 ? void 0 : _a.onClose) === null || _b === void 0 ? void 0 : _b.call(_a);\n                }\n                else {\n                    (_d = (_c = options.callbacks) === null || _c === void 0 ? void 0 : _c.onOpen) === null || _d === void 0 ? void 0 : _d.call(_c);\n                }\n            },\n            _a.Escape = function (event) {\n                var _a, _b;\n                if (showing) {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    (_b = (_a = options.callbacks) === null || _a === void 0 ? void 0 : _a.onClose) === null || _b === void 0 ? void 0 : _b.call(_a);\n                }\n                query.setVisualState(function (vs) {\n                    if (vs === types_1.VisualState.hidden || vs === types_1.VisualState.animatingOut) {\n                        return vs;\n                    }\n                    return types_1.VisualState.animatingOut;\n                });\n            },\n            _a));\n        return function () {\n            unsubscribe();\n        };\n    }, [options.callbacks, options.toggleShortcut, query, showing]);\n    var timeoutRef = React.useRef();\n    var runAnimateTimer = React.useCallback(function (vs) {\n        var _a, _b;\n        var ms = 0;\n        if (vs === types_1.VisualState.animatingIn) {\n            ms = ((_a = options.animations) === null || _a === void 0 ? void 0 : _a.enterMs) || 0;\n        }\n        if (vs === types_1.VisualState.animatingOut) {\n            ms = ((_b = options.animations) === null || _b === void 0 ? void 0 : _b.exitMs) || 0;\n        }\n        clearTimeout(timeoutRef.current);\n        timeoutRef.current = setTimeout(function () {\n            var backToRoot = false;\n            // TODO: setVisualState argument should be a function or just a VisualState value.\n            query.setVisualState(function () {\n                var finalVs = vs === types_1.VisualState.animatingIn\n                    ? types_1.VisualState.showing\n                    : types_1.VisualState.hidden;\n                if (finalVs === types_1.VisualState.hidden) {\n                    backToRoot = true;\n                }\n                return finalVs;\n            });\n            if (backToRoot) {\n                query.setCurrentRootAction(null);\n            }\n        }, ms);\n    }, [(_a = options.animations) === null || _a === void 0 ? void 0 : _a.enterMs, (_b = options.animations) === null || _b === void 0 ? void 0 : _b.exitMs, query]);\n    React.useEffect(function () {\n        switch (visualState) {\n            case types_1.VisualState.animatingIn:\n            case types_1.VisualState.animatingOut:\n                runAnimateTimer(visualState);\n                break;\n        }\n    }, [runAnimateTimer, visualState]);\n}\n/**\n * `useDocumentLock` is a simple implementation for preventing the\n * underlying page content from scrolling when kbar is open.\n */\nfunction useDocumentLock() {\n    var _a = (0, useKBar_1.useKBar)(function (state) { return ({\n        visualState: state.visualState,\n    }); }), visualState = _a.visualState, options = _a.options;\n    React.useEffect(function () {\n        if (options.disableDocumentLock)\n            return;\n        if (visualState === types_1.VisualState.animatingIn) {\n            document.body.style.overflow = \"hidden\";\n            if (!options.disableScrollbarManagement) {\n                var scrollbarWidth = (0, utils_1.getScrollbarWidth)();\n                // take into account the margins explicitly added by the consumer\n                var mr = getComputedStyle(document.body)[\"margin-right\"];\n                if (mr) {\n                    // remove non-numeric values; px, rem, em, etc.\n                    scrollbarWidth += Number(mr.replace(/\\D/g, \"\"));\n                }\n                document.body.style.marginRight = scrollbarWidth + \"px\";\n            }\n        }\n        else if (visualState === types_1.VisualState.hidden) {\n            document.body.style.removeProperty(\"overflow\");\n            if (!options.disableScrollbarManagement) {\n                document.body.style.removeProperty(\"margin-right\");\n            }\n        }\n    }, [\n        options.disableDocumentLock,\n        options.disableScrollbarManagement,\n        visualState,\n    ]);\n}\n/**\n * Reference: https://github.com/jamiebuilds/tinykeys/issues/37\n *\n * Fixes an issue where simultaneous key commands for shortcuts;\n * ie given two actions with shortcuts ['t','s'] and ['s'], pressing\n * 't' and 's' consecutively will cause both shortcuts to fire.\n *\n * `wrap` sets each keystroke event in a WeakSet, and ensures that\n * if ['t', 's'] are pressed, then the subsequent ['s'] event will\n * be ignored. This depends on the order in which we register the\n * shortcuts to tinykeys, which is handled below.\n */\nvar handled = new WeakSet();\nfunction wrap(handler) {\n    return function (event) {\n        if (handled.has(event))\n            return;\n        handler(event);\n        handled.add(event);\n    };\n}\n/**\n * `useShortcuts` registers and listens to keyboard strokes and\n * performs actions for patterns that match the user defined `shortcut`.\n */\nfunction useShortcuts() {\n    var _a = (0, useKBar_1.useKBar)(function (state) { return ({\n        actions: state.actions,\n        open: state.visualState === types_1.VisualState.showing,\n    }); }), actions = _a.actions, query = _a.query, open = _a.open, options = _a.options;\n    React.useEffect(function () {\n        var _a;\n        if (open)\n            return;\n        var actionsList = Object.keys(actions).map(function (key) { return actions[key]; });\n        var actionsWithShortcuts = [];\n        for (var _i = 0, actionsList_1 = actionsList; _i < actionsList_1.length; _i++) {\n            var action = actionsList_1[_i];\n            if (!((_a = action.shortcut) === null || _a === void 0 ? void 0 : _a.length)) {\n                continue;\n            }\n            actionsWithShortcuts.push(action);\n        }\n        actionsWithShortcuts = actionsWithShortcuts.sort(function (a, b) { return b.shortcut.join(\" \").length - a.shortcut.join(\" \").length; });\n        var shortcutsMap = {};\n        var _loop_1 = function (action) {\n            var shortcut = action.shortcut.join(\" \");\n            shortcutsMap[shortcut] = wrap(function (event) {\n                var _a, _b, _c, _d, _e, _f;\n                if ((0, utils_1.shouldRejectKeystrokes)())\n                    return;\n                event.preventDefault();\n                if ((_a = action.children) === null || _a === void 0 ? void 0 : _a.length) {\n                    query.setCurrentRootAction(action.id);\n                    query.toggle();\n                    (_c = (_b = options.callbacks) === null || _b === void 0 ? void 0 : _b.onOpen) === null || _c === void 0 ? void 0 : _c.call(_b);\n                }\n                else {\n                    (_d = action.command) === null || _d === void 0 ? void 0 : _d.perform();\n                    (_f = (_e = options.callbacks) === null || _e === void 0 ? void 0 : _e.onSelectAction) === null || _f === void 0 ? void 0 : _f.call(_e, action);\n                }\n            });\n        };\n        for (var _b = 0, actionsWithShortcuts_1 = actionsWithShortcuts; _b < actionsWithShortcuts_1.length; _b++) {\n            var action = actionsWithShortcuts_1[_b];\n            _loop_1(action);\n        }\n        var unsubscribe = (0, tinykeys_1.default)(window, shortcutsMap, {\n            timeout: 400,\n        });\n        return function () {\n            unsubscribe();\n        };\n    }, [actions, open, options.callbacks, query]);\n}\n/**\n * `useFocusHandler` ensures that focus is set back on the element which was\n * in focus prior to kbar being triggered.\n */\nfunction useFocusHandler() {\n    var rFirstRender = React.useRef(true);\n    var _a = (0, useKBar_1.useKBar)(function (state) { return ({\n        isShowing: state.visualState === types_1.VisualState.showing ||\n            state.visualState === types_1.VisualState.animatingIn,\n    }); }), isShowing = _a.isShowing, query = _a.query;\n    var activeElementRef = React.useRef(null);\n    React.useEffect(function () {\n        if (rFirstRender.current) {\n            rFirstRender.current = false;\n            return;\n        }\n        if (isShowing) {\n            activeElementRef.current = document.activeElement;\n            return;\n        }\n        // This fixes an issue on Safari where closing kbar causes the entire\n        // page to scroll to the bottom. The reason this was happening was due\n        // to the search input still in focus when we removed it from the dom.\n        var currentActiveElement = document.activeElement;\n        if ((currentActiveElement === null || currentActiveElement === void 0 ? void 0 : currentActiveElement.tagName.toLowerCase()) === \"input\") {\n            currentActiveElement.blur();\n        }\n        var activeElement = activeElementRef.current;\n        if (activeElement && activeElement !== currentActiveElement) {\n            activeElement.focus();\n        }\n    }, [isShowing]);\n    // When focus is blurred from the search input while kbar is still\n    // open, any keystroke should set focus back to the search input.\n    React.useEffect(function () {\n        function handler(event) {\n            var input = query.getInput();\n            if (event.target !== input) {\n                input.focus();\n            }\n        }\n        if (isShowing) {\n            window.addEventListener(\"keydown\", handler);\n            return function () {\n                window.removeEventListener(\"keydown\", handler);\n            };\n        }\n    }, [isShowing, query]);\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KBarProvider = exports.KBarContext = void 0;\nvar useStore_1 = require(\"./useStore\");\nvar React = __importStar(require(\"react\"));\nvar InternalEvents_1 = require(\"./InternalEvents\");\nexports.KBarContext = React.createContext({});\nvar KBarProvider = function (props) {\n    var contextValue = (0, useStore_1.useStore)(props);\n    return (React.createElement(exports.KBarContext.Provider, { value: contextValue },\n        React.createElement(InternalEvents_1.InternalEvents, null),\n        props.children));\n};\nexports.KBarProvider = KBarProvider;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useKBar = void 0;\nvar React = __importStar(require(\"react\"));\nvar KBarContextProvider_1 = require(\"./KBarContextProvider\");\nfunction useKBar(collector) {\n    var _a = React.useContext(KBarContextProvider_1.KBarContext), query = _a.query, getState = _a.getState, subscribe = _a.subscribe, options = _a.options;\n    var collected = React.useRef(collector === null || collector === void 0 ? void 0 : collector(getState()));\n    var collectorRef = React.useRef(collector);\n    var onCollect = React.useCallback(function (collected) { return (__assign(__assign({}, collected), { query: query, options: options })); }, [query, options]);\n    var _b = React.useState(onCollect(collected.current)), render = _b[0], setRender = _b[1];\n    React.useEffect(function () {\n        var unsubscribe;\n        if (collectorRef.current) {\n            unsubscribe = subscribe(function (current) { return collectorRef.current(current); }, function (collected) { return setRender(onCollect(collected)); });\n        }\n        return function () {\n            if (unsubscribe) {\n                unsubscribe();\n            }\n        };\n    }, [onCollect, subscribe]);\n    return render;\n}\nexports.useKBar = useKBar;\n","// The scores are arranged so that a continuous match of characters will\n// result in a total score of 1.\n//\n// The best case, this character is a match, and either this is the start\n// of the string, or the previous character was also a match.\nvar SCORE_CONTINUE_MATCH = 1,\n\n    // A new match at the start of a word scores better than a new match\n    // elsewhere as it's more likely that the user will type the starts\n    // of fragments.\n    // (Our notion of word includes CamelCase and hypen-separated, etc.)\n    SCORE_WORD_JUMP = 0.9,\n\n    // Any other match isn't ideal, but we include it for completeness.\n    SCORE_CHARACTER_JUMP = 0.3,\n\n    // If the user transposed two letters, it should be signficantly penalized.\n    //\n    // i.e. \"ouch\" is more likely than \"curtain\" when \"uc\" is typed.\n    SCORE_TRANSPOSITION = 0.1,\n\n    // If the user jumped to half-way through a subsequent word, it should be\n    // very significantly penalized.\n    //\n    // i.e. \"loes\" is very unlikely to match \"loch ness\".\n    // NOTE: this is set to 0 for superhuman right now, but we may want to revisit.\n    SCORE_LONG_JUMP = 0,\n\n    // The goodness of a match should decay slightly with each missing\n    // character.\n    //\n    // i.e. \"bad\" is more likely than \"bard\" when \"bd\" is typed.\n    //\n    // This will not change the order of suggestions based on SCORE_* until\n    // 100 characters are inserted between matches.\n    PENALTY_SKIPPED = 0.999,\n\n    // The goodness of an exact-case match should be higher than a\n    // case-insensitive match by a small amount.\n    //\n    // i.e. \"HTML\" is more likely than \"haml\" when \"HM\" is typed.\n    //\n    // This will not change the order of suggestions based on SCORE_* until\n    // 1000 characters are inserted between matches.\n    PENALTY_CASE_MISMATCH = 0.9999,\n\n    // If the word has more characters than the user typed, it should\n    // be penalised slightly.\n    //\n    // i.e. \"html\" is more likely than \"html5\" if I type \"html\".\n    //\n    // However, it may well be the case that there's a sensible secondary\n    // ordering (like alphabetical) that it makes sense to rely on when\n    // there are many prefix matches, so we don't make the penalty increase\n    // with the number of tokens.\n    PENALTY_NOT_COMPLETE = 0.99;\n\nvar IS_GAP_REGEXP = /[\\\\\\/\\-_+.# \\t\"@\\[\\(\\{&]/,\n    COUNT_GAPS_REGEXP = /[\\\\\\/\\-_+.# \\t\"@\\[\\(\\{&]/g;\n\nfunction commandScoreInner(string, abbreviation, lowerString, lowerAbbreviation, stringIndex, abbreviationIndex) {\n\n    if (abbreviationIndex === abbreviation.length) {\n        if (stringIndex === string.length) {\n            return SCORE_CONTINUE_MATCH;\n\n        }\n        return PENALTY_NOT_COMPLETE;\n    }\n\n    var abbreviationChar = lowerAbbreviation.charAt(abbreviationIndex);\n    var index = lowerString.indexOf(abbreviationChar, stringIndex);\n    var highScore = 0;\n\n    var score, transposedScore, wordBreaks;\n\n    while (index >= 0) {\n\n        score = commandScoreInner(string, abbreviation, lowerString, lowerAbbreviation, index + 1, abbreviationIndex + 1);\n        if (score > highScore) {\n            if (index === stringIndex) {\n                score *= SCORE_CONTINUE_MATCH;\n            } else if (IS_GAP_REGEXP.test(string.charAt(index - 1))) {\n                score *= SCORE_WORD_JUMP;\n                wordBreaks = string.slice(stringIndex, index - 1).match(COUNT_GAPS_REGEXP);\n                if (wordBreaks && stringIndex > 0) {\n                    score *= Math.pow(PENALTY_SKIPPED, wordBreaks.length);\n                }\n            } else if (IS_GAP_REGEXP.test(string.slice(stringIndex, index - 1))) {\n                score *= SCORE_LONG_JUMP;\n                if (stringIndex > 0) {\n                    score *= Math.pow(PENALTY_SKIPPED, index - stringIndex);\n                }\n            } else {\n                score *= SCORE_CHARACTER_JUMP;\n                if (stringIndex > 0) {\n                    score *= Math.pow(PENALTY_SKIPPED, index - stringIndex);\n                }\n            }\n\n            if (string.charAt(index) !== abbreviation.charAt(abbreviationIndex)) {\n                score *= PENALTY_CASE_MISMATCH;\n            }\n\n        }\n\n        if (score < SCORE_TRANSPOSITION &&\n                lowerString.charAt(index - 1) === lowerAbbreviation.charAt(abbreviationIndex + 1) &&\n                lowerString.charAt(index - 1) !== lowerAbbreviation.charAt(abbreviationIndex)) {\n            transposedScore = commandScoreInner(string, abbreviation, lowerString, lowerAbbreviation, index + 1, abbreviationIndex + 2);\n\n            if (transposedScore * SCORE_TRANSPOSITION > score) {\n                score = transposedScore * SCORE_TRANSPOSITION;\n            }\n        }\n\n        if (score > highScore) {\n            highScore = score;\n        }\n\n        index = lowerString.indexOf(abbreviationChar, index + 1);\n    }\n\n    return highScore;\n}\n\nfunction commandScore(string, abbreviation) {\n    /* NOTE:\n     * in the original, we used to do the lower-casing on each recursive call, but this meant that toLowerCase()\n     * was the dominating cost in the algorithm, passing both is a little ugly, but considerably faster.\n     */\n    return commandScoreInner(string, abbreviation, string.toLowerCase(), abbreviation.toLowerCase(), 0, 0);\n}\n\nmodule.exports = commandScore;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useDeepMatches = exports.useMatches = exports.NO_GROUP = void 0;\nvar React = __importStar(require(\"react\"));\nvar useKBar_1 = require(\"./useKBar\");\nvar utils_1 = require(\"./utils\");\nvar command_score_1 = __importDefault(require(\"command-score\"));\nexports.NO_GROUP = {\n    name: \"none\",\n    priority: utils_1.Priority.NORMAL,\n};\nfunction order(a, b) {\n    /**\n     * Larger the priority = higher up the list\n     */\n    return b.priority - a.priority;\n}\n/**\n * returns deep matches only when a search query is present\n */\nfunction useMatches() {\n    var _a = (0, useKBar_1.useKBar)(function (state) { return ({\n        search: state.searchQuery,\n        actions: state.actions,\n        rootActionId: state.currentRootActionId,\n    }); }), search = _a.search, actions = _a.actions, rootActionId = _a.rootActionId;\n    var rootResults = React.useMemo(function () {\n        return Object.keys(actions)\n            .reduce(function (acc, actionId) {\n            var action = actions[actionId];\n            if (!action.parent && !rootActionId) {\n                acc.push(action);\n            }\n            if (action.id === rootActionId) {\n                for (var i = 0; i < action.children.length; i++) {\n                    acc.push(action.children[i]);\n                }\n            }\n            return acc;\n        }, [])\n            .sort(order);\n    }, [actions, rootActionId]);\n    var getDeepResults = React.useCallback(function (actions) {\n        var actionsClone = [];\n        for (var i = 0; i < actions.length; i++) {\n            actionsClone.push(actions[i]);\n        }\n        return (function collectChildren(actions, all) {\n            if (all === void 0) { all = actionsClone; }\n            for (var i = 0; i < actions.length; i++) {\n                if (actions[i].children.length > 0) {\n                    var childsChildren = actions[i].children;\n                    for (var i_1 = 0; i_1 < childsChildren.length; i_1++) {\n                        all.push(childsChildren[i_1]);\n                    }\n                    collectChildren(actions[i].children, all);\n                }\n            }\n            return all;\n        })(actions);\n    }, []);\n    var emptySearch = !search;\n    var filtered = React.useMemo(function () {\n        if (emptySearch)\n            return rootResults;\n        return getDeepResults(rootResults);\n    }, [getDeepResults, rootResults, emptySearch]);\n    var matches = useInternalMatches(filtered, search);\n    var results = React.useMemo(function () {\n        var _a, _b;\n        /**\n         * Store a reference to a section and it's list of actions.\n         * Alongside these actions, we'll keep a temporary record of the\n         * final priority calculated by taking the commandScore + the\n         * explicitly set `action.priority` value.\n         */\n        var map = {};\n        /**\n         * Store another reference to a list of sections alongside\n         * the section's final priority, calculated the same as above.\n         */\n        var list = [];\n        /**\n         * We'll take the list above and sort by its priority. Then we'll\n         * collect all actions from the map above for this specific name and\n         * sort by its priority as well.\n         */\n        var ordered = [];\n        for (var i = 0; i < matches.length; i++) {\n            var match = matches[i];\n            var action = match.action;\n            var score = match.score || utils_1.Priority.NORMAL;\n            var section = {\n                name: typeof action.section === \"string\"\n                    ? action.section\n                    : ((_a = action.section) === null || _a === void 0 ? void 0 : _a.name) || exports.NO_GROUP.name,\n                priority: typeof action.section === \"string\"\n                    ? score\n                    : ((_b = action.section) === null || _b === void 0 ? void 0 : _b.priority) || 0 + score,\n            };\n            if (!map[section.name]) {\n                map[section.name] = [];\n                list.push(section);\n            }\n            map[section.name].push({\n                priority: action.priority + score,\n                action: action,\n            });\n        }\n        ordered = list.sort(order).map(function (group) { return ({\n            name: group.name,\n            actions: map[group.name].sort(order).map(function (item) { return item.action; }),\n        }); });\n        /**\n         * Our final result is simply flattening the ordered list into\n         * our familiar (ActionImpl | string)[] shape.\n         */\n        var results = [];\n        for (var i = 0; i < ordered.length; i++) {\n            var group = ordered[i];\n            if (group.name !== exports.NO_GROUP.name)\n                results.push(group.name);\n            for (var i_2 = 0; i_2 < group.actions.length; i_2++) {\n                results.push(group.actions[i_2]);\n            }\n        }\n        return results;\n    }, [matches]);\n    // ensure that users have an accurate `currentRootActionId`\n    // that syncs with the throttled return value.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    var memoRootActionId = React.useMemo(function () { return rootActionId; }, [results]);\n    return React.useMemo(function () { return ({\n        results: results,\n        rootActionId: memoRootActionId,\n    }); }, [memoRootActionId, results]);\n}\nexports.useMatches = useMatches;\nfunction useInternalMatches(filtered, search) {\n    var value = React.useMemo(function () { return ({\n        filtered: filtered,\n        search: search,\n    }); }, [filtered, search]);\n    var _a = (0, utils_1.useThrottledValue)(value), throttledFiltered = _a.filtered, throttledSearch = _a.search;\n    return React.useMemo(function () {\n        if (throttledSearch.trim() === \"\") {\n            return throttledFiltered.map(function (action) { return ({ score: 0, action: action }); });\n        }\n        var matches = [];\n        for (var i = 0; i < throttledFiltered.length; i++) {\n            var action = throttledFiltered[i];\n            var score = (0, command_score_1.default)([action.name, action.keywords, action.subtitle].join(\" \"), throttledSearch);\n            if (score > 0) {\n                matches.push({ score: score, action: action });\n            }\n        }\n        return matches;\n    }, [throttledFiltered, throttledSearch]);\n}\n/**\n * @deprecated use useMatches\n */\nexports.useDeepMatches = useMatches;\n","\"use strict\";\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// packages/react/compose-refs/src/index.ts\nvar index_exports = {};\n__export(index_exports, {\n  composeRefs: () => composeRefs,\n  useComposedRefs: () => useComposedRefs\n});\nmodule.exports = __toCommonJS(index_exports);\n\n// packages/react/compose-refs/src/compose-refs.tsx\nvar React = __toESM(require(\"react\"));\nfunction setRef(ref, value) {\n  if (typeof ref === \"function\") {\n    return ref(value);\n  } else if (ref !== null && ref !== void 0) {\n    ref.current = value;\n  }\n}\nfunction composeRefs(...refs) {\n  return (node) => {\n    let hasCleanup = false;\n    const cleanups = refs.map((ref) => {\n      const cleanup = setRef(ref, node);\n      if (!hasCleanup && typeof cleanup == \"function\") {\n        hasCleanup = true;\n      }\n      return cleanup;\n    });\n    if (hasCleanup) {\n      return () => {\n        for (let i = 0; i < cleanups.length; i++) {\n          const cleanup = cleanups[i];\n          if (typeof cleanup == \"function\") {\n            cleanup();\n          } else {\n            setRef(refs[i], null);\n          }\n        }\n      };\n    }\n  };\n}\nfunction useComposedRefs(...refs) {\n  return React.useCallback(composeRefs(...refs), refs);\n}\n//# sourceMappingURL=index.js.map\n","\"use strict\";\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// src/index.ts\nvar index_exports = {};\n__export(index_exports, {\n  Root: () => Slot,\n  Slot: () => Slot,\n  Slottable: () => Slottable,\n  createSlot: () => createSlot,\n  createSlottable: () => createSlottable\n});\nmodule.exports = __toCommonJS(index_exports);\n\n// src/slot.tsx\nvar React = __toESM(require(\"react\"));\nvar import_react_compose_refs = require(\"@radix-ui/react-compose-refs\");\nvar import_jsx_runtime = require(\"react/jsx-runtime\");\nvar REACT_LAZY_TYPE = Symbol.for(\"react.lazy\");\nvar use = React[\" use \".trim().toString()];\nfunction isPromiseLike(value) {\n  return typeof value === \"object\" && value !== null && \"then\" in value;\n}\nfunction isLazyComponent(element) {\n  return element != null && typeof element === \"object\" && \"$$typeof\" in element && element.$$typeof === REACT_LAZY_TYPE && \"_payload\" in element && isPromiseLike(element._payload);\n}\n// @__NO_SIDE_EFFECTS__\nfunction createSlot(ownerName) {\n  const SlotClone = /* @__PURE__ */ createSlotClone(ownerName);\n  const Slot2 = React.forwardRef((props, forwardedRef) => {\n    let { children, ...slotProps } = props;\n    if (isLazyComponent(children) && typeof use === \"function\") {\n      children = use(children._payload);\n    }\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n    if (slottable) {\n      const newElement = slottable.props.children;\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement) ? newElement.props.children : null;\n        } else {\n          return child;\n        }\n      });\n      return /* @__PURE__ */ (0, import_jsx_runtime.jsx)(SlotClone, { ...slotProps, ref: forwardedRef, children: React.isValidElement(newElement) ? React.cloneElement(newElement, void 0, newChildren) : null });\n    }\n    return /* @__PURE__ */ (0, import_jsx_runtime.jsx)(SlotClone, { ...slotProps, ref: forwardedRef, children });\n  });\n  Slot2.displayName = `${ownerName}.Slot`;\n  return Slot2;\n}\nvar Slot = /* @__PURE__ */ createSlot(\"Slot\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlotClone(ownerName) {\n  const SlotClone = React.forwardRef((props, forwardedRef) => {\n    let { children, ...slotProps } = props;\n    if (isLazyComponent(children) && typeof use === \"function\") {\n      children = use(children._payload);\n    }\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props2 = mergeProps(slotProps, children.props);\n      if (children.type !== React.Fragment) {\n        props2.ref = forwardedRef ? (0, import_react_compose_refs.composeRefs)(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props2);\n    }\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\nvar SLOTTABLE_IDENTIFIER = Symbol(\"radix.slottable\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlottable(ownerName) {\n  const Slottable2 = ({ children }) => {\n    return /* @__PURE__ */ (0, import_jsx_runtime.jsx)(import_jsx_runtime.Fragment, { children });\n  };\n  Slottable2.displayName = `${ownerName}.Slottable`;\n  Slottable2.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable2;\n}\nvar Slottable = /* @__PURE__ */ createSlottable(\"Slottable\");\nfunction isSlottable(child) {\n  return React.isValidElement(child) && typeof child.type === \"function\" && \"__radixId\" in child.type && child.type.__radixId === SLOTTABLE_IDENTIFIER;\n}\nfunction mergeProps(slotProps, childProps) {\n  const overrideProps = { ...childProps };\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      } else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    } else if (propName === \"style\") {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === \"className\") {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(\" \");\n    }\n  }\n  return { ...slotProps, ...overrideProps };\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\n//# sourceMappingURL=index.js.map\n","\"use strict\";\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// src/index.ts\nvar index_exports = {};\n__export(index_exports, {\n  Primitive: () => Primitive,\n  Root: () => Root,\n  dispatchDiscreteCustomEvent: () => dispatchDiscreteCustomEvent\n});\nmodule.exports = __toCommonJS(index_exports);\n\n// src/primitive.tsx\nvar React = __toESM(require(\"react\"));\nvar ReactDOM = __toESM(require(\"react-dom\"));\nvar import_react_slot = require(\"@radix-ui/react-slot\");\nvar import_jsx_runtime = require(\"react/jsx-runtime\");\nvar NODES = [\n  \"a\",\n  \"button\",\n  \"div\",\n  \"form\",\n  \"h2\",\n  \"h3\",\n  \"img\",\n  \"input\",\n  \"label\",\n  \"li\",\n  \"nav\",\n  \"ol\",\n  \"p\",\n  \"select\",\n  \"span\",\n  \"svg\",\n  \"ul\"\n];\nvar Primitive = NODES.reduce((primitive, node) => {\n  const Slot = (0, import_react_slot.createSlot)(`Primitive.${node}`);\n  const Node = React.forwardRef((props, forwardedRef) => {\n    const { asChild, ...primitiveProps } = props;\n    const Comp = asChild ? Slot : node;\n    if (typeof window !== \"undefined\") {\n      window[Symbol.for(\"radix-ui\")] = true;\n    }\n    return /* @__PURE__ */ (0, import_jsx_runtime.jsx)(Comp, { ...primitiveProps, ref: forwardedRef });\n  });\n  Node.displayName = `Primitive.${node}`;\n  return { ...primitive, [node]: Node };\n}, {});\nfunction dispatchDiscreteCustomEvent(target, event) {\n  if (target) ReactDOM.flushSync(() => target.dispatchEvent(event));\n}\nvar Root = Primitive;\n//# sourceMappingURL=index.js.map\n","\"use strict\";\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// packages/react/use-layout-effect/src/index.ts\nvar index_exports = {};\n__export(index_exports, {\n  useLayoutEffect: () => useLayoutEffect2\n});\nmodule.exports = __toCommonJS(index_exports);\n\n// packages/react/use-layout-effect/src/use-layout-effect.tsx\nvar React = __toESM(require(\"react\"));\nvar useLayoutEffect2 = globalThis?.document ? React.useLayoutEffect : () => {\n};\n//# sourceMappingURL=index.js.map\n","\"use strict\";\n\"use client\";\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// src/index.ts\nvar index_exports = {};\n__export(index_exports, {\n  Portal: () => Portal,\n  Root: () => Root\n});\nmodule.exports = __toCommonJS(index_exports);\n\n// src/portal.tsx\nvar React = __toESM(require(\"react\"));\nvar import_react_dom = __toESM(require(\"react-dom\"));\nvar import_react_primitive = require(\"@radix-ui/react-primitive\");\nvar import_react_use_layout_effect = require(\"@radix-ui/react-use-layout-effect\");\nvar import_jsx_runtime = require(\"react/jsx-runtime\");\nvar PORTAL_NAME = \"Portal\";\nvar Portal = React.forwardRef((props, forwardedRef) => {\n  const { container: containerProp, ...portalProps } = props;\n  const [mounted, setMounted] = React.useState(false);\n  (0, import_react_use_layout_effect.useLayoutEffect)(() => setMounted(true), []);\n  const container = containerProp || mounted && globalThis?.document?.body;\n  return container ? import_react_dom.default.createPortal(/* @__PURE__ */ (0, import_jsx_runtime.jsx)(import_react_primitive.Primitive.div, { ...portalProps, ref: forwardedRef }), container) : null;\n});\nPortal.displayName = PORTAL_NAME;\nvar Root = Portal;\n//# sourceMappingURL=index.js.map\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KBarPortal = void 0;\nvar react_portal_1 = require(\"@radix-ui/react-portal\");\nvar React = __importStar(require(\"react\"));\nvar types_1 = require(\"./types\");\nvar useKBar_1 = require(\"./useKBar\");\nfunction KBarPortal(props) {\n    var showing = (0, useKBar_1.useKBar)(function (state) { return ({\n        showing: state.visualState !== types_1.VisualState.hidden,\n    }); }).showing;\n    if (!showing) {\n        return null;\n    }\n    return React.createElement(react_portal_1.Portal, null, props.children);\n}\nexports.KBarPortal = KBarPortal;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KBarPositioner = void 0;\nvar React = __importStar(require(\"react\"));\nvar defaultStyle = {\n    position: \"fixed\",\n    display: \"flex\",\n    alignItems: \"flex-start\",\n    justifyContent: \"center\",\n    width: \"100%\",\n    inset: \"0px\",\n    padding: \"14vh 16px 16px\",\n};\nfunction getStyle(style) {\n    return style ? __assign(__assign({}, defaultStyle), style) : defaultStyle;\n}\nexports.KBarPositioner = React.forwardRef(function (_a, ref) {\n    var style = _a.style, children = _a.children, props = __rest(_a, [\"style\", \"children\"]);\n    return (React.createElement(\"div\", __assign({ ref: ref, style: getStyle(style) }, props), children));\n});\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KBarSearch = exports.getListboxItemId = exports.KBAR_LISTBOX = void 0;\nvar React = __importStar(require(\"react\"));\nvar types_1 = require(\"./types\");\nvar useKBar_1 = require(\"./useKBar\");\nexports.KBAR_LISTBOX = \"kbar-listbox\";\nvar getListboxItemId = function (id) { return \"kbar-listbox-item-\" + id; };\nexports.getListboxItemId = getListboxItemId;\nfunction KBarSearch(props) {\n    var _a = (0, useKBar_1.useKBar)(function (state) { return ({\n        search: state.searchQuery,\n        currentRootActionId: state.currentRootActionId,\n        actions: state.actions,\n        activeIndex: state.activeIndex,\n        showing: state.visualState === types_1.VisualState.showing,\n    }); }), query = _a.query, search = _a.search, actions = _a.actions, currentRootActionId = _a.currentRootActionId, activeIndex = _a.activeIndex, showing = _a.showing, options = _a.options;\n    var defaultPlaceholder = props.defaultPlaceholder, rest = __rest(props, [\"defaultPlaceholder\"]);\n    React.useEffect(function () {\n        query.setSearch(\"\");\n        query.getInput().focus();\n        return function () { return query.setSearch(\"\"); };\n    }, [currentRootActionId, query]);\n    var placeholder = React.useMemo(function () {\n        var defaultText = defaultPlaceholder !== null && defaultPlaceholder !== void 0 ? defaultPlaceholder : \"Type a command or search\";\n        return currentRootActionId && actions[currentRootActionId]\n            ? actions[currentRootActionId].name\n            : defaultText;\n    }, [actions, currentRootActionId, defaultPlaceholder]);\n    return (React.createElement(\"input\", __assign({}, rest, { ref: query.inputRefSetter, autoFocus: true, autoComplete: \"off\", role: \"combobox\", spellCheck: \"false\", \"aria-expanded\": showing, \"aria-controls\": exports.KBAR_LISTBOX, \"aria-activedescendant\": (0, exports.getListboxItemId)(activeIndex), value: search, placeholder: placeholder, onChange: function (event) {\n            var _a, _b, _c;\n            (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, event);\n            query.setSearch(event.target.value);\n            (_c = (_b = options === null || options === void 0 ? void 0 : options.callbacks) === null || _b === void 0 ? void 0 : _b.onQueryChange) === null || _c === void 0 ? void 0 : _c.call(_b, event.target.value);\n        }, onKeyDown: function (event) {\n            var _a;\n            (_a = props.onKeyDown) === null || _a === void 0 ? void 0 : _a.call(props, event);\n            if (currentRootActionId && !search && event.key === \"Backspace\") {\n                var parent_1 = actions[currentRootActionId].parent;\n                query.setCurrentRootAction(parent_1);\n            }\n        } })));\n}\nexports.KBarSearch = KBarSearch;\n","import React from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar props = ['bottom', 'height', 'left', 'right', 'top', 'width'];\n\nvar rectChanged = function rectChanged(a, b) {\n  if (a === void 0) {\n    a = {};\n  }\n\n  if (b === void 0) {\n    b = {};\n  }\n\n  return props.some(function (prop) {\n    return a[prop] !== b[prop];\n  });\n};\n\nvar observedNodes = /*#__PURE__*/new Map();\nvar rafId;\n\nvar run = function run() {\n  var changedStates = [];\n  observedNodes.forEach(function (state, node) {\n    var newRect = node.getBoundingClientRect();\n\n    if (rectChanged(newRect, state.rect)) {\n      state.rect = newRect;\n      changedStates.push(state);\n    }\n  });\n  changedStates.forEach(function (state) {\n    state.callbacks.forEach(function (cb) {\n      return cb(state.rect);\n    });\n  });\n  rafId = window.requestAnimationFrame(run);\n};\n\nfunction observeRect(node, cb) {\n  return {\n    observe: function observe() {\n      var wasEmpty = observedNodes.size === 0;\n\n      if (observedNodes.has(node)) {\n        observedNodes.get(node).callbacks.push(cb);\n      } else {\n        observedNodes.set(node, {\n          rect: undefined,\n          hasRectChanged: false,\n          callbacks: [cb]\n        });\n      }\n\n      if (wasEmpty) run();\n    },\n    unobserve: function unobserve() {\n      var state = observedNodes.get(node);\n\n      if (state) {\n        // Remove the callback\n        var index = state.callbacks.indexOf(cb);\n        if (index >= 0) state.callbacks.splice(index, 1); // Remove the node reference\n\n        if (!state.callbacks.length) observedNodes[\"delete\"](node); // Stop the loop\n\n        if (!observedNodes.size) cancelAnimationFrame(rafId);\n      }\n    }\n  };\n}\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n\nfunction useRect(nodeRef, initialRect) {\n  if (initialRect === void 0) {\n    initialRect = {\n      width: 0,\n      height: 0\n    };\n  }\n\n  var _React$useState = React.useState(nodeRef.current),\n      element = _React$useState[0],\n      setElement = _React$useState[1];\n\n  var _React$useReducer = React.useReducer(rectReducer, initialRect),\n      rect = _React$useReducer[0],\n      dispatch = _React$useReducer[1];\n\n  var initialRectSet = React.useRef(false);\n  useIsomorphicLayoutEffect(function () {\n    if (nodeRef.current !== element) {\n      setElement(nodeRef.current);\n    }\n  });\n  useIsomorphicLayoutEffect(function () {\n    if (element && !initialRectSet.current) {\n      initialRectSet.current = true;\n\n      var _rect = element.getBoundingClientRect();\n\n      dispatch({\n        rect: _rect\n      });\n    }\n  }, [element]);\n  React.useEffect(function () {\n    if (!element) {\n      return;\n    }\n\n    var observer = observeRect(element, function (rect) {\n      dispatch({\n        rect: rect\n      });\n    });\n    observer.observe();\n    return function () {\n      observer.unobserve();\n    };\n  }, [element]);\n  return rect;\n}\n\nfunction rectReducer(state, action) {\n  var rect = action.rect;\n\n  if (state.height !== rect.height || state.width !== rect.width) {\n    return rect;\n  }\n\n  return state;\n}\n\nvar defaultEstimateSize = function defaultEstimateSize() {\n  return 50;\n};\n\nvar defaultKeyExtractor = function defaultKeyExtractor(index) {\n  return index;\n};\n\nvar defaultMeasureSize = function defaultMeasureSize(el, horizontal) {\n  var key = horizontal ? 'offsetWidth' : 'offsetHeight';\n  return el[key];\n};\n\nvar defaultRangeExtractor = function defaultRangeExtractor(range) {\n  var start = Math.max(range.start - range.overscan, 0);\n  var end = Math.min(range.end + range.overscan, range.size - 1);\n  var arr = [];\n\n  for (var i = start; i <= end; i++) {\n    arr.push(i);\n  }\n\n  return arr;\n};\nfunction useVirtual(_ref) {\n  var _measurements;\n\n  var _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 0 : _ref$size,\n      _ref$estimateSize = _ref.estimateSize,\n      estimateSize = _ref$estimateSize === void 0 ? defaultEstimateSize : _ref$estimateSize,\n      _ref$overscan = _ref.overscan,\n      overscan = _ref$overscan === void 0 ? 1 : _ref$overscan,\n      _ref$paddingStart = _ref.paddingStart,\n      paddingStart = _ref$paddingStart === void 0 ? 0 : _ref$paddingStart,\n      _ref$paddingEnd = _ref.paddingEnd,\n      paddingEnd = _ref$paddingEnd === void 0 ? 0 : _ref$paddingEnd,\n      parentRef = _ref.parentRef,\n      horizontal = _ref.horizontal,\n      scrollToFn = _ref.scrollToFn,\n      useObserver = _ref.useObserver,\n      initialRect = _ref.initialRect,\n      onScrollElement = _ref.onScrollElement,\n      scrollOffsetFn = _ref.scrollOffsetFn,\n      _ref$keyExtractor = _ref.keyExtractor,\n      keyExtractor = _ref$keyExtractor === void 0 ? defaultKeyExtractor : _ref$keyExtractor,\n      _ref$measureSize = _ref.measureSize,\n      measureSize = _ref$measureSize === void 0 ? defaultMeasureSize : _ref$measureSize,\n      _ref$rangeExtractor = _ref.rangeExtractor,\n      rangeExtractor = _ref$rangeExtractor === void 0 ? defaultRangeExtractor : _ref$rangeExtractor;\n  var sizeKey = horizontal ? 'width' : 'height';\n  var scrollKey = horizontal ? 'scrollLeft' : 'scrollTop';\n  var latestRef = React.useRef({\n    scrollOffset: 0,\n    measurements: []\n  });\n\n  var _React$useState = React.useState(0),\n      scrollOffset = _React$useState[0],\n      setScrollOffset = _React$useState[1];\n\n  latestRef.current.scrollOffset = scrollOffset;\n  var useMeasureParent = useObserver || useRect;\n\n  var _useMeasureParent = useMeasureParent(parentRef, initialRect),\n      outerSize = _useMeasureParent[sizeKey];\n\n  latestRef.current.outerSize = outerSize;\n  var defaultScrollToFn = React.useCallback(function (offset) {\n    if (parentRef.current) {\n      parentRef.current[scrollKey] = offset;\n    }\n  }, [parentRef, scrollKey]);\n  var resolvedScrollToFn = scrollToFn || defaultScrollToFn;\n  scrollToFn = React.useCallback(function (offset) {\n    resolvedScrollToFn(offset, defaultScrollToFn);\n  }, [defaultScrollToFn, resolvedScrollToFn]);\n\n  var _React$useState2 = React.useState({}),\n      measuredCache = _React$useState2[0],\n      setMeasuredCache = _React$useState2[1];\n\n  var measure = React.useCallback(function () {\n    return setMeasuredCache({});\n  }, []);\n  var pendingMeasuredCacheIndexesRef = React.useRef([]);\n  var measurements = React.useMemo(function () {\n    var min = pendingMeasuredCacheIndexesRef.current.length > 0 ? Math.min.apply(Math, pendingMeasuredCacheIndexesRef.current) : 0;\n    pendingMeasuredCacheIndexesRef.current = [];\n    var measurements = latestRef.current.measurements.slice(0, min);\n\n    for (var i = min; i < size; i++) {\n      var key = keyExtractor(i);\n      var measuredSize = measuredCache[key];\n\n      var _start = measurements[i - 1] ? measurements[i - 1].end : paddingStart;\n\n      var _size = typeof measuredSize === 'number' ? measuredSize : estimateSize(i);\n\n      var _end = _start + _size;\n\n      measurements[i] = {\n        index: i,\n        start: _start,\n        size: _size,\n        end: _end,\n        key: key\n      };\n    }\n\n    return measurements;\n  }, [estimateSize, measuredCache, paddingStart, size, keyExtractor]);\n  var totalSize = (((_measurements = measurements[size - 1]) == null ? void 0 : _measurements.end) || paddingStart) + paddingEnd;\n  latestRef.current.measurements = measurements;\n  latestRef.current.totalSize = totalSize;\n  var element = onScrollElement ? onScrollElement.current : parentRef.current;\n  var scrollOffsetFnRef = React.useRef(scrollOffsetFn);\n  scrollOffsetFnRef.current = scrollOffsetFn;\n  useIsomorphicLayoutEffect(function () {\n    if (!element) {\n      setScrollOffset(0);\n      return;\n    }\n\n    var onScroll = function onScroll(event) {\n      var offset = scrollOffsetFnRef.current ? scrollOffsetFnRef.current(event) : element[scrollKey];\n      setScrollOffset(offset);\n    };\n\n    onScroll();\n    element.addEventListener('scroll', onScroll, {\n      capture: false,\n      passive: true\n    });\n    return function () {\n      element.removeEventListener('scroll', onScroll);\n    };\n  }, [element, scrollKey]);\n\n  var _calculateRange = calculateRange(latestRef.current),\n      start = _calculateRange.start,\n      end = _calculateRange.end;\n\n  var indexes = React.useMemo(function () {\n    return rangeExtractor({\n      start: start,\n      end: end,\n      overscan: overscan,\n      size: measurements.length\n    });\n  }, [start, end, overscan, measurements.length, rangeExtractor]);\n  var measureSizeRef = React.useRef(measureSize);\n  measureSizeRef.current = measureSize;\n  var virtualItems = React.useMemo(function () {\n    var virtualItems = [];\n\n    var _loop = function _loop(k, len) {\n      var i = indexes[k];\n      var measurement = measurements[i];\n\n      var item = _extends(_extends({}, measurement), {}, {\n        measureRef: function measureRef(el) {\n          if (el) {\n            var measuredSize = measureSizeRef.current(el, horizontal);\n\n            if (measuredSize !== item.size) {\n              var _scrollOffset = latestRef.current.scrollOffset;\n\n              if (item.start < _scrollOffset) {\n                defaultScrollToFn(_scrollOffset + (measuredSize - item.size));\n              }\n\n              pendingMeasuredCacheIndexesRef.current.push(i);\n              setMeasuredCache(function (old) {\n                var _extends2;\n\n                return _extends(_extends({}, old), {}, (_extends2 = {}, _extends2[item.key] = measuredSize, _extends2));\n              });\n            }\n          }\n        }\n      });\n\n      virtualItems.push(item);\n    };\n\n    for (var k = 0, len = indexes.length; k < len; k++) {\n      _loop(k);\n    }\n\n    return virtualItems;\n  }, [indexes, defaultScrollToFn, horizontal, measurements]);\n  var mountedRef = React.useRef(false);\n  useIsomorphicLayoutEffect(function () {\n    if (mountedRef.current) {\n      setMeasuredCache({});\n    }\n\n    mountedRef.current = true;\n  }, [estimateSize]);\n  var scrollToOffset = React.useCallback(function (toOffset, _temp) {\n    var _ref2 = _temp === void 0 ? {} : _temp,\n        _ref2$align = _ref2.align,\n        align = _ref2$align === void 0 ? 'start' : _ref2$align;\n\n    var _latestRef$current = latestRef.current,\n        scrollOffset = _latestRef$current.scrollOffset,\n        outerSize = _latestRef$current.outerSize;\n\n    if (align === 'auto') {\n      if (toOffset <= scrollOffset) {\n        align = 'start';\n      } else if (toOffset >= scrollOffset + outerSize) {\n        align = 'end';\n      } else {\n        align = 'start';\n      }\n    }\n\n    if (align === 'start') {\n      scrollToFn(toOffset);\n    } else if (align === 'end') {\n      scrollToFn(toOffset - outerSize);\n    } else if (align === 'center') {\n      scrollToFn(toOffset - outerSize / 2);\n    }\n  }, [scrollToFn]);\n  var tryScrollToIndex = React.useCallback(function (index, _temp2) {\n    var _ref3 = _temp2 === void 0 ? {} : _temp2,\n        _ref3$align = _ref3.align,\n        align = _ref3$align === void 0 ? 'auto' : _ref3$align,\n        rest = _objectWithoutPropertiesLoose(_ref3, [\"align\"]);\n\n    var _latestRef$current2 = latestRef.current,\n        measurements = _latestRef$current2.measurements,\n        scrollOffset = _latestRef$current2.scrollOffset,\n        outerSize = _latestRef$current2.outerSize;\n    var measurement = measurements[Math.max(0, Math.min(index, size - 1))];\n\n    if (!measurement) {\n      return;\n    }\n\n    if (align === 'auto') {\n      if (measurement.end >= scrollOffset + outerSize) {\n        align = 'end';\n      } else if (measurement.start <= scrollOffset) {\n        align = 'start';\n      } else {\n        return;\n      }\n    }\n\n    var toOffset = align === 'center' ? measurement.start + measurement.size / 2 : align === 'end' ? measurement.end : measurement.start;\n    scrollToOffset(toOffset, _extends({\n      align: align\n    }, rest));\n  }, [scrollToOffset, size]);\n  var scrollToIndex = React.useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    // We do a double request here because of\n    // dynamic sizes which can cause offset shift\n    // and end up in the wrong spot. Unfortunately,\n    // we can't know about those dynamic sizes until\n    // we try and render them. So double down!\n    tryScrollToIndex.apply(void 0, args);\n    requestAnimationFrame(function () {\n      tryScrollToIndex.apply(void 0, args);\n    });\n  }, [tryScrollToIndex]);\n  return {\n    virtualItems: virtualItems,\n    totalSize: totalSize,\n    scrollToOffset: scrollToOffset,\n    scrollToIndex: scrollToIndex,\n    measure: measure\n  };\n}\n\nvar findNearestBinarySearch = function findNearestBinarySearch(low, high, getCurrentValue, value) {\n  while (low <= high) {\n    var middle = (low + high) / 2 | 0;\n    var currentValue = getCurrentValue(middle);\n\n    if (currentValue < value) {\n      low = middle + 1;\n    } else if (currentValue > value) {\n      high = middle - 1;\n    } else {\n      return middle;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nfunction calculateRange(_ref4) {\n  var measurements = _ref4.measurements,\n      outerSize = _ref4.outerSize,\n      scrollOffset = _ref4.scrollOffset;\n  var size = measurements.length - 1;\n\n  var getOffset = function getOffset(index) {\n    return measurements[index].start;\n  };\n\n  var start = findNearestBinarySearch(0, size, getOffset, scrollOffset);\n  var end = start;\n\n  while (end < size && measurements[end].end < scrollOffset + outerSize) {\n    end++;\n  }\n\n  return {\n    start: start,\n    end: end\n  };\n}\n\nexport { defaultRangeExtractor, useVirtual };\n//# sourceMappingURL=react-virtual.mjs.map\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KBarResults = void 0;\nvar React = __importStar(require(\"react\"));\nvar react_virtual_1 = require(\"react-virtual\");\nvar KBarSearch_1 = require(\"./KBarSearch\");\nvar useKBar_1 = require(\"./useKBar\");\nvar utils_1 = require(\"./utils\");\nvar START_INDEX = 0;\nvar KBarResults = function (props) {\n    var activeRef = React.useRef(null);\n    var parentRef = React.useRef(null);\n    // store a ref to all items so we do not have to pass\n    // them as a dependency when setting up event listeners.\n    var itemsRef = React.useRef(props.items);\n    itemsRef.current = props.items;\n    var rowVirtualizer = (0, react_virtual_1.useVirtual)({\n        size: itemsRef.current.length,\n        parentRef: parentRef,\n    });\n    var _a = (0, useKBar_1.useKBar)(function (state) { return ({\n        search: state.searchQuery,\n        currentRootActionId: state.currentRootActionId,\n        activeIndex: state.activeIndex,\n    }); }), query = _a.query, search = _a.search, currentRootActionId = _a.currentRootActionId, activeIndex = _a.activeIndex, options = _a.options;\n    React.useEffect(function () {\n        var handler = function (event) {\n            var _a;\n            if (event.isComposing) {\n                return;\n            }\n            if (event.key === \"ArrowUp\" || (event.ctrlKey && event.key === \"p\")) {\n                event.preventDefault();\n                query.setActiveIndex(function (index) {\n                    var nextIndex = index > START_INDEX ? index - 1 : index;\n                    // avoid setting active index on a group\n                    if (typeof itemsRef.current[nextIndex] === \"string\") {\n                        if (nextIndex === 0)\n                            return index;\n                        nextIndex -= 1;\n                    }\n                    return nextIndex;\n                });\n            }\n            else if (event.key === \"ArrowDown\" ||\n                (event.ctrlKey && event.key === \"n\")) {\n                event.preventDefault();\n                query.setActiveIndex(function (index) {\n                    var nextIndex = index < itemsRef.current.length - 1 ? index + 1 : index;\n                    // avoid setting active index on a group\n                    if (typeof itemsRef.current[nextIndex] === \"string\") {\n                        if (nextIndex === itemsRef.current.length - 1)\n                            return index;\n                        nextIndex += 1;\n                    }\n                    return nextIndex;\n                });\n            }\n            else if (event.key === \"Enter\") {\n                event.preventDefault();\n                // storing the active dom element in a ref prevents us from\n                // having to calculate the current action to perform based\n                // on the `activeIndex`, which we would have needed to add\n                // as part of the dependencies array.\n                (_a = activeRef.current) === null || _a === void 0 ? void 0 : _a.click();\n            }\n        };\n        window.addEventListener(\"keydown\", handler);\n        return function () { return window.removeEventListener(\"keydown\", handler); };\n    }, [query]);\n    // destructuring here to prevent linter warning to pass\n    // entire rowVirtualizer in the dependencies array.\n    var scrollToIndex = rowVirtualizer.scrollToIndex;\n    React.useEffect(function () {\n        scrollToIndex(activeIndex, {\n            // ensure that if the first item in the list is a group\n            // name and we are focused on the second item, to not\n            // scroll past that group, hiding it.\n            align: activeIndex <= 1 ? \"end\" : \"auto\",\n        });\n    }, [activeIndex, scrollToIndex]);\n    React.useEffect(function () {\n        // TODO(tim): fix scenario where async actions load in\n        // and active index is reset to the first item. i.e. when\n        // users register actions and bust the `useRegisterActions`\n        // cache, we won't want to reset their active index as they\n        // are navigating the list.\n        query.setActiveIndex(\n        // avoid setting active index on a group\n        typeof props.items[START_INDEX] === \"string\"\n            ? START_INDEX + 1\n            : START_INDEX);\n    }, [search, currentRootActionId, props.items, query]);\n    var execute = React.useCallback(function (item) {\n        var _a, _b;\n        if (typeof item === \"string\")\n            return;\n        if (item.command) {\n            item.command.perform(item);\n            query.toggle();\n        }\n        else {\n            query.setSearch(\"\");\n            query.setCurrentRootAction(item.id);\n        }\n        (_b = (_a = options.callbacks) === null || _a === void 0 ? void 0 : _a.onSelectAction) === null || _b === void 0 ? void 0 : _b.call(_a, item);\n    }, [query, options]);\n    var pointerMoved = (0, utils_1.usePointerMovedSinceMount)();\n    return (React.createElement(\"div\", { ref: parentRef, style: {\n            maxHeight: props.maxHeight || 400,\n            position: \"relative\",\n            overflow: \"auto\",\n        } },\n        React.createElement(\"div\", { role: \"listbox\", id: KBarSearch_1.KBAR_LISTBOX, style: {\n                height: rowVirtualizer.totalSize + \"px\",\n                width: \"100%\",\n            } }, rowVirtualizer.virtualItems.map(function (virtualRow) {\n            var item = itemsRef.current[virtualRow.index];\n            var handlers = typeof item !== \"string\" && {\n                onPointerMove: function () {\n                    return pointerMoved &&\n                        activeIndex !== virtualRow.index &&\n                        query.setActiveIndex(virtualRow.index);\n                },\n                onPointerDown: function () { return query.setActiveIndex(virtualRow.index); },\n                onClick: function () { return execute(item); },\n            };\n            var active = virtualRow.index === activeIndex;\n            return (React.createElement(\"div\", __assign({ ref: active ? activeRef : null, id: (0, KBarSearch_1.getListboxItemId)(virtualRow.index), role: \"option\", \"aria-selected\": active, key: virtualRow.index, style: {\n                    position: \"absolute\",\n                    top: 0,\n                    left: 0,\n                    width: \"100%\",\n                    transform: \"translateY(\" + virtualRow.start + \"px)\",\n                } }, handlers), React.cloneElement(props.onRender({\n                item: item,\n                active: active,\n            }), {\n                ref: virtualRow.measureRef,\n            })));\n        }))));\n};\nexports.KBarResults = KBarResults;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useRegisterActions = void 0;\nvar React = __importStar(require(\"react\"));\nvar useKBar_1 = require(\"./useKBar\");\nfunction useRegisterActions(actions, dependencies) {\n    if (dependencies === void 0) { dependencies = []; }\n    var query = (0, useKBar_1.useKBar)().query;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    var actionsCache = React.useMemo(function () { return actions; }, dependencies);\n    React.useEffect(function () {\n        if (!actionsCache.length) {\n            return;\n        }\n        var unregister = query.registerActions(actionsCache);\n        return function () {\n            unregister();\n        };\n    }, [query, actionsCache]);\n}\nexports.useRegisterActions = useRegisterActions;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KBarAnimator = void 0;\nvar React = __importStar(require(\"react\"));\nvar types_1 = require(\"./types\");\nvar useKBar_1 = require(\"./useKBar\");\nvar utils_1 = require(\"./utils\");\nvar appearanceAnimationKeyframes = [\n    {\n        opacity: 0,\n        transform: \"scale(.99)\",\n    },\n    { opacity: 1, transform: \"scale(1.01)\" },\n    { opacity: 1, transform: \"scale(1)\" },\n];\nvar bumpAnimationKeyframes = [\n    {\n        transform: \"scale(1)\",\n    },\n    {\n        transform: \"scale(.98)\",\n    },\n    {\n        transform: \"scale(1)\",\n    },\n];\nvar KBarAnimator = function (_a) {\n    var _b, _c;\n    var children = _a.children, style = _a.style, className = _a.className;\n    var _d = (0, useKBar_1.useKBar)(function (state) { return ({\n        visualState: state.visualState,\n        currentRootActionId: state.currentRootActionId,\n    }); }), visualState = _d.visualState, currentRootActionId = _d.currentRootActionId, query = _d.query, options = _d.options;\n    var outerRef = React.useRef(null);\n    var innerRef = React.useRef(null);\n    var enterMs = ((_b = options === null || options === void 0 ? void 0 : options.animations) === null || _b === void 0 ? void 0 : _b.enterMs) || 0;\n    var exitMs = ((_c = options === null || options === void 0 ? void 0 : options.animations) === null || _c === void 0 ? void 0 : _c.exitMs) || 0;\n    // Show/hide animation\n    React.useEffect(function () {\n        if (visualState === types_1.VisualState.showing) {\n            return;\n        }\n        var duration = visualState === types_1.VisualState.animatingIn ? enterMs : exitMs;\n        var element = outerRef.current;\n        element === null || element === void 0 ? void 0 : element.animate(appearanceAnimationKeyframes, {\n            duration: duration,\n            easing: \n            // TODO: expose easing in options\n            visualState === types_1.VisualState.animatingOut ? \"ease-in\" : \"ease-out\",\n            direction: visualState === types_1.VisualState.animatingOut ? \"reverse\" : \"normal\",\n            fill: \"forwards\",\n        });\n    }, [options, visualState, enterMs, exitMs]);\n    // Height animation\n    var previousHeight = React.useRef();\n    React.useEffect(function () {\n        // Only animate if we're actually showing\n        if (visualState === types_1.VisualState.showing) {\n            var outer_1 = outerRef.current;\n            var inner_1 = innerRef.current;\n            if (!outer_1 || !inner_1) {\n                return;\n            }\n            var ro_1 = new ResizeObserver(function (entries) {\n                for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                    var entry = entries_1[_i];\n                    var cr = entry.contentRect;\n                    if (!previousHeight.current) {\n                        previousHeight.current = cr.height;\n                    }\n                    outer_1.animate([\n                        {\n                            height: previousHeight.current + \"px\",\n                        },\n                        {\n                            height: cr.height + \"px\",\n                        },\n                    ], {\n                        duration: enterMs / 2,\n                        // TODO: expose configs here\n                        easing: \"ease-out\",\n                        fill: \"forwards\",\n                    });\n                    previousHeight.current = cr.height;\n                }\n            });\n            ro_1.observe(inner_1);\n            return function () {\n                ro_1.unobserve(inner_1);\n            };\n        }\n    }, [visualState, options, enterMs, exitMs]);\n    // Bump animation between nested actions\n    var firstRender = React.useRef(true);\n    React.useEffect(function () {\n        if (firstRender.current) {\n            firstRender.current = false;\n            return;\n        }\n        var element = outerRef.current;\n        if (element) {\n            element.animate(bumpAnimationKeyframes, {\n                duration: enterMs,\n                easing: \"ease-out\",\n            });\n        }\n    }, [currentRootActionId, enterMs]);\n    (0, utils_1.useOuterClick)(outerRef, function () {\n        var _a, _b;\n        query.setVisualState(types_1.VisualState.animatingOut);\n        (_b = (_a = options.callbacks) === null || _a === void 0 ? void 0 : _a.onClose) === null || _b === void 0 ? void 0 : _b.call(_a);\n    });\n    return (React.createElement(\"div\", { ref: outerRef, style: __assign(__assign(__assign({}, appearanceAnimationKeyframes[0]), style), { pointerEvents: \"auto\" }), className: className },\n        React.createElement(\"div\", { ref: innerRef }, children)));\n};\nexports.KBarAnimator = KBarAnimator;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./ActionInterface\"), exports);\n__exportStar(require(\"./ActionImpl\"), exports);\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Priority = exports.createAction = void 0;\nvar utils_1 = require(\"./utils\");\nObject.defineProperty(exports, \"createAction\", { enumerable: true, get: function () { return utils_1.createAction; } });\nObject.defineProperty(exports, \"Priority\", { enumerable: true, get: function () { return utils_1.Priority; } });\n__exportStar(require(\"./useMatches\"), exports);\n__exportStar(require(\"./KBarPortal\"), exports);\n__exportStar(require(\"./KBarPositioner\"), exports);\n__exportStar(require(\"./KBarSearch\"), exports);\n__exportStar(require(\"./KBarResults\"), exports);\n__exportStar(require(\"./useKBar\"), exports);\n__exportStar(require(\"./useRegisterActions\"), exports);\n__exportStar(require(\"./KBarContextProvider\"), exports);\n__exportStar(require(\"./KBarAnimator\"), exports);\n__exportStar(require(\"./types\"), exports);\n__exportStar(require(\"./action\"), exports);\n","\"use client\"\nvar nt=Object.defineProperty;var r=(n,e)=>nt(n,\"name\",{value:e,configurable:!0});import W,{createContext as St}from\"react\";import{KBarProvider as vt}from\"kbar\";import{KBAR_LISTBOX as Ke,KBarAnimator as he,KBarContext as Ae,KBarPortal as Re,KBarPositioner as Be,KBarProvider as Ie,KBarResults as Ce,KBarSearch as Se,NO_GROUP as ve,Priority as Pe,VisualState as we,createAction as Te,getListboxItemId as ke,useKBar as De,useMatches as Le,useRegisterActions as Ee}from\"kbar\";import{useEffect as G,useState as ot,useContext as it}from\"react\";import{useNavigation as at,useDelete as rt,useTranslate as st,useResource as pt,useCanWithoutCache as ct,useUserFriendlyName as lt,useRouterType as dt,useGo as mt}from\"@refinedev/core\";import{useRegisterActions as ft,createAction as u,KBarContext as yt,VisualState as bt}from\"kbar\";var g=r(n=>n.replace(/\\w\\S*/g,e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()),\"capitalize\");import{useGetToPath as gt}from\"@refinedev/core\";var I=r(()=>{let n=st(),{resource:e,resources:p,id:c,action:y}=pt(),l=dt(),d=gt(),b=mt(),{mutate:H}=rt(),{push:K,list:Pt,create:wt,show:Tt,edit:kt}=at(),V=lt(),$=it(yt),{can:a}=ct(),[B,j]=ot([]);G(()=>{r(async()=>await Promise.all(q().flatMap(i=>F(i))),\"preaparedActions\")().then(i=>j(i.flatMap(m=>m)))},[p,c,e,y]),G(()=>{B.length===0&&$.query.setVisualState(bt.hidden)},[B]);let q=r(()=>{let t=[...p],i=t==null?void 0:t.findIndex(m=>(m.identifier??(m==null?void 0:m.name))===((e==null?void 0:e.identifier)??(e==null?void 0:e.name)));if(i>0){let m=t[i];t.splice(i,1),t.splice(0,0,m)}return t},\"moveActionToFirst\"),F=r(async t=>{var L,E,z,N,M,U;let{name:i,label:m,list:_,create:T,canCreate:Q,canEdit:X,canShow:J,icon:Y,show:k,canDelete:Z,edit:D,route:Dt}=t,tt=((L=t==null?void 0:t.meta)==null?void 0:L.label)??((E=t==null?void 0:t.options)==null?void 0:E.label)??m,h=((z=t==null?void 0:t.meta)==null?void 0:z.icon)??((N=t==null?void 0:t.options)==null?void 0:N.icon)??Y,et=((M=t==null?void 0:t.meta)==null?void 0:M.canDelete)??((U=t==null?void 0:t.options)==null?void 0:U.canDelete)??Z,A=tt??n(`${t.name}.${t.name}`,V(t.name,\"plural\")),x=[];if(_&&(e!==void 0&&(e==null?void 0:e.name)!==i||y!==void 0&&(e==null?void 0:e.name)===i)){let{can:f}=await(a==null?void 0:a({resource:i,action:\"list\",params:{id:c,resource:t}}))||{can:!0};f&&x.push(u({name:n(\"actions.list\",g(\"list\")),section:A,icon:h,perform:()=>{let o=d({resource:t,action:\"list\",legacy:l===\"legacy\"});o&&(l===\"legacy\"?K(o):b({to:o}))}}))}if((Q||T)&&T&&(y!==\"create\"||(e==null?void 0:e.name)!==i)){let{can:f}=await(a==null?void 0:a({resource:i,action:\"create\",params:{resource:t}}))||{can:!0};f&&x.push(u({name:n(\"actions.create\",g(\"create\")),section:A,icon:h,keywords:\"new\",perform:()=>{let o=d({resource:t,action:\"create\",legacy:l===\"legacy\"});o&&(l===\"legacy\"?K(o):b({to:o}))}}))}if((e==null?void 0:e.name)===i&&c){if((J||k)&&k&&y!==\"show\"){let{can:f}=await(a==null?void 0:a({resource:i,action:\"show\",params:{id:c,resource:t}}))||{can:!0};f&&x.push(u({name:n(\"actions.show\",g(\"show\")),section:A,icon:h,perform:()=>{let o=d({resource:t,action:\"show\",legacy:l===\"legacy\",meta:{id:c}});o&&(l===\"legacy\"?K(o):b({to:o}))}}))}if((X||D)&&D&&y!==\"edit\"){let{can:f}=await(a==null?void 0:a({resource:i,action:\"edit\",params:{id:c,resource:t}}))||{can:!0};f&&x.push(u({name:n(\"actions.edit\",g(\"edit\")),section:A,icon:h,perform:()=>{let o=d({resource:t,action:\"edit\",legacy:l===\"legacy\",meta:{id:c}});o&&(l===\"legacy\"?K(o):b({to:o}))}}))}if(et){let{can:f}=await(a==null?void 0:a({resource:i,action:\"delete\",params:{id:c,resource:t}}))||{can:!0};f&&x.push({id:\"delete\",name:n(\"actions.delete\",g(\"delete\")),section:A,icon:h},u({name:n(\"buttons.delete\",g(\"delete\")),section:n(\"buttons.confirm\",\"Are you sure?\"),parent:\"delete\",perform:()=>{H({resource:t.name,id:c},{onSuccess:()=>{let o=d({resource:t,action:\"list\",legacy:l===\"legacy\"});o&&(l===\"legacy\"?K(o):b({to:o}))}})}}),u({name:n(\"buttons.cancel\",\"Cancel\"),parent:\"delete\",perform:()=>null}))}}return x},\"createActionWithResource\");ft(B,[B])},\"useRefineKbar\");import R from\"react\";import{KBarPortal as xt,KBarPositioner as ut,KBarAnimator as Kt,KBarSearch as ht}from\"kbar\";var S=r(()=>R.createElement(xt,null,R.createElement(ut,{style:{opacity:1,transition:\"background 0.35s cubic-bezier(0.4, 0, 0.2, 1) 0s\",backdropFilter:\"saturate(180%) blur(1px)\",background:\"rgba(0, 0, 0, 0.1)\",zIndex:\"9999\"}},R.createElement(Kt,{style:{maxWidth:\"600px\",width:\"100%\",background:\"white\",color:\"black\",borderRadius:\"8px\",overflow:\"hidden\",boxShadow:\"0px 4px 4px rgba(0, 0, 0, 0.25)\"}},R.createElement(ht,{style:{padding:\"12px 16px\",fontSize:\"16px\",width:\"100%\",boxSizing:\"border-box\",outline:\"none\",border:\"none\",background:\"rgb(252 252 252)\",color:\"black\"}}),R.createElement(v,null)))),\"CommandBar\");import P from\"react\";import{KBarResults as At,useMatches as Rt}from\"kbar\";var Bt={padding:\"8px 16px\",fontSize:\"14px\",textTransform:\"uppercase\",fontWeight:\"bold\",opacity:.5},v=r(()=>{let{results:n,rootActionId:e}=Rt();return P.createElement(At,{items:n,onRender:({item:p,active:c})=>typeof p==\"string\"?P.createElement(\"div\",{style:Bt},p):P.createElement(C,{action:p,active:c,currentRootActionId:e})})},\"RenderResults\");import s from\"react\";var C=s.forwardRef(({action:n,active:e,currentRootActionId:p},c)=>{var l;let y=s.useMemo(()=>{if(!p)return n.ancestors;let d=n.ancestors.findIndex(b=>b.id===p);return n.ancestors.slice(d+1)},[n.ancestors,p]);return s.createElement(\"div\",{ref:c,style:{padding:\"12px 16px\",background:e?\"rgba(0 0 0 / 0.05)\":\"transparent\",borderLeft:`2px solid ${e?\"rgb(28 28 29)\":\"transparent\"}`,display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",cursor:\"pointer\"}},s.createElement(\"div\",{style:{display:\"flex\",gap:\"8px\",alignItems:\"center\",fontSize:14}},n.icon&&n.icon,s.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"column\"}},s.createElement(\"div\",null,y.length>0&&y.map(d=>s.createElement(s.Fragment,{key:d.id},s.createElement(\"span\",{style:{opacity:.5,marginRight:8}},d.name),s.createElement(\"span\",{style:{marginRight:8}},\"\\u203A\"))),s.createElement(\"span\",{style:{color:n.name.toLocaleUpperCase()===\"DELETE\"?\"red\":\"black\"}},n.name)),n.subtitle&&s.createElement(\"span\",{style:{fontSize:12}},n.subtitle))),(l=n.shortcut)!=null&&l.length?s.createElement(\"div\",{\"aria-hidden\":!0,style:{display:\"grid\",gridAutoFlow:\"column\",gap:\"4px\"}},n.shortcut.map(d=>s.createElement(\"kbd\",{key:d,style:{padding:\"4px 6px\",background:\"rgba(0 0 0 / .1)\",borderRadius:\"4px\",fontSize:14}},d))):null)});C.displayName=\"ResultItem\";import It,{useContext as Ct}from\"react\";var O=r(({commandBarProps:n})=>{let e=Ct(w);I();let p={...e,...n};return It.createElement(S,{...p})},\"RefineKbar\");var w=St({}),ge=r(({children:n,commandBarProps:e})=>W.createElement(w.Provider,{value:e??{}},W.createElement(vt,null,n)),\"RefineKbarProvider\");export{Ke as KBAR_LISTBOX,he as KBarAnimator,Ae as KBarContext,Re as KBarPortal,Be as KBarPositioner,Ie as KBarProvider,Ce as KBarResults,Se as KBarSearch,ve as NO_GROUP,Pe as Priority,O as RefineKbar,w as RefineKbarPropsContext,ge as RefineKbarProvider,we as VisualState,Te as createAction,ke as getListboxItemId,De as useKBar,Le as useMatches,I as useRefineKbar,Ee as useRegisterActions};\n//# sourceMappingURL=index.mjs.map","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","/**\n   * table-core\n   *\n   * Copyright (c) TanStack\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE.md file in the root directory of this source tree.\n   *\n   * @license MIT\n   */\n// type Person = {\n//   firstName: string\n//   lastName: string\n//   age: number\n//   visits: number\n//   status: string\n//   progress: number\n//   createdAt: Date\n//   nested: {\n//     foo: [\n//       {\n//         bar: 'bar'\n//       }\n//     ]\n//     bar: { subBar: boolean }[]\n//     baz: {\n//       foo: 'foo'\n//       bar: {\n//         baz: 'baz'\n//       }\n//     }\n//   }\n// }\n\n// const test: DeepKeys<Person> = 'nested.foo.0.bar'\n// const test2: DeepKeys<Person> = 'nested.bar'\n\n// const helper = createColumnHelper<Person>()\n\n// helper.accessor('nested.foo', {\n//   cell: info => info.getValue(),\n// })\n\n// helper.accessor('nested.foo.0.bar', {\n//   cell: info => info.getValue(),\n// })\n\n// helper.accessor('nested.bar', {\n//   cell: info => info.getValue(),\n// })\n\nfunction createColumnHelper() {\n  return {\n    accessor: (accessor, column) => {\n      return typeof accessor === 'function' ? {\n        ...column,\n        accessorFn: accessor\n      } : {\n        ...column,\n        accessorKey: accessor\n      };\n    },\n    display: column => column,\n    group: column => column\n  };\n}\n\n// Is this type a tuple?\n\n// If this type is a tuple, what indices are allowed?\n\n///\n\nfunction functionalUpdate(updater, input) {\n  return typeof updater === 'function' ? updater(input) : updater;\n}\nfunction noop() {\n  //\n}\nfunction makeStateUpdater(key, instance) {\n  return updater => {\n    instance.setState(old => {\n      return {\n        ...old,\n        [key]: functionalUpdate(updater, old[key])\n      };\n    });\n  };\n}\nfunction isFunction(d) {\n  return d instanceof Function;\n}\nfunction isNumberArray(d) {\n  return Array.isArray(d) && d.every(val => typeof val === 'number');\n}\nfunction flattenBy(arr, getChildren) {\n  const flat = [];\n  const recurse = subArr => {\n    subArr.forEach(item => {\n      flat.push(item);\n      const children = getChildren(item);\n      if (children != null && children.length) {\n        recurse(children);\n      }\n    });\n  };\n  recurse(arr);\n  return flat;\n}\nfunction memo(getDeps, fn, opts) {\n  let deps = [];\n  let result;\n  return depArgs => {\n    let depTime;\n    if (opts.key && opts.debug) depTime = Date.now();\n    const newDeps = getDeps(depArgs);\n    const depsChanged = newDeps.length !== deps.length || newDeps.some((dep, index) => deps[index] !== dep);\n    if (!depsChanged) {\n      return result;\n    }\n    deps = newDeps;\n    let resultTime;\n    if (opts.key && opts.debug) resultTime = Date.now();\n    result = fn(...newDeps);\n    opts == null || opts.onChange == null || opts.onChange(result);\n    if (opts.key && opts.debug) {\n      if (opts != null && opts.debug()) {\n        const depEndTime = Math.round((Date.now() - depTime) * 100) / 100;\n        const resultEndTime = Math.round((Date.now() - resultTime) * 100) / 100;\n        const resultFpsPercentage = resultEndTime / 16;\n        const pad = (str, num) => {\n          str = String(str);\n          while (str.length < num) {\n            str = ' ' + str;\n          }\n          return str;\n        };\n        console.info(`%c ${pad(resultEndTime, 5)} /${pad(depEndTime, 5)} ms`, `\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0, Math.min(120 - 120 * resultFpsPercentage, 120))}deg 100% 31%);`, opts == null ? void 0 : opts.key);\n      }\n    }\n    return result;\n  };\n}\nfunction getMemoOptions(tableOptions, debugLevel, key, onChange) {\n  return {\n    debug: () => {\n      var _tableOptions$debugAl;\n      return (_tableOptions$debugAl = tableOptions == null ? void 0 : tableOptions.debugAll) != null ? _tableOptions$debugAl : tableOptions[debugLevel];\n    },\n    key: process.env.NODE_ENV === 'development' && key,\n    onChange\n  };\n}\n\nfunction createCell(table, row, column, columnId) {\n  const getRenderValue = () => {\n    var _cell$getValue;\n    return (_cell$getValue = cell.getValue()) != null ? _cell$getValue : table.options.renderFallbackValue;\n  };\n  const cell = {\n    id: `${row.id}_${column.id}`,\n    row,\n    column,\n    getValue: () => row.getValue(columnId),\n    renderValue: getRenderValue,\n    getContext: memo(() => [table, column, row, cell], (table, column, row, cell) => ({\n      table,\n      column,\n      row,\n      cell: cell,\n      getValue: cell.getValue,\n      renderValue: cell.renderValue\n    }), getMemoOptions(table.options, 'debugCells', 'cell.getContext'))\n  };\n  table._features.forEach(feature => {\n    feature.createCell == null || feature.createCell(cell, column, row, table);\n  }, {});\n  return cell;\n}\n\nfunction createColumn(table, columnDef, depth, parent) {\n  var _ref, _resolvedColumnDef$id;\n  const defaultColumn = table._getDefaultColumnDef();\n  const resolvedColumnDef = {\n    ...defaultColumn,\n    ...columnDef\n  };\n  const accessorKey = resolvedColumnDef.accessorKey;\n  let id = (_ref = (_resolvedColumnDef$id = resolvedColumnDef.id) != null ? _resolvedColumnDef$id : accessorKey ? typeof String.prototype.replaceAll === 'function' ? accessorKey.replaceAll('.', '_') : accessorKey.replace(/\\./g, '_') : undefined) != null ? _ref : typeof resolvedColumnDef.header === 'string' ? resolvedColumnDef.header : undefined;\n  let accessorFn;\n  if (resolvedColumnDef.accessorFn) {\n    accessorFn = resolvedColumnDef.accessorFn;\n  } else if (accessorKey) {\n    // Support deep accessor keys\n    if (accessorKey.includes('.')) {\n      accessorFn = originalRow => {\n        let result = originalRow;\n        for (const key of accessorKey.split('.')) {\n          var _result;\n          result = (_result = result) == null ? void 0 : _result[key];\n          if (process.env.NODE_ENV !== 'production' && result === undefined) {\n            console.warn(`\"${key}\" in deeply nested key \"${accessorKey}\" returned undefined.`);\n          }\n        }\n        return result;\n      };\n    } else {\n      accessorFn = originalRow => originalRow[resolvedColumnDef.accessorKey];\n    }\n  }\n  if (!id) {\n    if (process.env.NODE_ENV !== 'production') {\n      throw new Error(resolvedColumnDef.accessorFn ? `Columns require an id when using an accessorFn` : `Columns require an id when using a non-string header`);\n    }\n    throw new Error();\n  }\n  let column = {\n    id: `${String(id)}`,\n    accessorFn,\n    parent: parent,\n    depth,\n    columnDef: resolvedColumnDef,\n    columns: [],\n    getFlatColumns: memo(() => [true], () => {\n      var _column$columns;\n      return [column, ...((_column$columns = column.columns) == null ? void 0 : _column$columns.flatMap(d => d.getFlatColumns()))];\n    }, getMemoOptions(table.options, 'debugColumns', 'column.getFlatColumns')),\n    getLeafColumns: memo(() => [table._getOrderColumnsFn()], orderColumns => {\n      var _column$columns2;\n      if ((_column$columns2 = column.columns) != null && _column$columns2.length) {\n        let leafColumns = column.columns.flatMap(column => column.getLeafColumns());\n        return orderColumns(leafColumns);\n      }\n      return [column];\n    }, getMemoOptions(table.options, 'debugColumns', 'column.getLeafColumns'))\n  };\n  for (const feature of table._features) {\n    feature.createColumn == null || feature.createColumn(column, table);\n  }\n\n  // Yes, we have to convert table to unknown, because we know more than the compiler here.\n  return column;\n}\n\nconst debug = 'debugHeaders';\n//\n\nfunction createHeader(table, column, options) {\n  var _options$id;\n  const id = (_options$id = options.id) != null ? _options$id : column.id;\n  let header = {\n    id,\n    column,\n    index: options.index,\n    isPlaceholder: !!options.isPlaceholder,\n    placeholderId: options.placeholderId,\n    depth: options.depth,\n    subHeaders: [],\n    colSpan: 0,\n    rowSpan: 0,\n    headerGroup: null,\n    getLeafHeaders: () => {\n      const leafHeaders = [];\n      const recurseHeader = h => {\n        if (h.subHeaders && h.subHeaders.length) {\n          h.subHeaders.map(recurseHeader);\n        }\n        leafHeaders.push(h);\n      };\n      recurseHeader(header);\n      return leafHeaders;\n    },\n    getContext: () => ({\n      table,\n      header: header,\n      column\n    })\n  };\n  table._features.forEach(feature => {\n    feature.createHeader == null || feature.createHeader(header, table);\n  });\n  return header;\n}\nconst Headers = {\n  createTable: table => {\n    // Header Groups\n\n    table.getHeaderGroups = memo(() => [table.getAllColumns(), table.getVisibleLeafColumns(), table.getState().columnPinning.left, table.getState().columnPinning.right], (allColumns, leafColumns, left, right) => {\n      var _left$map$filter, _right$map$filter;\n      const leftColumns = (_left$map$filter = left == null ? void 0 : left.map(columnId => leafColumns.find(d => d.id === columnId)).filter(Boolean)) != null ? _left$map$filter : [];\n      const rightColumns = (_right$map$filter = right == null ? void 0 : right.map(columnId => leafColumns.find(d => d.id === columnId)).filter(Boolean)) != null ? _right$map$filter : [];\n      const centerColumns = leafColumns.filter(column => !(left != null && left.includes(column.id)) && !(right != null && right.includes(column.id)));\n      const headerGroups = buildHeaderGroups(allColumns, [...leftColumns, ...centerColumns, ...rightColumns], table);\n      return headerGroups;\n    }, getMemoOptions(table.options, debug, 'getHeaderGroups'));\n    table.getCenterHeaderGroups = memo(() => [table.getAllColumns(), table.getVisibleLeafColumns(), table.getState().columnPinning.left, table.getState().columnPinning.right], (allColumns, leafColumns, left, right) => {\n      leafColumns = leafColumns.filter(column => !(left != null && left.includes(column.id)) && !(right != null && right.includes(column.id)));\n      return buildHeaderGroups(allColumns, leafColumns, table, 'center');\n    }, getMemoOptions(table.options, debug, 'getCenterHeaderGroups'));\n    table.getLeftHeaderGroups = memo(() => [table.getAllColumns(), table.getVisibleLeafColumns(), table.getState().columnPinning.left], (allColumns, leafColumns, left) => {\n      var _left$map$filter2;\n      const orderedLeafColumns = (_left$map$filter2 = left == null ? void 0 : left.map(columnId => leafColumns.find(d => d.id === columnId)).filter(Boolean)) != null ? _left$map$filter2 : [];\n      return buildHeaderGroups(allColumns, orderedLeafColumns, table, 'left');\n    }, getMemoOptions(table.options, debug, 'getLeftHeaderGroups'));\n    table.getRightHeaderGroups = memo(() => [table.getAllColumns(), table.getVisibleLeafColumns(), table.getState().columnPinning.right], (allColumns, leafColumns, right) => {\n      var _right$map$filter2;\n      const orderedLeafColumns = (_right$map$filter2 = right == null ? void 0 : right.map(columnId => leafColumns.find(d => d.id === columnId)).filter(Boolean)) != null ? _right$map$filter2 : [];\n      return buildHeaderGroups(allColumns, orderedLeafColumns, table, 'right');\n    }, getMemoOptions(table.options, debug, 'getRightHeaderGroups'));\n\n    // Footer Groups\n\n    table.getFooterGroups = memo(() => [table.getHeaderGroups()], headerGroups => {\n      return [...headerGroups].reverse();\n    }, getMemoOptions(table.options, debug, 'getFooterGroups'));\n    table.getLeftFooterGroups = memo(() => [table.getLeftHeaderGroups()], headerGroups => {\n      return [...headerGroups].reverse();\n    }, getMemoOptions(table.options, debug, 'getLeftFooterGroups'));\n    table.getCenterFooterGroups = memo(() => [table.getCenterHeaderGroups()], headerGroups => {\n      return [...headerGroups].reverse();\n    }, getMemoOptions(table.options, debug, 'getCenterFooterGroups'));\n    table.getRightFooterGroups = memo(() => [table.getRightHeaderGroups()], headerGroups => {\n      return [...headerGroups].reverse();\n    }, getMemoOptions(table.options, debug, 'getRightFooterGroups'));\n\n    // Flat Headers\n\n    table.getFlatHeaders = memo(() => [table.getHeaderGroups()], headerGroups => {\n      return headerGroups.map(headerGroup => {\n        return headerGroup.headers;\n      }).flat();\n    }, getMemoOptions(table.options, debug, 'getFlatHeaders'));\n    table.getLeftFlatHeaders = memo(() => [table.getLeftHeaderGroups()], left => {\n      return left.map(headerGroup => {\n        return headerGroup.headers;\n      }).flat();\n    }, getMemoOptions(table.options, debug, 'getLeftFlatHeaders'));\n    table.getCenterFlatHeaders = memo(() => [table.getCenterHeaderGroups()], left => {\n      return left.map(headerGroup => {\n        return headerGroup.headers;\n      }).flat();\n    }, getMemoOptions(table.options, debug, 'getCenterFlatHeaders'));\n    table.getRightFlatHeaders = memo(() => [table.getRightHeaderGroups()], left => {\n      return left.map(headerGroup => {\n        return headerGroup.headers;\n      }).flat();\n    }, getMemoOptions(table.options, debug, 'getRightFlatHeaders'));\n\n    // Leaf Headers\n\n    table.getCenterLeafHeaders = memo(() => [table.getCenterFlatHeaders()], flatHeaders => {\n      return flatHeaders.filter(header => {\n        var _header$subHeaders;\n        return !((_header$subHeaders = header.subHeaders) != null && _header$subHeaders.length);\n      });\n    }, getMemoOptions(table.options, debug, 'getCenterLeafHeaders'));\n    table.getLeftLeafHeaders = memo(() => [table.getLeftFlatHeaders()], flatHeaders => {\n      return flatHeaders.filter(header => {\n        var _header$subHeaders2;\n        return !((_header$subHeaders2 = header.subHeaders) != null && _header$subHeaders2.length);\n      });\n    }, getMemoOptions(table.options, debug, 'getLeftLeafHeaders'));\n    table.getRightLeafHeaders = memo(() => [table.getRightFlatHeaders()], flatHeaders => {\n      return flatHeaders.filter(header => {\n        var _header$subHeaders3;\n        return !((_header$subHeaders3 = header.subHeaders) != null && _header$subHeaders3.length);\n      });\n    }, getMemoOptions(table.options, debug, 'getRightLeafHeaders'));\n    table.getLeafHeaders = memo(() => [table.getLeftHeaderGroups(), table.getCenterHeaderGroups(), table.getRightHeaderGroups()], (left, center, right) => {\n      var _left$0$headers, _left$, _center$0$headers, _center$, _right$0$headers, _right$;\n      return [...((_left$0$headers = (_left$ = left[0]) == null ? void 0 : _left$.headers) != null ? _left$0$headers : []), ...((_center$0$headers = (_center$ = center[0]) == null ? void 0 : _center$.headers) != null ? _center$0$headers : []), ...((_right$0$headers = (_right$ = right[0]) == null ? void 0 : _right$.headers) != null ? _right$0$headers : [])].map(header => {\n        return header.getLeafHeaders();\n      }).flat();\n    }, getMemoOptions(table.options, debug, 'getLeafHeaders'));\n  }\n};\nfunction buildHeaderGroups(allColumns, columnsToGroup, table, headerFamily) {\n  var _headerGroups$0$heade, _headerGroups$;\n  // Find the max depth of the columns:\n  // build the leaf column row\n  // build each buffer row going up\n  //    placeholder for non-existent level\n  //    real column for existing level\n\n  let maxDepth = 0;\n  const findMaxDepth = function (columns, depth) {\n    if (depth === void 0) {\n      depth = 1;\n    }\n    maxDepth = Math.max(maxDepth, depth);\n    columns.filter(column => column.getIsVisible()).forEach(column => {\n      var _column$columns;\n      if ((_column$columns = column.columns) != null && _column$columns.length) {\n        findMaxDepth(column.columns, depth + 1);\n      }\n    }, 0);\n  };\n  findMaxDepth(allColumns);\n  let headerGroups = [];\n  const createHeaderGroup = (headersToGroup, depth) => {\n    // The header group we are creating\n    const headerGroup = {\n      depth,\n      id: [headerFamily, `${depth}`].filter(Boolean).join('_'),\n      headers: []\n    };\n\n    // The parent columns we're going to scan next\n    const pendingParentHeaders = [];\n\n    // Scan each column for parents\n    headersToGroup.forEach(headerToGroup => {\n      // What is the latest (last) parent column?\n\n      const latestPendingParentHeader = [...pendingParentHeaders].reverse()[0];\n      const isLeafHeader = headerToGroup.column.depth === headerGroup.depth;\n      let column;\n      let isPlaceholder = false;\n      if (isLeafHeader && headerToGroup.column.parent) {\n        // The parent header is new\n        column = headerToGroup.column.parent;\n      } else {\n        // The parent header is repeated\n        column = headerToGroup.column;\n        isPlaceholder = true;\n      }\n      if (latestPendingParentHeader && (latestPendingParentHeader == null ? void 0 : latestPendingParentHeader.column) === column) {\n        // This column is repeated. Add it as a sub header to the next batch\n        latestPendingParentHeader.subHeaders.push(headerToGroup);\n      } else {\n        // This is a new header. Let's create it\n        const header = createHeader(table, column, {\n          id: [headerFamily, depth, column.id, headerToGroup == null ? void 0 : headerToGroup.id].filter(Boolean).join('_'),\n          isPlaceholder,\n          placeholderId: isPlaceholder ? `${pendingParentHeaders.filter(d => d.column === column).length}` : undefined,\n          depth,\n          index: pendingParentHeaders.length\n        });\n\n        // Add the headerToGroup as a subHeader of the new header\n        header.subHeaders.push(headerToGroup);\n        // Add the new header to the pendingParentHeaders to get grouped\n        // in the next batch\n        pendingParentHeaders.push(header);\n      }\n      headerGroup.headers.push(headerToGroup);\n      headerToGroup.headerGroup = headerGroup;\n    });\n    headerGroups.push(headerGroup);\n    if (depth > 0) {\n      createHeaderGroup(pendingParentHeaders, depth - 1);\n    }\n  };\n  const bottomHeaders = columnsToGroup.map((column, index) => createHeader(table, column, {\n    depth: maxDepth,\n    index\n  }));\n  createHeaderGroup(bottomHeaders, maxDepth - 1);\n  headerGroups.reverse();\n\n  // headerGroups = headerGroups.filter(headerGroup => {\n  //   return !headerGroup.headers.every(header => header.isPlaceholder)\n  // })\n\n  const recurseHeadersForSpans = headers => {\n    const filteredHeaders = headers.filter(header => header.column.getIsVisible());\n    return filteredHeaders.map(header => {\n      let colSpan = 0;\n      let rowSpan = 0;\n      let childRowSpans = [0];\n      if (header.subHeaders && header.subHeaders.length) {\n        childRowSpans = [];\n        recurseHeadersForSpans(header.subHeaders).forEach(_ref => {\n          let {\n            colSpan: childColSpan,\n            rowSpan: childRowSpan\n          } = _ref;\n          colSpan += childColSpan;\n          childRowSpans.push(childRowSpan);\n        });\n      } else {\n        colSpan = 1;\n      }\n      const minChildRowSpan = Math.min(...childRowSpans);\n      rowSpan = rowSpan + minChildRowSpan;\n      header.colSpan = colSpan;\n      header.rowSpan = rowSpan;\n      return {\n        colSpan,\n        rowSpan\n      };\n    });\n  };\n  recurseHeadersForSpans((_headerGroups$0$heade = (_headerGroups$ = headerGroups[0]) == null ? void 0 : _headerGroups$.headers) != null ? _headerGroups$0$heade : []);\n  return headerGroups;\n}\n\nconst createRow = (table, id, original, rowIndex, depth, subRows, parentId) => {\n  let row = {\n    id,\n    index: rowIndex,\n    original,\n    depth,\n    parentId,\n    _valuesCache: {},\n    _uniqueValuesCache: {},\n    getValue: columnId => {\n      if (row._valuesCache.hasOwnProperty(columnId)) {\n        return row._valuesCache[columnId];\n      }\n      const column = table.getColumn(columnId);\n      if (!(column != null && column.accessorFn)) {\n        return undefined;\n      }\n      row._valuesCache[columnId] = column.accessorFn(row.original, rowIndex);\n      return row._valuesCache[columnId];\n    },\n    getUniqueValues: columnId => {\n      if (row._uniqueValuesCache.hasOwnProperty(columnId)) {\n        return row._uniqueValuesCache[columnId];\n      }\n      const column = table.getColumn(columnId);\n      if (!(column != null && column.accessorFn)) {\n        return undefined;\n      }\n      if (!column.columnDef.getUniqueValues) {\n        row._uniqueValuesCache[columnId] = [row.getValue(columnId)];\n        return row._uniqueValuesCache[columnId];\n      }\n      row._uniqueValuesCache[columnId] = column.columnDef.getUniqueValues(row.original, rowIndex);\n      return row._uniqueValuesCache[columnId];\n    },\n    renderValue: columnId => {\n      var _row$getValue;\n      return (_row$getValue = row.getValue(columnId)) != null ? _row$getValue : table.options.renderFallbackValue;\n    },\n    subRows: subRows != null ? subRows : [],\n    getLeafRows: () => flattenBy(row.subRows, d => d.subRows),\n    getParentRow: () => row.parentId ? table.getRow(row.parentId, true) : undefined,\n    getParentRows: () => {\n      let parentRows = [];\n      let currentRow = row;\n      while (true) {\n        const parentRow = currentRow.getParentRow();\n        if (!parentRow) break;\n        parentRows.push(parentRow);\n        currentRow = parentRow;\n      }\n      return parentRows.reverse();\n    },\n    getAllCells: memo(() => [table.getAllLeafColumns()], leafColumns => {\n      return leafColumns.map(column => {\n        return createCell(table, row, column, column.id);\n      });\n    }, getMemoOptions(table.options, 'debugRows', 'getAllCells')),\n    _getAllCellsByColumnId: memo(() => [row.getAllCells()], allCells => {\n      return allCells.reduce((acc, cell) => {\n        acc[cell.column.id] = cell;\n        return acc;\n      }, {});\n    }, getMemoOptions(table.options, 'debugRows', 'getAllCellsByColumnId'))\n  };\n  for (let i = 0; i < table._features.length; i++) {\n    const feature = table._features[i];\n    feature == null || feature.createRow == null || feature.createRow(row, table);\n  }\n  return row;\n};\n\n//\n\nconst ColumnFaceting = {\n  createColumn: (column, table) => {\n    column._getFacetedRowModel = table.options.getFacetedRowModel && table.options.getFacetedRowModel(table, column.id);\n    column.getFacetedRowModel = () => {\n      if (!column._getFacetedRowModel) {\n        return table.getPreFilteredRowModel();\n      }\n      return column._getFacetedRowModel();\n    };\n    column._getFacetedUniqueValues = table.options.getFacetedUniqueValues && table.options.getFacetedUniqueValues(table, column.id);\n    column.getFacetedUniqueValues = () => {\n      if (!column._getFacetedUniqueValues) {\n        return new Map();\n      }\n      return column._getFacetedUniqueValues();\n    };\n    column._getFacetedMinMaxValues = table.options.getFacetedMinMaxValues && table.options.getFacetedMinMaxValues(table, column.id);\n    column.getFacetedMinMaxValues = () => {\n      if (!column._getFacetedMinMaxValues) {\n        return undefined;\n      }\n      return column._getFacetedMinMaxValues();\n    };\n  }\n};\n\nconst includesString = (row, columnId, filterValue) => {\n  var _filterValue$toString, _row$getValue;\n  const search = filterValue == null || (_filterValue$toString = filterValue.toString()) == null ? void 0 : _filterValue$toString.toLowerCase();\n  return Boolean((_row$getValue = row.getValue(columnId)) == null || (_row$getValue = _row$getValue.toString()) == null || (_row$getValue = _row$getValue.toLowerCase()) == null ? void 0 : _row$getValue.includes(search));\n};\nincludesString.autoRemove = val => testFalsey(val);\nconst includesStringSensitive = (row, columnId, filterValue) => {\n  var _row$getValue2;\n  return Boolean((_row$getValue2 = row.getValue(columnId)) == null || (_row$getValue2 = _row$getValue2.toString()) == null ? void 0 : _row$getValue2.includes(filterValue));\n};\nincludesStringSensitive.autoRemove = val => testFalsey(val);\nconst equalsString = (row, columnId, filterValue) => {\n  var _row$getValue3;\n  return ((_row$getValue3 = row.getValue(columnId)) == null || (_row$getValue3 = _row$getValue3.toString()) == null ? void 0 : _row$getValue3.toLowerCase()) === (filterValue == null ? void 0 : filterValue.toLowerCase());\n};\nequalsString.autoRemove = val => testFalsey(val);\nconst arrIncludes = (row, columnId, filterValue) => {\n  var _row$getValue4;\n  return (_row$getValue4 = row.getValue(columnId)) == null ? void 0 : _row$getValue4.includes(filterValue);\n};\narrIncludes.autoRemove = val => testFalsey(val);\nconst arrIncludesAll = (row, columnId, filterValue) => {\n  return !filterValue.some(val => {\n    var _row$getValue5;\n    return !((_row$getValue5 = row.getValue(columnId)) != null && _row$getValue5.includes(val));\n  });\n};\narrIncludesAll.autoRemove = val => testFalsey(val) || !(val != null && val.length);\nconst arrIncludesSome = (row, columnId, filterValue) => {\n  return filterValue.some(val => {\n    var _row$getValue6;\n    return (_row$getValue6 = row.getValue(columnId)) == null ? void 0 : _row$getValue6.includes(val);\n  });\n};\narrIncludesSome.autoRemove = val => testFalsey(val) || !(val != null && val.length);\nconst equals = (row, columnId, filterValue) => {\n  return row.getValue(columnId) === filterValue;\n};\nequals.autoRemove = val => testFalsey(val);\nconst weakEquals = (row, columnId, filterValue) => {\n  return row.getValue(columnId) == filterValue;\n};\nweakEquals.autoRemove = val => testFalsey(val);\nconst inNumberRange = (row, columnId, filterValue) => {\n  let [min, max] = filterValue;\n  const rowValue = row.getValue(columnId);\n  return rowValue >= min && rowValue <= max;\n};\ninNumberRange.resolveFilterValue = val => {\n  let [unsafeMin, unsafeMax] = val;\n  let parsedMin = typeof unsafeMin !== 'number' ? parseFloat(unsafeMin) : unsafeMin;\n  let parsedMax = typeof unsafeMax !== 'number' ? parseFloat(unsafeMax) : unsafeMax;\n  let min = unsafeMin === null || Number.isNaN(parsedMin) ? -Infinity : parsedMin;\n  let max = unsafeMax === null || Number.isNaN(parsedMax) ? Infinity : parsedMax;\n  if (min > max) {\n    const temp = min;\n    min = max;\n    max = temp;\n  }\n  return [min, max];\n};\ninNumberRange.autoRemove = val => testFalsey(val) || testFalsey(val[0]) && testFalsey(val[1]);\n\n// Export\n\nconst filterFns = {\n  includesString,\n  includesStringSensitive,\n  equalsString,\n  arrIncludes,\n  arrIncludesAll,\n  arrIncludesSome,\n  equals,\n  weakEquals,\n  inNumberRange\n};\n// Utils\n\nfunction testFalsey(val) {\n  return val === undefined || val === null || val === '';\n}\n\n//\n\nconst ColumnFiltering = {\n  getDefaultColumnDef: () => {\n    return {\n      filterFn: 'auto'\n    };\n  },\n  getInitialState: state => {\n    return {\n      columnFilters: [],\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onColumnFiltersChange: makeStateUpdater('columnFilters', table),\n      filterFromLeafRows: false,\n      maxLeafRowFilterDepth: 100\n    };\n  },\n  createColumn: (column, table) => {\n    column.getAutoFilterFn = () => {\n      const firstRow = table.getCoreRowModel().flatRows[0];\n      const value = firstRow == null ? void 0 : firstRow.getValue(column.id);\n      if (typeof value === 'string') {\n        return filterFns.includesString;\n      }\n      if (typeof value === 'number') {\n        return filterFns.inNumberRange;\n      }\n      if (typeof value === 'boolean') {\n        return filterFns.equals;\n      }\n      if (value !== null && typeof value === 'object') {\n        return filterFns.equals;\n      }\n      if (Array.isArray(value)) {\n        return filterFns.arrIncludes;\n      }\n      return filterFns.weakEquals;\n    };\n    column.getFilterFn = () => {\n      var _table$options$filter, _table$options$filter2;\n      return isFunction(column.columnDef.filterFn) ? column.columnDef.filterFn : column.columnDef.filterFn === 'auto' ? column.getAutoFilterFn() : // @ts-ignore\n      (_table$options$filter = (_table$options$filter2 = table.options.filterFns) == null ? void 0 : _table$options$filter2[column.columnDef.filterFn]) != null ? _table$options$filter : filterFns[column.columnDef.filterFn];\n    };\n    column.getCanFilter = () => {\n      var _column$columnDef$ena, _table$options$enable, _table$options$enable2;\n      return ((_column$columnDef$ena = column.columnDef.enableColumnFilter) != null ? _column$columnDef$ena : true) && ((_table$options$enable = table.options.enableColumnFilters) != null ? _table$options$enable : true) && ((_table$options$enable2 = table.options.enableFilters) != null ? _table$options$enable2 : true) && !!column.accessorFn;\n    };\n    column.getIsFiltered = () => column.getFilterIndex() > -1;\n    column.getFilterValue = () => {\n      var _table$getState$colum;\n      return (_table$getState$colum = table.getState().columnFilters) == null || (_table$getState$colum = _table$getState$colum.find(d => d.id === column.id)) == null ? void 0 : _table$getState$colum.value;\n    };\n    column.getFilterIndex = () => {\n      var _table$getState$colum2, _table$getState$colum3;\n      return (_table$getState$colum2 = (_table$getState$colum3 = table.getState().columnFilters) == null ? void 0 : _table$getState$colum3.findIndex(d => d.id === column.id)) != null ? _table$getState$colum2 : -1;\n    };\n    column.setFilterValue = value => {\n      table.setColumnFilters(old => {\n        const filterFn = column.getFilterFn();\n        const previousFilter = old == null ? void 0 : old.find(d => d.id === column.id);\n        const newFilter = functionalUpdate(value, previousFilter ? previousFilter.value : undefined);\n\n        //\n        if (shouldAutoRemoveFilter(filterFn, newFilter, column)) {\n          var _old$filter;\n          return (_old$filter = old == null ? void 0 : old.filter(d => d.id !== column.id)) != null ? _old$filter : [];\n        }\n        const newFilterObj = {\n          id: column.id,\n          value: newFilter\n        };\n        if (previousFilter) {\n          var _old$map;\n          return (_old$map = old == null ? void 0 : old.map(d => {\n            if (d.id === column.id) {\n              return newFilterObj;\n            }\n            return d;\n          })) != null ? _old$map : [];\n        }\n        if (old != null && old.length) {\n          return [...old, newFilterObj];\n        }\n        return [newFilterObj];\n      });\n    };\n  },\n  createRow: (row, _table) => {\n    row.columnFilters = {};\n    row.columnFiltersMeta = {};\n  },\n  createTable: table => {\n    table.setColumnFilters = updater => {\n      const leafColumns = table.getAllLeafColumns();\n      const updateFn = old => {\n        var _functionalUpdate;\n        return (_functionalUpdate = functionalUpdate(updater, old)) == null ? void 0 : _functionalUpdate.filter(filter => {\n          const column = leafColumns.find(d => d.id === filter.id);\n          if (column) {\n            const filterFn = column.getFilterFn();\n            if (shouldAutoRemoveFilter(filterFn, filter.value, column)) {\n              return false;\n            }\n          }\n          return true;\n        });\n      };\n      table.options.onColumnFiltersChange == null || table.options.onColumnFiltersChange(updateFn);\n    };\n    table.resetColumnFilters = defaultState => {\n      var _table$initialState$c, _table$initialState;\n      table.setColumnFilters(defaultState ? [] : (_table$initialState$c = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.columnFilters) != null ? _table$initialState$c : []);\n    };\n    table.getPreFilteredRowModel = () => table.getCoreRowModel();\n    table.getFilteredRowModel = () => {\n      if (!table._getFilteredRowModel && table.options.getFilteredRowModel) {\n        table._getFilteredRowModel = table.options.getFilteredRowModel(table);\n      }\n      if (table.options.manualFiltering || !table._getFilteredRowModel) {\n        return table.getPreFilteredRowModel();\n      }\n      return table._getFilteredRowModel();\n    };\n  }\n};\nfunction shouldAutoRemoveFilter(filterFn, value, column) {\n  return (filterFn && filterFn.autoRemove ? filterFn.autoRemove(value, column) : false) || typeof value === 'undefined' || typeof value === 'string' && !value;\n}\n\nconst sum = (columnId, _leafRows, childRows) => {\n  // It's faster to just add the aggregations together instead of\n  // process leaf nodes individually\n  return childRows.reduce((sum, next) => {\n    const nextValue = next.getValue(columnId);\n    return sum + (typeof nextValue === 'number' ? nextValue : 0);\n  }, 0);\n};\nconst min = (columnId, _leafRows, childRows) => {\n  let min;\n  childRows.forEach(row => {\n    const value = row.getValue(columnId);\n    if (value != null && (min > value || min === undefined && value >= value)) {\n      min = value;\n    }\n  });\n  return min;\n};\nconst max = (columnId, _leafRows, childRows) => {\n  let max;\n  childRows.forEach(row => {\n    const value = row.getValue(columnId);\n    if (value != null && (max < value || max === undefined && value >= value)) {\n      max = value;\n    }\n  });\n  return max;\n};\nconst extent = (columnId, _leafRows, childRows) => {\n  let min;\n  let max;\n  childRows.forEach(row => {\n    const value = row.getValue(columnId);\n    if (value != null) {\n      if (min === undefined) {\n        if (value >= value) min = max = value;\n      } else {\n        if (min > value) min = value;\n        if (max < value) max = value;\n      }\n    }\n  });\n  return [min, max];\n};\nconst mean = (columnId, leafRows) => {\n  let count = 0;\n  let sum = 0;\n  leafRows.forEach(row => {\n    let value = row.getValue(columnId);\n    if (value != null && (value = +value) >= value) {\n      ++count, sum += value;\n    }\n  });\n  if (count) return sum / count;\n  return;\n};\nconst median = (columnId, leafRows) => {\n  if (!leafRows.length) {\n    return;\n  }\n  const values = leafRows.map(row => row.getValue(columnId));\n  if (!isNumberArray(values)) {\n    return;\n  }\n  if (values.length === 1) {\n    return values[0];\n  }\n  const mid = Math.floor(values.length / 2);\n  const nums = values.sort((a, b) => a - b);\n  return values.length % 2 !== 0 ? nums[mid] : (nums[mid - 1] + nums[mid]) / 2;\n};\nconst unique = (columnId, leafRows) => {\n  return Array.from(new Set(leafRows.map(d => d.getValue(columnId))).values());\n};\nconst uniqueCount = (columnId, leafRows) => {\n  return new Set(leafRows.map(d => d.getValue(columnId))).size;\n};\nconst count = (_columnId, leafRows) => {\n  return leafRows.length;\n};\nconst aggregationFns = {\n  sum,\n  min,\n  max,\n  extent,\n  mean,\n  median,\n  unique,\n  uniqueCount,\n  count\n};\n\n//\n\nconst ColumnGrouping = {\n  getDefaultColumnDef: () => {\n    return {\n      aggregatedCell: props => {\n        var _toString, _props$getValue;\n        return (_toString = (_props$getValue = props.getValue()) == null || _props$getValue.toString == null ? void 0 : _props$getValue.toString()) != null ? _toString : null;\n      },\n      aggregationFn: 'auto'\n    };\n  },\n  getInitialState: state => {\n    return {\n      grouping: [],\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onGroupingChange: makeStateUpdater('grouping', table),\n      groupedColumnMode: 'reorder'\n    };\n  },\n  createColumn: (column, table) => {\n    column.toggleGrouping = () => {\n      table.setGrouping(old => {\n        // Find any existing grouping for this column\n        if (old != null && old.includes(column.id)) {\n          return old.filter(d => d !== column.id);\n        }\n        return [...(old != null ? old : []), column.id];\n      });\n    };\n    column.getCanGroup = () => {\n      var _column$columnDef$ena, _table$options$enable;\n      return ((_column$columnDef$ena = column.columnDef.enableGrouping) != null ? _column$columnDef$ena : true) && ((_table$options$enable = table.options.enableGrouping) != null ? _table$options$enable : true) && (!!column.accessorFn || !!column.columnDef.getGroupingValue);\n    };\n    column.getIsGrouped = () => {\n      var _table$getState$group;\n      return (_table$getState$group = table.getState().grouping) == null ? void 0 : _table$getState$group.includes(column.id);\n    };\n    column.getGroupedIndex = () => {\n      var _table$getState$group2;\n      return (_table$getState$group2 = table.getState().grouping) == null ? void 0 : _table$getState$group2.indexOf(column.id);\n    };\n    column.getToggleGroupingHandler = () => {\n      const canGroup = column.getCanGroup();\n      return () => {\n        if (!canGroup) return;\n        column.toggleGrouping();\n      };\n    };\n    column.getAutoAggregationFn = () => {\n      const firstRow = table.getCoreRowModel().flatRows[0];\n      const value = firstRow == null ? void 0 : firstRow.getValue(column.id);\n      if (typeof value === 'number') {\n        return aggregationFns.sum;\n      }\n      if (Object.prototype.toString.call(value) === '[object Date]') {\n        return aggregationFns.extent;\n      }\n    };\n    column.getAggregationFn = () => {\n      var _table$options$aggreg, _table$options$aggreg2;\n      if (!column) {\n        throw new Error();\n      }\n      return isFunction(column.columnDef.aggregationFn) ? column.columnDef.aggregationFn : column.columnDef.aggregationFn === 'auto' ? column.getAutoAggregationFn() : (_table$options$aggreg = (_table$options$aggreg2 = table.options.aggregationFns) == null ? void 0 : _table$options$aggreg2[column.columnDef.aggregationFn]) != null ? _table$options$aggreg : aggregationFns[column.columnDef.aggregationFn];\n    };\n  },\n  createTable: table => {\n    table.setGrouping = updater => table.options.onGroupingChange == null ? void 0 : table.options.onGroupingChange(updater);\n    table.resetGrouping = defaultState => {\n      var _table$initialState$g, _table$initialState;\n      table.setGrouping(defaultState ? [] : (_table$initialState$g = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.grouping) != null ? _table$initialState$g : []);\n    };\n    table.getPreGroupedRowModel = () => table.getFilteredRowModel();\n    table.getGroupedRowModel = () => {\n      if (!table._getGroupedRowModel && table.options.getGroupedRowModel) {\n        table._getGroupedRowModel = table.options.getGroupedRowModel(table);\n      }\n      if (table.options.manualGrouping || !table._getGroupedRowModel) {\n        return table.getPreGroupedRowModel();\n      }\n      return table._getGroupedRowModel();\n    };\n  },\n  createRow: (row, table) => {\n    row.getIsGrouped = () => !!row.groupingColumnId;\n    row.getGroupingValue = columnId => {\n      if (row._groupingValuesCache.hasOwnProperty(columnId)) {\n        return row._groupingValuesCache[columnId];\n      }\n      const column = table.getColumn(columnId);\n      if (!(column != null && column.columnDef.getGroupingValue)) {\n        return row.getValue(columnId);\n      }\n      row._groupingValuesCache[columnId] = column.columnDef.getGroupingValue(row.original);\n      return row._groupingValuesCache[columnId];\n    };\n    row._groupingValuesCache = {};\n  },\n  createCell: (cell, column, row, table) => {\n    cell.getIsGrouped = () => column.getIsGrouped() && column.id === row.groupingColumnId;\n    cell.getIsPlaceholder = () => !cell.getIsGrouped() && column.getIsGrouped();\n    cell.getIsAggregated = () => {\n      var _row$subRows;\n      return !cell.getIsGrouped() && !cell.getIsPlaceholder() && !!((_row$subRows = row.subRows) != null && _row$subRows.length);\n    };\n  }\n};\nfunction orderColumns(leafColumns, grouping, groupedColumnMode) {\n  if (!(grouping != null && grouping.length) || !groupedColumnMode) {\n    return leafColumns;\n  }\n  const nonGroupingColumns = leafColumns.filter(col => !grouping.includes(col.id));\n  if (groupedColumnMode === 'remove') {\n    return nonGroupingColumns;\n  }\n  const groupingColumns = grouping.map(g => leafColumns.find(col => col.id === g)).filter(Boolean);\n  return [...groupingColumns, ...nonGroupingColumns];\n}\n\n//\n\nconst ColumnOrdering = {\n  getInitialState: state => {\n    return {\n      columnOrder: [],\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onColumnOrderChange: makeStateUpdater('columnOrder', table)\n    };\n  },\n  createColumn: (column, table) => {\n    column.getIndex = memo(position => [_getVisibleLeafColumns(table, position)], columns => columns.findIndex(d => d.id === column.id), getMemoOptions(table.options, 'debugColumns', 'getIndex'));\n    column.getIsFirstColumn = position => {\n      var _columns$;\n      const columns = _getVisibleLeafColumns(table, position);\n      return ((_columns$ = columns[0]) == null ? void 0 : _columns$.id) === column.id;\n    };\n    column.getIsLastColumn = position => {\n      var _columns;\n      const columns = _getVisibleLeafColumns(table, position);\n      return ((_columns = columns[columns.length - 1]) == null ? void 0 : _columns.id) === column.id;\n    };\n  },\n  createTable: table => {\n    table.setColumnOrder = updater => table.options.onColumnOrderChange == null ? void 0 : table.options.onColumnOrderChange(updater);\n    table.resetColumnOrder = defaultState => {\n      var _table$initialState$c;\n      table.setColumnOrder(defaultState ? [] : (_table$initialState$c = table.initialState.columnOrder) != null ? _table$initialState$c : []);\n    };\n    table._getOrderColumnsFn = memo(() => [table.getState().columnOrder, table.getState().grouping, table.options.groupedColumnMode], (columnOrder, grouping, groupedColumnMode) => columns => {\n      // Sort grouped columns to the start of the column list\n      // before the headers are built\n      let orderedColumns = [];\n\n      // If there is no order, return the normal columns\n      if (!(columnOrder != null && columnOrder.length)) {\n        orderedColumns = columns;\n      } else {\n        const columnOrderCopy = [...columnOrder];\n\n        // If there is an order, make a copy of the columns\n        const columnsCopy = [...columns];\n\n        // And make a new ordered array of the columns\n\n        // Loop over the columns and place them in order into the new array\n        while (columnsCopy.length && columnOrderCopy.length) {\n          const targetColumnId = columnOrderCopy.shift();\n          const foundIndex = columnsCopy.findIndex(d => d.id === targetColumnId);\n          if (foundIndex > -1) {\n            orderedColumns.push(columnsCopy.splice(foundIndex, 1)[0]);\n          }\n        }\n\n        // If there are any columns left, add them to the end\n        orderedColumns = [...orderedColumns, ...columnsCopy];\n      }\n      return orderColumns(orderedColumns, grouping, groupedColumnMode);\n    }, getMemoOptions(table.options, 'debugTable', '_getOrderColumnsFn'));\n  }\n};\n\n//\n\nconst getDefaultColumnPinningState = () => ({\n  left: [],\n  right: []\n});\nconst ColumnPinning = {\n  getInitialState: state => {\n    return {\n      columnPinning: getDefaultColumnPinningState(),\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onColumnPinningChange: makeStateUpdater('columnPinning', table)\n    };\n  },\n  createColumn: (column, table) => {\n    column.pin = position => {\n      const columnIds = column.getLeafColumns().map(d => d.id).filter(Boolean);\n      table.setColumnPinning(old => {\n        var _old$left3, _old$right3;\n        if (position === 'right') {\n          var _old$left, _old$right;\n          return {\n            left: ((_old$left = old == null ? void 0 : old.left) != null ? _old$left : []).filter(d => !(columnIds != null && columnIds.includes(d))),\n            right: [...((_old$right = old == null ? void 0 : old.right) != null ? _old$right : []).filter(d => !(columnIds != null && columnIds.includes(d))), ...columnIds]\n          };\n        }\n        if (position === 'left') {\n          var _old$left2, _old$right2;\n          return {\n            left: [...((_old$left2 = old == null ? void 0 : old.left) != null ? _old$left2 : []).filter(d => !(columnIds != null && columnIds.includes(d))), ...columnIds],\n            right: ((_old$right2 = old == null ? void 0 : old.right) != null ? _old$right2 : []).filter(d => !(columnIds != null && columnIds.includes(d)))\n          };\n        }\n        return {\n          left: ((_old$left3 = old == null ? void 0 : old.left) != null ? _old$left3 : []).filter(d => !(columnIds != null && columnIds.includes(d))),\n          right: ((_old$right3 = old == null ? void 0 : old.right) != null ? _old$right3 : []).filter(d => !(columnIds != null && columnIds.includes(d)))\n        };\n      });\n    };\n    column.getCanPin = () => {\n      const leafColumns = column.getLeafColumns();\n      return leafColumns.some(d => {\n        var _d$columnDef$enablePi, _ref, _table$options$enable;\n        return ((_d$columnDef$enablePi = d.columnDef.enablePinning) != null ? _d$columnDef$enablePi : true) && ((_ref = (_table$options$enable = table.options.enableColumnPinning) != null ? _table$options$enable : table.options.enablePinning) != null ? _ref : true);\n      });\n    };\n    column.getIsPinned = () => {\n      const leafColumnIds = column.getLeafColumns().map(d => d.id);\n      const {\n        left,\n        right\n      } = table.getState().columnPinning;\n      const isLeft = leafColumnIds.some(d => left == null ? void 0 : left.includes(d));\n      const isRight = leafColumnIds.some(d => right == null ? void 0 : right.includes(d));\n      return isLeft ? 'left' : isRight ? 'right' : false;\n    };\n    column.getPinnedIndex = () => {\n      var _table$getState$colum, _table$getState$colum2;\n      const position = column.getIsPinned();\n      return position ? (_table$getState$colum = (_table$getState$colum2 = table.getState().columnPinning) == null || (_table$getState$colum2 = _table$getState$colum2[position]) == null ? void 0 : _table$getState$colum2.indexOf(column.id)) != null ? _table$getState$colum : -1 : 0;\n    };\n  },\n  createRow: (row, table) => {\n    row.getCenterVisibleCells = memo(() => [row._getAllVisibleCells(), table.getState().columnPinning.left, table.getState().columnPinning.right], (allCells, left, right) => {\n      const leftAndRight = [...(left != null ? left : []), ...(right != null ? right : [])];\n      return allCells.filter(d => !leftAndRight.includes(d.column.id));\n    }, getMemoOptions(table.options, 'debugRows', 'getCenterVisibleCells'));\n    row.getLeftVisibleCells = memo(() => [row._getAllVisibleCells(), table.getState().columnPinning.left], (allCells, left) => {\n      const cells = (left != null ? left : []).map(columnId => allCells.find(cell => cell.column.id === columnId)).filter(Boolean).map(d => ({\n        ...d,\n        position: 'left'\n      }));\n      return cells;\n    }, getMemoOptions(table.options, 'debugRows', 'getLeftVisibleCells'));\n    row.getRightVisibleCells = memo(() => [row._getAllVisibleCells(), table.getState().columnPinning.right], (allCells, right) => {\n      const cells = (right != null ? right : []).map(columnId => allCells.find(cell => cell.column.id === columnId)).filter(Boolean).map(d => ({\n        ...d,\n        position: 'right'\n      }));\n      return cells;\n    }, getMemoOptions(table.options, 'debugRows', 'getRightVisibleCells'));\n  },\n  createTable: table => {\n    table.setColumnPinning = updater => table.options.onColumnPinningChange == null ? void 0 : table.options.onColumnPinningChange(updater);\n    table.resetColumnPinning = defaultState => {\n      var _table$initialState$c, _table$initialState;\n      return table.setColumnPinning(defaultState ? getDefaultColumnPinningState() : (_table$initialState$c = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.columnPinning) != null ? _table$initialState$c : getDefaultColumnPinningState());\n    };\n    table.getIsSomeColumnsPinned = position => {\n      var _pinningState$positio;\n      const pinningState = table.getState().columnPinning;\n      if (!position) {\n        var _pinningState$left, _pinningState$right;\n        return Boolean(((_pinningState$left = pinningState.left) == null ? void 0 : _pinningState$left.length) || ((_pinningState$right = pinningState.right) == null ? void 0 : _pinningState$right.length));\n      }\n      return Boolean((_pinningState$positio = pinningState[position]) == null ? void 0 : _pinningState$positio.length);\n    };\n    table.getLeftLeafColumns = memo(() => [table.getAllLeafColumns(), table.getState().columnPinning.left], (allColumns, left) => {\n      return (left != null ? left : []).map(columnId => allColumns.find(column => column.id === columnId)).filter(Boolean);\n    }, getMemoOptions(table.options, 'debugColumns', 'getLeftLeafColumns'));\n    table.getRightLeafColumns = memo(() => [table.getAllLeafColumns(), table.getState().columnPinning.right], (allColumns, right) => {\n      return (right != null ? right : []).map(columnId => allColumns.find(column => column.id === columnId)).filter(Boolean);\n    }, getMemoOptions(table.options, 'debugColumns', 'getRightLeafColumns'));\n    table.getCenterLeafColumns = memo(() => [table.getAllLeafColumns(), table.getState().columnPinning.left, table.getState().columnPinning.right], (allColumns, left, right) => {\n      const leftAndRight = [...(left != null ? left : []), ...(right != null ? right : [])];\n      return allColumns.filter(d => !leftAndRight.includes(d.id));\n    }, getMemoOptions(table.options, 'debugColumns', 'getCenterLeafColumns'));\n  }\n};\n\nfunction safelyAccessDocument(_document) {\n  return _document || (typeof document !== 'undefined' ? document : null);\n}\n\n//\n\n//\n\nconst defaultColumnSizing = {\n  size: 150,\n  minSize: 20,\n  maxSize: Number.MAX_SAFE_INTEGER\n};\nconst getDefaultColumnSizingInfoState = () => ({\n  startOffset: null,\n  startSize: null,\n  deltaOffset: null,\n  deltaPercentage: null,\n  isResizingColumn: false,\n  columnSizingStart: []\n});\nconst ColumnSizing = {\n  getDefaultColumnDef: () => {\n    return defaultColumnSizing;\n  },\n  getInitialState: state => {\n    return {\n      columnSizing: {},\n      columnSizingInfo: getDefaultColumnSizingInfoState(),\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      columnResizeMode: 'onEnd',\n      columnResizeDirection: 'ltr',\n      onColumnSizingChange: makeStateUpdater('columnSizing', table),\n      onColumnSizingInfoChange: makeStateUpdater('columnSizingInfo', table)\n    };\n  },\n  createColumn: (column, table) => {\n    column.getSize = () => {\n      var _column$columnDef$min, _ref, _column$columnDef$max;\n      const columnSize = table.getState().columnSizing[column.id];\n      return Math.min(Math.max((_column$columnDef$min = column.columnDef.minSize) != null ? _column$columnDef$min : defaultColumnSizing.minSize, (_ref = columnSize != null ? columnSize : column.columnDef.size) != null ? _ref : defaultColumnSizing.size), (_column$columnDef$max = column.columnDef.maxSize) != null ? _column$columnDef$max : defaultColumnSizing.maxSize);\n    };\n    column.getStart = memo(position => [position, _getVisibleLeafColumns(table, position), table.getState().columnSizing], (position, columns) => columns.slice(0, column.getIndex(position)).reduce((sum, column) => sum + column.getSize(), 0), getMemoOptions(table.options, 'debugColumns', 'getStart'));\n    column.getAfter = memo(position => [position, _getVisibleLeafColumns(table, position), table.getState().columnSizing], (position, columns) => columns.slice(column.getIndex(position) + 1).reduce((sum, column) => sum + column.getSize(), 0), getMemoOptions(table.options, 'debugColumns', 'getAfter'));\n    column.resetSize = () => {\n      table.setColumnSizing(_ref2 => {\n        let {\n          [column.id]: _,\n          ...rest\n        } = _ref2;\n        return rest;\n      });\n    };\n    column.getCanResize = () => {\n      var _column$columnDef$ena, _table$options$enable;\n      return ((_column$columnDef$ena = column.columnDef.enableResizing) != null ? _column$columnDef$ena : true) && ((_table$options$enable = table.options.enableColumnResizing) != null ? _table$options$enable : true);\n    };\n    column.getIsResizing = () => {\n      return table.getState().columnSizingInfo.isResizingColumn === column.id;\n    };\n  },\n  createHeader: (header, table) => {\n    header.getSize = () => {\n      let sum = 0;\n      const recurse = header => {\n        if (header.subHeaders.length) {\n          header.subHeaders.forEach(recurse);\n        } else {\n          var _header$column$getSiz;\n          sum += (_header$column$getSiz = header.column.getSize()) != null ? _header$column$getSiz : 0;\n        }\n      };\n      recurse(header);\n      return sum;\n    };\n    header.getStart = () => {\n      if (header.index > 0) {\n        const prevSiblingHeader = header.headerGroup.headers[header.index - 1];\n        return prevSiblingHeader.getStart() + prevSiblingHeader.getSize();\n      }\n      return 0;\n    };\n    header.getResizeHandler = _contextDocument => {\n      const column = table.getColumn(header.column.id);\n      const canResize = column == null ? void 0 : column.getCanResize();\n      return e => {\n        if (!column || !canResize) {\n          return;\n        }\n        e.persist == null || e.persist();\n        if (isTouchStartEvent(e)) {\n          // lets not respond to multiple touches (e.g. 2 or 3 fingers)\n          if (e.touches && e.touches.length > 1) {\n            return;\n          }\n        }\n        const startSize = header.getSize();\n        const columnSizingStart = header ? header.getLeafHeaders().map(d => [d.column.id, d.column.getSize()]) : [[column.id, column.getSize()]];\n        const clientX = isTouchStartEvent(e) ? Math.round(e.touches[0].clientX) : e.clientX;\n        const newColumnSizing = {};\n        const updateOffset = (eventType, clientXPos) => {\n          if (typeof clientXPos !== 'number') {\n            return;\n          }\n          table.setColumnSizingInfo(old => {\n            var _old$startOffset, _old$startSize;\n            const deltaDirection = table.options.columnResizeDirection === 'rtl' ? -1 : 1;\n            const deltaOffset = (clientXPos - ((_old$startOffset = old == null ? void 0 : old.startOffset) != null ? _old$startOffset : 0)) * deltaDirection;\n            const deltaPercentage = Math.max(deltaOffset / ((_old$startSize = old == null ? void 0 : old.startSize) != null ? _old$startSize : 0), -0.999999);\n            old.columnSizingStart.forEach(_ref3 => {\n              let [columnId, headerSize] = _ref3;\n              newColumnSizing[columnId] = Math.round(Math.max(headerSize + headerSize * deltaPercentage, 0) * 100) / 100;\n            });\n            return {\n              ...old,\n              deltaOffset,\n              deltaPercentage\n            };\n          });\n          if (table.options.columnResizeMode === 'onChange' || eventType === 'end') {\n            table.setColumnSizing(old => ({\n              ...old,\n              ...newColumnSizing\n            }));\n          }\n        };\n        const onMove = clientXPos => updateOffset('move', clientXPos);\n        const onEnd = clientXPos => {\n          updateOffset('end', clientXPos);\n          table.setColumnSizingInfo(old => ({\n            ...old,\n            isResizingColumn: false,\n            startOffset: null,\n            startSize: null,\n            deltaOffset: null,\n            deltaPercentage: null,\n            columnSizingStart: []\n          }));\n        };\n        const contextDocument = safelyAccessDocument(_contextDocument);\n        const mouseEvents = {\n          moveHandler: e => onMove(e.clientX),\n          upHandler: e => {\n            contextDocument == null || contextDocument.removeEventListener('mousemove', mouseEvents.moveHandler);\n            contextDocument == null || contextDocument.removeEventListener('mouseup', mouseEvents.upHandler);\n            onEnd(e.clientX);\n          }\n        };\n        const touchEvents = {\n          moveHandler: e => {\n            if (e.cancelable) {\n              e.preventDefault();\n              e.stopPropagation();\n            }\n            onMove(e.touches[0].clientX);\n            return false;\n          },\n          upHandler: e => {\n            var _e$touches$;\n            contextDocument == null || contextDocument.removeEventListener('touchmove', touchEvents.moveHandler);\n            contextDocument == null || contextDocument.removeEventListener('touchend', touchEvents.upHandler);\n            if (e.cancelable) {\n              e.preventDefault();\n              e.stopPropagation();\n            }\n            onEnd((_e$touches$ = e.touches[0]) == null ? void 0 : _e$touches$.clientX);\n          }\n        };\n        const passiveIfSupported = passiveEventSupported() ? {\n          passive: false\n        } : false;\n        if (isTouchStartEvent(e)) {\n          contextDocument == null || contextDocument.addEventListener('touchmove', touchEvents.moveHandler, passiveIfSupported);\n          contextDocument == null || contextDocument.addEventListener('touchend', touchEvents.upHandler, passiveIfSupported);\n        } else {\n          contextDocument == null || contextDocument.addEventListener('mousemove', mouseEvents.moveHandler, passiveIfSupported);\n          contextDocument == null || contextDocument.addEventListener('mouseup', mouseEvents.upHandler, passiveIfSupported);\n        }\n        table.setColumnSizingInfo(old => ({\n          ...old,\n          startOffset: clientX,\n          startSize,\n          deltaOffset: 0,\n          deltaPercentage: 0,\n          columnSizingStart,\n          isResizingColumn: column.id\n        }));\n      };\n    };\n  },\n  createTable: table => {\n    table.setColumnSizing = updater => table.options.onColumnSizingChange == null ? void 0 : table.options.onColumnSizingChange(updater);\n    table.setColumnSizingInfo = updater => table.options.onColumnSizingInfoChange == null ? void 0 : table.options.onColumnSizingInfoChange(updater);\n    table.resetColumnSizing = defaultState => {\n      var _table$initialState$c;\n      table.setColumnSizing(defaultState ? {} : (_table$initialState$c = table.initialState.columnSizing) != null ? _table$initialState$c : {});\n    };\n    table.resetHeaderSizeInfo = defaultState => {\n      var _table$initialState$c2;\n      table.setColumnSizingInfo(defaultState ? getDefaultColumnSizingInfoState() : (_table$initialState$c2 = table.initialState.columnSizingInfo) != null ? _table$initialState$c2 : getDefaultColumnSizingInfoState());\n    };\n    table.getTotalSize = () => {\n      var _table$getHeaderGroup, _table$getHeaderGroup2;\n      return (_table$getHeaderGroup = (_table$getHeaderGroup2 = table.getHeaderGroups()[0]) == null ? void 0 : _table$getHeaderGroup2.headers.reduce((sum, header) => {\n        return sum + header.getSize();\n      }, 0)) != null ? _table$getHeaderGroup : 0;\n    };\n    table.getLeftTotalSize = () => {\n      var _table$getLeftHeaderG, _table$getLeftHeaderG2;\n      return (_table$getLeftHeaderG = (_table$getLeftHeaderG2 = table.getLeftHeaderGroups()[0]) == null ? void 0 : _table$getLeftHeaderG2.headers.reduce((sum, header) => {\n        return sum + header.getSize();\n      }, 0)) != null ? _table$getLeftHeaderG : 0;\n    };\n    table.getCenterTotalSize = () => {\n      var _table$getCenterHeade, _table$getCenterHeade2;\n      return (_table$getCenterHeade = (_table$getCenterHeade2 = table.getCenterHeaderGroups()[0]) == null ? void 0 : _table$getCenterHeade2.headers.reduce((sum, header) => {\n        return sum + header.getSize();\n      }, 0)) != null ? _table$getCenterHeade : 0;\n    };\n    table.getRightTotalSize = () => {\n      var _table$getRightHeader, _table$getRightHeader2;\n      return (_table$getRightHeader = (_table$getRightHeader2 = table.getRightHeaderGroups()[0]) == null ? void 0 : _table$getRightHeader2.headers.reduce((sum, header) => {\n        return sum + header.getSize();\n      }, 0)) != null ? _table$getRightHeader : 0;\n    };\n  }\n};\nlet passiveSupported = null;\nfunction passiveEventSupported() {\n  if (typeof passiveSupported === 'boolean') return passiveSupported;\n  let supported = false;\n  try {\n    const options = {\n      get passive() {\n        supported = true;\n        return false;\n      }\n    };\n    const noop = () => {};\n    window.addEventListener('test', noop, options);\n    window.removeEventListener('test', noop);\n  } catch (err) {\n    supported = false;\n  }\n  passiveSupported = supported;\n  return passiveSupported;\n}\nfunction isTouchStartEvent(e) {\n  return e.type === 'touchstart';\n}\n\n//\n\nconst ColumnVisibility = {\n  getInitialState: state => {\n    return {\n      columnVisibility: {},\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onColumnVisibilityChange: makeStateUpdater('columnVisibility', table)\n    };\n  },\n  createColumn: (column, table) => {\n    column.toggleVisibility = value => {\n      if (column.getCanHide()) {\n        table.setColumnVisibility(old => ({\n          ...old,\n          [column.id]: value != null ? value : !column.getIsVisible()\n        }));\n      }\n    };\n    column.getIsVisible = () => {\n      var _ref, _table$getState$colum;\n      const childColumns = column.columns;\n      return (_ref = childColumns.length ? childColumns.some(c => c.getIsVisible()) : (_table$getState$colum = table.getState().columnVisibility) == null ? void 0 : _table$getState$colum[column.id]) != null ? _ref : true;\n    };\n    column.getCanHide = () => {\n      var _column$columnDef$ena, _table$options$enable;\n      return ((_column$columnDef$ena = column.columnDef.enableHiding) != null ? _column$columnDef$ena : true) && ((_table$options$enable = table.options.enableHiding) != null ? _table$options$enable : true);\n    };\n    column.getToggleVisibilityHandler = () => {\n      return e => {\n        column.toggleVisibility == null || column.toggleVisibility(e.target.checked);\n      };\n    };\n  },\n  createRow: (row, table) => {\n    row._getAllVisibleCells = memo(() => [row.getAllCells(), table.getState().columnVisibility], cells => {\n      return cells.filter(cell => cell.column.getIsVisible());\n    }, getMemoOptions(table.options, 'debugRows', '_getAllVisibleCells'));\n    row.getVisibleCells = memo(() => [row.getLeftVisibleCells(), row.getCenterVisibleCells(), row.getRightVisibleCells()], (left, center, right) => [...left, ...center, ...right], getMemoOptions(table.options, 'debugRows', 'getVisibleCells'));\n  },\n  createTable: table => {\n    const makeVisibleColumnsMethod = (key, getColumns) => {\n      return memo(() => [getColumns(), getColumns().filter(d => d.getIsVisible()).map(d => d.id).join('_')], columns => {\n        return columns.filter(d => d.getIsVisible == null ? void 0 : d.getIsVisible());\n      }, getMemoOptions(table.options, 'debugColumns', key));\n    };\n    table.getVisibleFlatColumns = makeVisibleColumnsMethod('getVisibleFlatColumns', () => table.getAllFlatColumns());\n    table.getVisibleLeafColumns = makeVisibleColumnsMethod('getVisibleLeafColumns', () => table.getAllLeafColumns());\n    table.getLeftVisibleLeafColumns = makeVisibleColumnsMethod('getLeftVisibleLeafColumns', () => table.getLeftLeafColumns());\n    table.getRightVisibleLeafColumns = makeVisibleColumnsMethod('getRightVisibleLeafColumns', () => table.getRightLeafColumns());\n    table.getCenterVisibleLeafColumns = makeVisibleColumnsMethod('getCenterVisibleLeafColumns', () => table.getCenterLeafColumns());\n    table.setColumnVisibility = updater => table.options.onColumnVisibilityChange == null ? void 0 : table.options.onColumnVisibilityChange(updater);\n    table.resetColumnVisibility = defaultState => {\n      var _table$initialState$c;\n      table.setColumnVisibility(defaultState ? {} : (_table$initialState$c = table.initialState.columnVisibility) != null ? _table$initialState$c : {});\n    };\n    table.toggleAllColumnsVisible = value => {\n      var _value;\n      value = (_value = value) != null ? _value : !table.getIsAllColumnsVisible();\n      table.setColumnVisibility(table.getAllLeafColumns().reduce((obj, column) => ({\n        ...obj,\n        [column.id]: !value ? !(column.getCanHide != null && column.getCanHide()) : value\n      }), {}));\n    };\n    table.getIsAllColumnsVisible = () => !table.getAllLeafColumns().some(column => !(column.getIsVisible != null && column.getIsVisible()));\n    table.getIsSomeColumnsVisible = () => table.getAllLeafColumns().some(column => column.getIsVisible == null ? void 0 : column.getIsVisible());\n    table.getToggleAllColumnsVisibilityHandler = () => {\n      return e => {\n        var _target;\n        table.toggleAllColumnsVisible((_target = e.target) == null ? void 0 : _target.checked);\n      };\n    };\n  }\n};\nfunction _getVisibleLeafColumns(table, position) {\n  return !position ? table.getVisibleLeafColumns() : position === 'center' ? table.getCenterVisibleLeafColumns() : position === 'left' ? table.getLeftVisibleLeafColumns() : table.getRightVisibleLeafColumns();\n}\n\n//\n\nconst GlobalFaceting = {\n  createTable: table => {\n    table._getGlobalFacetedRowModel = table.options.getFacetedRowModel && table.options.getFacetedRowModel(table, '__global__');\n    table.getGlobalFacetedRowModel = () => {\n      if (table.options.manualFiltering || !table._getGlobalFacetedRowModel) {\n        return table.getPreFilteredRowModel();\n      }\n      return table._getGlobalFacetedRowModel();\n    };\n    table._getGlobalFacetedUniqueValues = table.options.getFacetedUniqueValues && table.options.getFacetedUniqueValues(table, '__global__');\n    table.getGlobalFacetedUniqueValues = () => {\n      if (!table._getGlobalFacetedUniqueValues) {\n        return new Map();\n      }\n      return table._getGlobalFacetedUniqueValues();\n    };\n    table._getGlobalFacetedMinMaxValues = table.options.getFacetedMinMaxValues && table.options.getFacetedMinMaxValues(table, '__global__');\n    table.getGlobalFacetedMinMaxValues = () => {\n      if (!table._getGlobalFacetedMinMaxValues) {\n        return;\n      }\n      return table._getGlobalFacetedMinMaxValues();\n    };\n  }\n};\n\n//\n\nconst GlobalFiltering = {\n  getInitialState: state => {\n    return {\n      globalFilter: undefined,\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onGlobalFilterChange: makeStateUpdater('globalFilter', table),\n      globalFilterFn: 'auto',\n      getColumnCanGlobalFilter: column => {\n        var _table$getCoreRowMode;\n        const value = (_table$getCoreRowMode = table.getCoreRowModel().flatRows[0]) == null || (_table$getCoreRowMode = _table$getCoreRowMode._getAllCellsByColumnId()[column.id]) == null ? void 0 : _table$getCoreRowMode.getValue();\n        return typeof value === 'string' || typeof value === 'number';\n      }\n    };\n  },\n  createColumn: (column, table) => {\n    column.getCanGlobalFilter = () => {\n      var _column$columnDef$ena, _table$options$enable, _table$options$enable2, _table$options$getCol;\n      return ((_column$columnDef$ena = column.columnDef.enableGlobalFilter) != null ? _column$columnDef$ena : true) && ((_table$options$enable = table.options.enableGlobalFilter) != null ? _table$options$enable : true) && ((_table$options$enable2 = table.options.enableFilters) != null ? _table$options$enable2 : true) && ((_table$options$getCol = table.options.getColumnCanGlobalFilter == null ? void 0 : table.options.getColumnCanGlobalFilter(column)) != null ? _table$options$getCol : true) && !!column.accessorFn;\n    };\n  },\n  createTable: table => {\n    table.getGlobalAutoFilterFn = () => {\n      return filterFns.includesString;\n    };\n    table.getGlobalFilterFn = () => {\n      var _table$options$filter, _table$options$filter2;\n      const {\n        globalFilterFn: globalFilterFn\n      } = table.options;\n      return isFunction(globalFilterFn) ? globalFilterFn : globalFilterFn === 'auto' ? table.getGlobalAutoFilterFn() : (_table$options$filter = (_table$options$filter2 = table.options.filterFns) == null ? void 0 : _table$options$filter2[globalFilterFn]) != null ? _table$options$filter : filterFns[globalFilterFn];\n    };\n    table.setGlobalFilter = updater => {\n      table.options.onGlobalFilterChange == null || table.options.onGlobalFilterChange(updater);\n    };\n    table.resetGlobalFilter = defaultState => {\n      table.setGlobalFilter(defaultState ? undefined : table.initialState.globalFilter);\n    };\n  }\n};\n\n//\n\nconst RowExpanding = {\n  getInitialState: state => {\n    return {\n      expanded: {},\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onExpandedChange: makeStateUpdater('expanded', table),\n      paginateExpandedRows: true\n    };\n  },\n  createTable: table => {\n    let registered = false;\n    let queued = false;\n    table._autoResetExpanded = () => {\n      var _ref, _table$options$autoRe;\n      if (!registered) {\n        table._queue(() => {\n          registered = true;\n        });\n        return;\n      }\n      if ((_ref = (_table$options$autoRe = table.options.autoResetAll) != null ? _table$options$autoRe : table.options.autoResetExpanded) != null ? _ref : !table.options.manualExpanding) {\n        if (queued) return;\n        queued = true;\n        table._queue(() => {\n          table.resetExpanded();\n          queued = false;\n        });\n      }\n    };\n    table.setExpanded = updater => table.options.onExpandedChange == null ? void 0 : table.options.onExpandedChange(updater);\n    table.toggleAllRowsExpanded = expanded => {\n      if (expanded != null ? expanded : !table.getIsAllRowsExpanded()) {\n        table.setExpanded(true);\n      } else {\n        table.setExpanded({});\n      }\n    };\n    table.resetExpanded = defaultState => {\n      var _table$initialState$e, _table$initialState;\n      table.setExpanded(defaultState ? {} : (_table$initialState$e = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.expanded) != null ? _table$initialState$e : {});\n    };\n    table.getCanSomeRowsExpand = () => {\n      return table.getPrePaginationRowModel().flatRows.some(row => row.getCanExpand());\n    };\n    table.getToggleAllRowsExpandedHandler = () => {\n      return e => {\n        e.persist == null || e.persist();\n        table.toggleAllRowsExpanded();\n      };\n    };\n    table.getIsSomeRowsExpanded = () => {\n      const expanded = table.getState().expanded;\n      return expanded === true || Object.values(expanded).some(Boolean);\n    };\n    table.getIsAllRowsExpanded = () => {\n      const expanded = table.getState().expanded;\n\n      // If expanded is true, save some cycles and return true\n      if (typeof expanded === 'boolean') {\n        return expanded === true;\n      }\n      if (!Object.keys(expanded).length) {\n        return false;\n      }\n\n      // If any row is not expanded, return false\n      if (table.getRowModel().flatRows.some(row => !row.getIsExpanded())) {\n        return false;\n      }\n\n      // They must all be expanded :shrug:\n      return true;\n    };\n    table.getExpandedDepth = () => {\n      let maxDepth = 0;\n      const rowIds = table.getState().expanded === true ? Object.keys(table.getRowModel().rowsById) : Object.keys(table.getState().expanded);\n      rowIds.forEach(id => {\n        const splitId = id.split('.');\n        maxDepth = Math.max(maxDepth, splitId.length);\n      });\n      return maxDepth;\n    };\n    table.getPreExpandedRowModel = () => table.getSortedRowModel();\n    table.getExpandedRowModel = () => {\n      if (!table._getExpandedRowModel && table.options.getExpandedRowModel) {\n        table._getExpandedRowModel = table.options.getExpandedRowModel(table);\n      }\n      if (table.options.manualExpanding || !table._getExpandedRowModel) {\n        return table.getPreExpandedRowModel();\n      }\n      return table._getExpandedRowModel();\n    };\n  },\n  createRow: (row, table) => {\n    row.toggleExpanded = expanded => {\n      table.setExpanded(old => {\n        var _expanded;\n        const exists = old === true ? true : !!(old != null && old[row.id]);\n        let oldExpanded = {};\n        if (old === true) {\n          Object.keys(table.getRowModel().rowsById).forEach(rowId => {\n            oldExpanded[rowId] = true;\n          });\n        } else {\n          oldExpanded = old;\n        }\n        expanded = (_expanded = expanded) != null ? _expanded : !exists;\n        if (!exists && expanded) {\n          return {\n            ...oldExpanded,\n            [row.id]: true\n          };\n        }\n        if (exists && !expanded) {\n          const {\n            [row.id]: _,\n            ...rest\n          } = oldExpanded;\n          return rest;\n        }\n        return old;\n      });\n    };\n    row.getIsExpanded = () => {\n      var _table$options$getIsR;\n      const expanded = table.getState().expanded;\n      return !!((_table$options$getIsR = table.options.getIsRowExpanded == null ? void 0 : table.options.getIsRowExpanded(row)) != null ? _table$options$getIsR : expanded === true || (expanded == null ? void 0 : expanded[row.id]));\n    };\n    row.getCanExpand = () => {\n      var _table$options$getRow, _table$options$enable, _row$subRows;\n      return (_table$options$getRow = table.options.getRowCanExpand == null ? void 0 : table.options.getRowCanExpand(row)) != null ? _table$options$getRow : ((_table$options$enable = table.options.enableExpanding) != null ? _table$options$enable : true) && !!((_row$subRows = row.subRows) != null && _row$subRows.length);\n    };\n    row.getIsAllParentsExpanded = () => {\n      let isFullyExpanded = true;\n      let currentRow = row;\n      while (isFullyExpanded && currentRow.parentId) {\n        currentRow = table.getRow(currentRow.parentId, true);\n        isFullyExpanded = currentRow.getIsExpanded();\n      }\n      return isFullyExpanded;\n    };\n    row.getToggleExpandedHandler = () => {\n      const canExpand = row.getCanExpand();\n      return () => {\n        if (!canExpand) return;\n        row.toggleExpanded();\n      };\n    };\n  }\n};\n\n//\n\nconst defaultPageIndex = 0;\nconst defaultPageSize = 10;\nconst getDefaultPaginationState = () => ({\n  pageIndex: defaultPageIndex,\n  pageSize: defaultPageSize\n});\nconst RowPagination = {\n  getInitialState: state => {\n    return {\n      ...state,\n      pagination: {\n        ...getDefaultPaginationState(),\n        ...(state == null ? void 0 : state.pagination)\n      }\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onPaginationChange: makeStateUpdater('pagination', table)\n    };\n  },\n  createTable: table => {\n    let registered = false;\n    let queued = false;\n    table._autoResetPageIndex = () => {\n      var _ref, _table$options$autoRe;\n      if (!registered) {\n        table._queue(() => {\n          registered = true;\n        });\n        return;\n      }\n      if ((_ref = (_table$options$autoRe = table.options.autoResetAll) != null ? _table$options$autoRe : table.options.autoResetPageIndex) != null ? _ref : !table.options.manualPagination) {\n        if (queued) return;\n        queued = true;\n        table._queue(() => {\n          table.resetPageIndex();\n          queued = false;\n        });\n      }\n    };\n    table.setPagination = updater => {\n      const safeUpdater = old => {\n        let newState = functionalUpdate(updater, old);\n        return newState;\n      };\n      return table.options.onPaginationChange == null ? void 0 : table.options.onPaginationChange(safeUpdater);\n    };\n    table.resetPagination = defaultState => {\n      var _table$initialState$p;\n      table.setPagination(defaultState ? getDefaultPaginationState() : (_table$initialState$p = table.initialState.pagination) != null ? _table$initialState$p : getDefaultPaginationState());\n    };\n    table.setPageIndex = updater => {\n      table.setPagination(old => {\n        let pageIndex = functionalUpdate(updater, old.pageIndex);\n        const maxPageIndex = typeof table.options.pageCount === 'undefined' || table.options.pageCount === -1 ? Number.MAX_SAFE_INTEGER : table.options.pageCount - 1;\n        pageIndex = Math.max(0, Math.min(pageIndex, maxPageIndex));\n        return {\n          ...old,\n          pageIndex\n        };\n      });\n    };\n    table.resetPageIndex = defaultState => {\n      var _table$initialState$p2, _table$initialState;\n      table.setPageIndex(defaultState ? defaultPageIndex : (_table$initialState$p2 = (_table$initialState = table.initialState) == null || (_table$initialState = _table$initialState.pagination) == null ? void 0 : _table$initialState.pageIndex) != null ? _table$initialState$p2 : defaultPageIndex);\n    };\n    table.resetPageSize = defaultState => {\n      var _table$initialState$p3, _table$initialState2;\n      table.setPageSize(defaultState ? defaultPageSize : (_table$initialState$p3 = (_table$initialState2 = table.initialState) == null || (_table$initialState2 = _table$initialState2.pagination) == null ? void 0 : _table$initialState2.pageSize) != null ? _table$initialState$p3 : defaultPageSize);\n    };\n    table.setPageSize = updater => {\n      table.setPagination(old => {\n        const pageSize = Math.max(1, functionalUpdate(updater, old.pageSize));\n        const topRowIndex = old.pageSize * old.pageIndex;\n        const pageIndex = Math.floor(topRowIndex / pageSize);\n        return {\n          ...old,\n          pageIndex,\n          pageSize\n        };\n      });\n    };\n    //deprecated\n    table.setPageCount = updater => table.setPagination(old => {\n      var _table$options$pageCo;\n      let newPageCount = functionalUpdate(updater, (_table$options$pageCo = table.options.pageCount) != null ? _table$options$pageCo : -1);\n      if (typeof newPageCount === 'number') {\n        newPageCount = Math.max(-1, newPageCount);\n      }\n      return {\n        ...old,\n        pageCount: newPageCount\n      };\n    });\n    table.getPageOptions = memo(() => [table.getPageCount()], pageCount => {\n      let pageOptions = [];\n      if (pageCount && pageCount > 0) {\n        pageOptions = [...new Array(pageCount)].fill(null).map((_, i) => i);\n      }\n      return pageOptions;\n    }, getMemoOptions(table.options, 'debugTable', 'getPageOptions'));\n    table.getCanPreviousPage = () => table.getState().pagination.pageIndex > 0;\n    table.getCanNextPage = () => {\n      const {\n        pageIndex\n      } = table.getState().pagination;\n      const pageCount = table.getPageCount();\n      if (pageCount === -1) {\n        return true;\n      }\n      if (pageCount === 0) {\n        return false;\n      }\n      return pageIndex < pageCount - 1;\n    };\n    table.previousPage = () => {\n      return table.setPageIndex(old => old - 1);\n    };\n    table.nextPage = () => {\n      return table.setPageIndex(old => {\n        return old + 1;\n      });\n    };\n    table.firstPage = () => {\n      return table.setPageIndex(0);\n    };\n    table.lastPage = () => {\n      return table.setPageIndex(table.getPageCount() - 1);\n    };\n    table.getPrePaginationRowModel = () => table.getExpandedRowModel();\n    table.getPaginationRowModel = () => {\n      if (!table._getPaginationRowModel && table.options.getPaginationRowModel) {\n        table._getPaginationRowModel = table.options.getPaginationRowModel(table);\n      }\n      if (table.options.manualPagination || !table._getPaginationRowModel) {\n        return table.getPrePaginationRowModel();\n      }\n      return table._getPaginationRowModel();\n    };\n    table.getPageCount = () => {\n      var _table$options$pageCo2;\n      return (_table$options$pageCo2 = table.options.pageCount) != null ? _table$options$pageCo2 : Math.ceil(table.getRowCount() / table.getState().pagination.pageSize);\n    };\n    table.getRowCount = () => {\n      var _table$options$rowCou;\n      return (_table$options$rowCou = table.options.rowCount) != null ? _table$options$rowCou : table.getPrePaginationRowModel().rows.length;\n    };\n  }\n};\n\n//\n\nconst getDefaultRowPinningState = () => ({\n  top: [],\n  bottom: []\n});\nconst RowPinning = {\n  getInitialState: state => {\n    return {\n      rowPinning: getDefaultRowPinningState(),\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onRowPinningChange: makeStateUpdater('rowPinning', table)\n    };\n  },\n  createRow: (row, table) => {\n    row.pin = (position, includeLeafRows, includeParentRows) => {\n      const leafRowIds = includeLeafRows ? row.getLeafRows().map(_ref => {\n        let {\n          id\n        } = _ref;\n        return id;\n      }) : [];\n      const parentRowIds = includeParentRows ? row.getParentRows().map(_ref2 => {\n        let {\n          id\n        } = _ref2;\n        return id;\n      }) : [];\n      const rowIds = new Set([...parentRowIds, row.id, ...leafRowIds]);\n      table.setRowPinning(old => {\n        var _old$top3, _old$bottom3;\n        if (position === 'bottom') {\n          var _old$top, _old$bottom;\n          return {\n            top: ((_old$top = old == null ? void 0 : old.top) != null ? _old$top : []).filter(d => !(rowIds != null && rowIds.has(d))),\n            bottom: [...((_old$bottom = old == null ? void 0 : old.bottom) != null ? _old$bottom : []).filter(d => !(rowIds != null && rowIds.has(d))), ...Array.from(rowIds)]\n          };\n        }\n        if (position === 'top') {\n          var _old$top2, _old$bottom2;\n          return {\n            top: [...((_old$top2 = old == null ? void 0 : old.top) != null ? _old$top2 : []).filter(d => !(rowIds != null && rowIds.has(d))), ...Array.from(rowIds)],\n            bottom: ((_old$bottom2 = old == null ? void 0 : old.bottom) != null ? _old$bottom2 : []).filter(d => !(rowIds != null && rowIds.has(d)))\n          };\n        }\n        return {\n          top: ((_old$top3 = old == null ? void 0 : old.top) != null ? _old$top3 : []).filter(d => !(rowIds != null && rowIds.has(d))),\n          bottom: ((_old$bottom3 = old == null ? void 0 : old.bottom) != null ? _old$bottom3 : []).filter(d => !(rowIds != null && rowIds.has(d)))\n        };\n      });\n    };\n    row.getCanPin = () => {\n      var _ref3;\n      const {\n        enableRowPinning,\n        enablePinning\n      } = table.options;\n      if (typeof enableRowPinning === 'function') {\n        return enableRowPinning(row);\n      }\n      return (_ref3 = enableRowPinning != null ? enableRowPinning : enablePinning) != null ? _ref3 : true;\n    };\n    row.getIsPinned = () => {\n      const rowIds = [row.id];\n      const {\n        top,\n        bottom\n      } = table.getState().rowPinning;\n      const isTop = rowIds.some(d => top == null ? void 0 : top.includes(d));\n      const isBottom = rowIds.some(d => bottom == null ? void 0 : bottom.includes(d));\n      return isTop ? 'top' : isBottom ? 'bottom' : false;\n    };\n    row.getPinnedIndex = () => {\n      var _ref4, _visiblePinnedRowIds$;\n      const position = row.getIsPinned();\n      if (!position) return -1;\n      const visiblePinnedRowIds = (_ref4 = position === 'top' ? table.getTopRows() : table.getBottomRows()) == null ? void 0 : _ref4.map(_ref5 => {\n        let {\n          id\n        } = _ref5;\n        return id;\n      });\n      return (_visiblePinnedRowIds$ = visiblePinnedRowIds == null ? void 0 : visiblePinnedRowIds.indexOf(row.id)) != null ? _visiblePinnedRowIds$ : -1;\n    };\n  },\n  createTable: table => {\n    table.setRowPinning = updater => table.options.onRowPinningChange == null ? void 0 : table.options.onRowPinningChange(updater);\n    table.resetRowPinning = defaultState => {\n      var _table$initialState$r, _table$initialState;\n      return table.setRowPinning(defaultState ? getDefaultRowPinningState() : (_table$initialState$r = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.rowPinning) != null ? _table$initialState$r : getDefaultRowPinningState());\n    };\n    table.getIsSomeRowsPinned = position => {\n      var _pinningState$positio;\n      const pinningState = table.getState().rowPinning;\n      if (!position) {\n        var _pinningState$top, _pinningState$bottom;\n        return Boolean(((_pinningState$top = pinningState.top) == null ? void 0 : _pinningState$top.length) || ((_pinningState$bottom = pinningState.bottom) == null ? void 0 : _pinningState$bottom.length));\n      }\n      return Boolean((_pinningState$positio = pinningState[position]) == null ? void 0 : _pinningState$positio.length);\n    };\n    table._getPinnedRows = (visibleRows, pinnedRowIds, position) => {\n      var _table$options$keepPi;\n      const rows = ((_table$options$keepPi = table.options.keepPinnedRows) != null ? _table$options$keepPi : true) ?\n      //get all rows that are pinned even if they would not be otherwise visible\n      //account for expanded parent rows, but not pagination or filtering\n      (pinnedRowIds != null ? pinnedRowIds : []).map(rowId => {\n        const row = table.getRow(rowId, true);\n        return row.getIsAllParentsExpanded() ? row : null;\n      }) :\n      //else get only visible rows that are pinned\n      (pinnedRowIds != null ? pinnedRowIds : []).map(rowId => visibleRows.find(row => row.id === rowId));\n      return rows.filter(Boolean).map(d => ({\n        ...d,\n        position\n      }));\n    };\n    table.getTopRows = memo(() => [table.getRowModel().rows, table.getState().rowPinning.top], (allRows, topPinnedRowIds) => table._getPinnedRows(allRows, topPinnedRowIds, 'top'), getMemoOptions(table.options, 'debugRows', 'getTopRows'));\n    table.getBottomRows = memo(() => [table.getRowModel().rows, table.getState().rowPinning.bottom], (allRows, bottomPinnedRowIds) => table._getPinnedRows(allRows, bottomPinnedRowIds, 'bottom'), getMemoOptions(table.options, 'debugRows', 'getBottomRows'));\n    table.getCenterRows = memo(() => [table.getRowModel().rows, table.getState().rowPinning.top, table.getState().rowPinning.bottom], (allRows, top, bottom) => {\n      const topAndBottom = new Set([...(top != null ? top : []), ...(bottom != null ? bottom : [])]);\n      return allRows.filter(d => !topAndBottom.has(d.id));\n    }, getMemoOptions(table.options, 'debugRows', 'getCenterRows'));\n  }\n};\n\n//\n\nconst RowSelection = {\n  getInitialState: state => {\n    return {\n      rowSelection: {},\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onRowSelectionChange: makeStateUpdater('rowSelection', table),\n      enableRowSelection: true,\n      enableMultiRowSelection: true,\n      enableSubRowSelection: true\n      // enableGroupingRowSelection: false,\n      // isAdditiveSelectEvent: (e: unknown) => !!e.metaKey,\n      // isInclusiveSelectEvent: (e: unknown) => !!e.shiftKey,\n    };\n  },\n  createTable: table => {\n    table.setRowSelection = updater => table.options.onRowSelectionChange == null ? void 0 : table.options.onRowSelectionChange(updater);\n    table.resetRowSelection = defaultState => {\n      var _table$initialState$r;\n      return table.setRowSelection(defaultState ? {} : (_table$initialState$r = table.initialState.rowSelection) != null ? _table$initialState$r : {});\n    };\n    table.toggleAllRowsSelected = value => {\n      table.setRowSelection(old => {\n        value = typeof value !== 'undefined' ? value : !table.getIsAllRowsSelected();\n        const rowSelection = {\n          ...old\n        };\n        const preGroupedFlatRows = table.getPreGroupedRowModel().flatRows;\n\n        // We don't use `mutateRowIsSelected` here for performance reasons.\n        // All of the rows are flat already, so it wouldn't be worth it\n        if (value) {\n          preGroupedFlatRows.forEach(row => {\n            if (!row.getCanSelect()) {\n              return;\n            }\n            rowSelection[row.id] = true;\n          });\n        } else {\n          preGroupedFlatRows.forEach(row => {\n            delete rowSelection[row.id];\n          });\n        }\n        return rowSelection;\n      });\n    };\n    table.toggleAllPageRowsSelected = value => table.setRowSelection(old => {\n      const resolvedValue = typeof value !== 'undefined' ? value : !table.getIsAllPageRowsSelected();\n      const rowSelection = {\n        ...old\n      };\n      table.getRowModel().rows.forEach(row => {\n        mutateRowIsSelected(rowSelection, row.id, resolvedValue, true, table);\n      });\n      return rowSelection;\n    });\n\n    // addRowSelectionRange: rowId => {\n    //   const {\n    //     rows,\n    //     rowsById,\n    //     options: { selectGroupingRows, selectSubRows },\n    //   } = table\n\n    //   const findSelectedRow = (rows: Row[]) => {\n    //     let found\n    //     rows.find(d => {\n    //       if (d.getIsSelected()) {\n    //         found = d\n    //         return true\n    //       }\n    //       const subFound = findSelectedRow(d.subRows || [])\n    //       if (subFound) {\n    //         found = subFound\n    //         return true\n    //       }\n    //       return false\n    //     })\n    //     return found\n    //   }\n\n    //   const firstRow = findSelectedRow(rows) || rows[0]\n    //   const lastRow = rowsById[rowId]\n\n    //   let include = false\n    //   const selectedRowIds = {}\n\n    //   const addRow = (row: Row) => {\n    //     mutateRowIsSelected(selectedRowIds, row.id, true, {\n    //       rowsById,\n    //       selectGroupingRows: selectGroupingRows!,\n    //       selectSubRows: selectSubRows!,\n    //     })\n    //   }\n\n    //   table.rows.forEach(row => {\n    //     const isFirstRow = row.id === firstRow.id\n    //     const isLastRow = row.id === lastRow.id\n\n    //     if (isFirstRow || isLastRow) {\n    //       if (!include) {\n    //         include = true\n    //       } else if (include) {\n    //         addRow(row)\n    //         include = false\n    //       }\n    //     }\n\n    //     if (include) {\n    //       addRow(row)\n    //     }\n    //   })\n\n    //   table.setRowSelection(selectedRowIds)\n    // },\n    table.getPreSelectedRowModel = () => table.getCoreRowModel();\n    table.getSelectedRowModel = memo(() => [table.getState().rowSelection, table.getCoreRowModel()], (rowSelection, rowModel) => {\n      if (!Object.keys(rowSelection).length) {\n        return {\n          rows: [],\n          flatRows: [],\n          rowsById: {}\n        };\n      }\n      return selectRowsFn(table, rowModel);\n    }, getMemoOptions(table.options, 'debugTable', 'getSelectedRowModel'));\n    table.getFilteredSelectedRowModel = memo(() => [table.getState().rowSelection, table.getFilteredRowModel()], (rowSelection, rowModel) => {\n      if (!Object.keys(rowSelection).length) {\n        return {\n          rows: [],\n          flatRows: [],\n          rowsById: {}\n        };\n      }\n      return selectRowsFn(table, rowModel);\n    }, getMemoOptions(table.options, 'debugTable', 'getFilteredSelectedRowModel'));\n    table.getGroupedSelectedRowModel = memo(() => [table.getState().rowSelection, table.getSortedRowModel()], (rowSelection, rowModel) => {\n      if (!Object.keys(rowSelection).length) {\n        return {\n          rows: [],\n          flatRows: [],\n          rowsById: {}\n        };\n      }\n      return selectRowsFn(table, rowModel);\n    }, getMemoOptions(table.options, 'debugTable', 'getGroupedSelectedRowModel'));\n\n    ///\n\n    // getGroupingRowCanSelect: rowId => {\n    //   const row = table.getRow(rowId)\n\n    //   if (!row) {\n    //     throw new Error()\n    //   }\n\n    //   if (typeof table.options.enableGroupingRowSelection === 'function') {\n    //     return table.options.enableGroupingRowSelection(row)\n    //   }\n\n    //   return table.options.enableGroupingRowSelection ?? false\n    // },\n\n    table.getIsAllRowsSelected = () => {\n      const preGroupedFlatRows = table.getFilteredRowModel().flatRows;\n      const {\n        rowSelection\n      } = table.getState();\n      let isAllRowsSelected = Boolean(preGroupedFlatRows.length && Object.keys(rowSelection).length);\n      if (isAllRowsSelected) {\n        if (preGroupedFlatRows.some(row => row.getCanSelect() && !rowSelection[row.id])) {\n          isAllRowsSelected = false;\n        }\n      }\n      return isAllRowsSelected;\n    };\n    table.getIsAllPageRowsSelected = () => {\n      const paginationFlatRows = table.getPaginationRowModel().flatRows.filter(row => row.getCanSelect());\n      const {\n        rowSelection\n      } = table.getState();\n      let isAllPageRowsSelected = !!paginationFlatRows.length;\n      if (isAllPageRowsSelected && paginationFlatRows.some(row => !rowSelection[row.id])) {\n        isAllPageRowsSelected = false;\n      }\n      return isAllPageRowsSelected;\n    };\n    table.getIsSomeRowsSelected = () => {\n      var _table$getState$rowSe;\n      const totalSelected = Object.keys((_table$getState$rowSe = table.getState().rowSelection) != null ? _table$getState$rowSe : {}).length;\n      return totalSelected > 0 && totalSelected < table.getFilteredRowModel().flatRows.length;\n    };\n    table.getIsSomePageRowsSelected = () => {\n      const paginationFlatRows = table.getPaginationRowModel().flatRows;\n      return table.getIsAllPageRowsSelected() ? false : paginationFlatRows.filter(row => row.getCanSelect()).some(d => d.getIsSelected() || d.getIsSomeSelected());\n    };\n    table.getToggleAllRowsSelectedHandler = () => {\n      return e => {\n        table.toggleAllRowsSelected(e.target.checked);\n      };\n    };\n    table.getToggleAllPageRowsSelectedHandler = () => {\n      return e => {\n        table.toggleAllPageRowsSelected(e.target.checked);\n      };\n    };\n  },\n  createRow: (row, table) => {\n    row.toggleSelected = (value, opts) => {\n      const isSelected = row.getIsSelected();\n      table.setRowSelection(old => {\n        var _opts$selectChildren;\n        value = typeof value !== 'undefined' ? value : !isSelected;\n        if (row.getCanSelect() && isSelected === value) {\n          return old;\n        }\n        const selectedRowIds = {\n          ...old\n        };\n        mutateRowIsSelected(selectedRowIds, row.id, value, (_opts$selectChildren = opts == null ? void 0 : opts.selectChildren) != null ? _opts$selectChildren : true, table);\n        return selectedRowIds;\n      });\n    };\n    row.getIsSelected = () => {\n      const {\n        rowSelection\n      } = table.getState();\n      return isRowSelected(row, rowSelection);\n    };\n    row.getIsSomeSelected = () => {\n      const {\n        rowSelection\n      } = table.getState();\n      return isSubRowSelected(row, rowSelection) === 'some';\n    };\n    row.getIsAllSubRowsSelected = () => {\n      const {\n        rowSelection\n      } = table.getState();\n      return isSubRowSelected(row, rowSelection) === 'all';\n    };\n    row.getCanSelect = () => {\n      var _table$options$enable;\n      if (typeof table.options.enableRowSelection === 'function') {\n        return table.options.enableRowSelection(row);\n      }\n      return (_table$options$enable = table.options.enableRowSelection) != null ? _table$options$enable : true;\n    };\n    row.getCanSelectSubRows = () => {\n      var _table$options$enable2;\n      if (typeof table.options.enableSubRowSelection === 'function') {\n        return table.options.enableSubRowSelection(row);\n      }\n      return (_table$options$enable2 = table.options.enableSubRowSelection) != null ? _table$options$enable2 : true;\n    };\n    row.getCanMultiSelect = () => {\n      var _table$options$enable3;\n      if (typeof table.options.enableMultiRowSelection === 'function') {\n        return table.options.enableMultiRowSelection(row);\n      }\n      return (_table$options$enable3 = table.options.enableMultiRowSelection) != null ? _table$options$enable3 : true;\n    };\n    row.getToggleSelectedHandler = () => {\n      const canSelect = row.getCanSelect();\n      return e => {\n        var _target;\n        if (!canSelect) return;\n        row.toggleSelected((_target = e.target) == null ? void 0 : _target.checked);\n      };\n    };\n  }\n};\nconst mutateRowIsSelected = (selectedRowIds, id, value, includeChildren, table) => {\n  var _row$subRows;\n  const row = table.getRow(id, true);\n\n  // const isGrouped = row.getIsGrouped()\n\n  // if ( // TODO: enforce grouping row selection rules\n  //   !isGrouped ||\n  //   (isGrouped && table.options.enableGroupingRowSelection)\n  // ) {\n  if (value) {\n    if (!row.getCanMultiSelect()) {\n      Object.keys(selectedRowIds).forEach(key => delete selectedRowIds[key]);\n    }\n    if (row.getCanSelect()) {\n      selectedRowIds[id] = true;\n    }\n  } else {\n    delete selectedRowIds[id];\n  }\n  // }\n\n  if (includeChildren && (_row$subRows = row.subRows) != null && _row$subRows.length && row.getCanSelectSubRows()) {\n    row.subRows.forEach(row => mutateRowIsSelected(selectedRowIds, row.id, value, includeChildren, table));\n  }\n};\nfunction selectRowsFn(table, rowModel) {\n  const rowSelection = table.getState().rowSelection;\n  const newSelectedFlatRows = [];\n  const newSelectedRowsById = {};\n\n  // Filters top level and nested rows\n  const recurseRows = function (rows, depth) {\n    return rows.map(row => {\n      var _row$subRows2;\n      const isSelected = isRowSelected(row, rowSelection);\n      if (isSelected) {\n        newSelectedFlatRows.push(row);\n        newSelectedRowsById[row.id] = row;\n      }\n      if ((_row$subRows2 = row.subRows) != null && _row$subRows2.length) {\n        row = {\n          ...row,\n          subRows: recurseRows(row.subRows)\n        };\n      }\n      if (isSelected) {\n        return row;\n      }\n    }).filter(Boolean);\n  };\n  return {\n    rows: recurseRows(rowModel.rows),\n    flatRows: newSelectedFlatRows,\n    rowsById: newSelectedRowsById\n  };\n}\nfunction isRowSelected(row, selection) {\n  var _selection$row$id;\n  return (_selection$row$id = selection[row.id]) != null ? _selection$row$id : false;\n}\nfunction isSubRowSelected(row, selection, table) {\n  var _row$subRows3;\n  if (!((_row$subRows3 = row.subRows) != null && _row$subRows3.length)) return false;\n  let allChildrenSelected = true;\n  let someSelected = false;\n  row.subRows.forEach(subRow => {\n    // Bail out early if we know both of these\n    if (someSelected && !allChildrenSelected) {\n      return;\n    }\n    if (subRow.getCanSelect()) {\n      if (isRowSelected(subRow, selection)) {\n        someSelected = true;\n      } else {\n        allChildrenSelected = false;\n      }\n    }\n\n    // Check row selection of nested subrows\n    if (subRow.subRows && subRow.subRows.length) {\n      const subRowChildrenSelected = isSubRowSelected(subRow, selection);\n      if (subRowChildrenSelected === 'all') {\n        someSelected = true;\n      } else if (subRowChildrenSelected === 'some') {\n        someSelected = true;\n        allChildrenSelected = false;\n      } else {\n        allChildrenSelected = false;\n      }\n    }\n  });\n  return allChildrenSelected ? 'all' : someSelected ? 'some' : false;\n}\n\nconst reSplitAlphaNumeric = /([0-9]+)/gm;\nconst alphanumeric = (rowA, rowB, columnId) => {\n  return compareAlphanumeric(toString(rowA.getValue(columnId)).toLowerCase(), toString(rowB.getValue(columnId)).toLowerCase());\n};\nconst alphanumericCaseSensitive = (rowA, rowB, columnId) => {\n  return compareAlphanumeric(toString(rowA.getValue(columnId)), toString(rowB.getValue(columnId)));\n};\n\n// The text filter is more basic (less numeric support)\n// but is much faster\nconst text = (rowA, rowB, columnId) => {\n  return compareBasic(toString(rowA.getValue(columnId)).toLowerCase(), toString(rowB.getValue(columnId)).toLowerCase());\n};\n\n// The text filter is more basic (less numeric support)\n// but is much faster\nconst textCaseSensitive = (rowA, rowB, columnId) => {\n  return compareBasic(toString(rowA.getValue(columnId)), toString(rowB.getValue(columnId)));\n};\nconst datetime = (rowA, rowB, columnId) => {\n  const a = rowA.getValue(columnId);\n  const b = rowB.getValue(columnId);\n\n  // Can handle nullish values\n  // Use > and < because == (and ===) doesn't work with\n  // Date objects (would require calling getTime()).\n  return a > b ? 1 : a < b ? -1 : 0;\n};\nconst basic = (rowA, rowB, columnId) => {\n  return compareBasic(rowA.getValue(columnId), rowB.getValue(columnId));\n};\n\n// Utils\n\nfunction compareBasic(a, b) {\n  return a === b ? 0 : a > b ? 1 : -1;\n}\nfunction toString(a) {\n  if (typeof a === 'number') {\n    if (isNaN(a) || a === Infinity || a === -Infinity) {\n      return '';\n    }\n    return String(a);\n  }\n  if (typeof a === 'string') {\n    return a;\n  }\n  return '';\n}\n\n// Mixed sorting is slow, but very inclusive of many edge cases.\n// It handles numbers, mixed alphanumeric combinations, and even\n// null, undefined, and Infinity\nfunction compareAlphanumeric(aStr, bStr) {\n  // Split on number groups, but keep the delimiter\n  // Then remove falsey split values\n  const a = aStr.split(reSplitAlphaNumeric).filter(Boolean);\n  const b = bStr.split(reSplitAlphaNumeric).filter(Boolean);\n\n  // While\n  while (a.length && b.length) {\n    const aa = a.shift();\n    const bb = b.shift();\n    const an = parseInt(aa, 10);\n    const bn = parseInt(bb, 10);\n    const combo = [an, bn].sort();\n\n    // Both are string\n    if (isNaN(combo[0])) {\n      if (aa > bb) {\n        return 1;\n      }\n      if (bb > aa) {\n        return -1;\n      }\n      continue;\n    }\n\n    // One is a string, one is a number\n    if (isNaN(combo[1])) {\n      return isNaN(an) ? -1 : 1;\n    }\n\n    // Both are numbers\n    if (an > bn) {\n      return 1;\n    }\n    if (bn > an) {\n      return -1;\n    }\n  }\n  return a.length - b.length;\n}\n\n// Exports\n\nconst sortingFns = {\n  alphanumeric,\n  alphanumericCaseSensitive,\n  text,\n  textCaseSensitive,\n  datetime,\n  basic\n};\n\n//\n\nconst RowSorting = {\n  getInitialState: state => {\n    return {\n      sorting: [],\n      ...state\n    };\n  },\n  getDefaultColumnDef: () => {\n    return {\n      sortingFn: 'auto',\n      sortUndefined: 1\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onSortingChange: makeStateUpdater('sorting', table),\n      isMultiSortEvent: e => {\n        return e.shiftKey;\n      }\n    };\n  },\n  createColumn: (column, table) => {\n    column.getAutoSortingFn = () => {\n      const firstRows = table.getFilteredRowModel().flatRows.slice(10);\n      let isString = false;\n      for (const row of firstRows) {\n        const value = row == null ? void 0 : row.getValue(column.id);\n        if (Object.prototype.toString.call(value) === '[object Date]') {\n          return sortingFns.datetime;\n        }\n        if (typeof value === 'string') {\n          isString = true;\n          if (value.split(reSplitAlphaNumeric).length > 1) {\n            return sortingFns.alphanumeric;\n          }\n        }\n      }\n      if (isString) {\n        return sortingFns.text;\n      }\n      return sortingFns.basic;\n    };\n    column.getAutoSortDir = () => {\n      const firstRow = table.getFilteredRowModel().flatRows[0];\n      const value = firstRow == null ? void 0 : firstRow.getValue(column.id);\n      if (typeof value === 'string') {\n        return 'asc';\n      }\n      return 'desc';\n    };\n    column.getSortingFn = () => {\n      var _table$options$sortin, _table$options$sortin2;\n      if (!column) {\n        throw new Error();\n      }\n      return isFunction(column.columnDef.sortingFn) ? column.columnDef.sortingFn : column.columnDef.sortingFn === 'auto' ? column.getAutoSortingFn() : (_table$options$sortin = (_table$options$sortin2 = table.options.sortingFns) == null ? void 0 : _table$options$sortin2[column.columnDef.sortingFn]) != null ? _table$options$sortin : sortingFns[column.columnDef.sortingFn];\n    };\n    column.toggleSorting = (desc, multi) => {\n      // if (column.columns.length) {\n      //   column.columns.forEach((c, i) => {\n      //     if (c.id) {\n      //       table.toggleColumnSorting(c.id, undefined, multi || !!i)\n      //     }\n      //   })\n      //   return\n      // }\n\n      // this needs to be outside of table.setSorting to be in sync with rerender\n      const nextSortingOrder = column.getNextSortingOrder();\n      const hasManualValue = typeof desc !== 'undefined' && desc !== null;\n      table.setSorting(old => {\n        // Find any existing sorting for this column\n        const existingSorting = old == null ? void 0 : old.find(d => d.id === column.id);\n        const existingIndex = old == null ? void 0 : old.findIndex(d => d.id === column.id);\n        let newSorting = [];\n\n        // What should we do with this sort action?\n        let sortAction;\n        let nextDesc = hasManualValue ? desc : nextSortingOrder === 'desc';\n\n        // Multi-mode\n        if (old != null && old.length && column.getCanMultiSort() && multi) {\n          if (existingSorting) {\n            sortAction = 'toggle';\n          } else {\n            sortAction = 'add';\n          }\n        } else {\n          // Normal mode\n          if (old != null && old.length && existingIndex !== old.length - 1) {\n            sortAction = 'replace';\n          } else if (existingSorting) {\n            sortAction = 'toggle';\n          } else {\n            sortAction = 'replace';\n          }\n        }\n\n        // Handle toggle states that will remove the sorting\n        if (sortAction === 'toggle') {\n          // If we are \"actually\" toggling (not a manual set value), should we remove the sorting?\n          if (!hasManualValue) {\n            // Is our intention to remove?\n            if (!nextSortingOrder) {\n              sortAction = 'remove';\n            }\n          }\n        }\n        if (sortAction === 'add') {\n          var _table$options$maxMul;\n          newSorting = [...old, {\n            id: column.id,\n            desc: nextDesc\n          }];\n          // Take latest n columns\n          newSorting.splice(0, newSorting.length - ((_table$options$maxMul = table.options.maxMultiSortColCount) != null ? _table$options$maxMul : Number.MAX_SAFE_INTEGER));\n        } else if (sortAction === 'toggle') {\n          // This flips (or sets) the\n          newSorting = old.map(d => {\n            if (d.id === column.id) {\n              return {\n                ...d,\n                desc: nextDesc\n              };\n            }\n            return d;\n          });\n        } else if (sortAction === 'remove') {\n          newSorting = old.filter(d => d.id !== column.id);\n        } else {\n          newSorting = [{\n            id: column.id,\n            desc: nextDesc\n          }];\n        }\n        return newSorting;\n      });\n    };\n    column.getFirstSortDir = () => {\n      var _ref, _column$columnDef$sor;\n      const sortDescFirst = (_ref = (_column$columnDef$sor = column.columnDef.sortDescFirst) != null ? _column$columnDef$sor : table.options.sortDescFirst) != null ? _ref : column.getAutoSortDir() === 'desc';\n      return sortDescFirst ? 'desc' : 'asc';\n    };\n    column.getNextSortingOrder = multi => {\n      var _table$options$enable, _table$options$enable2;\n      const firstSortDirection = column.getFirstSortDir();\n      const isSorted = column.getIsSorted();\n      if (!isSorted) {\n        return firstSortDirection;\n      }\n      if (isSorted !== firstSortDirection && ((_table$options$enable = table.options.enableSortingRemoval) != null ? _table$options$enable : true) && (\n      // If enableSortRemove, enable in general\n      multi ? (_table$options$enable2 = table.options.enableMultiRemove) != null ? _table$options$enable2 : true : true) // If multi, don't allow if enableMultiRemove))\n      ) {\n        return false;\n      }\n      return isSorted === 'desc' ? 'asc' : 'desc';\n    };\n    column.getCanSort = () => {\n      var _column$columnDef$ena, _table$options$enable3;\n      return ((_column$columnDef$ena = column.columnDef.enableSorting) != null ? _column$columnDef$ena : true) && ((_table$options$enable3 = table.options.enableSorting) != null ? _table$options$enable3 : true) && !!column.accessorFn;\n    };\n    column.getCanMultiSort = () => {\n      var _ref2, _column$columnDef$ena2;\n      return (_ref2 = (_column$columnDef$ena2 = column.columnDef.enableMultiSort) != null ? _column$columnDef$ena2 : table.options.enableMultiSort) != null ? _ref2 : !!column.accessorFn;\n    };\n    column.getIsSorted = () => {\n      var _table$getState$sorti;\n      const columnSort = (_table$getState$sorti = table.getState().sorting) == null ? void 0 : _table$getState$sorti.find(d => d.id === column.id);\n      return !columnSort ? false : columnSort.desc ? 'desc' : 'asc';\n    };\n    column.getSortIndex = () => {\n      var _table$getState$sorti2, _table$getState$sorti3;\n      return (_table$getState$sorti2 = (_table$getState$sorti3 = table.getState().sorting) == null ? void 0 : _table$getState$sorti3.findIndex(d => d.id === column.id)) != null ? _table$getState$sorti2 : -1;\n    };\n    column.clearSorting = () => {\n      //clear sorting for just 1 column\n      table.setSorting(old => old != null && old.length ? old.filter(d => d.id !== column.id) : []);\n    };\n    column.getToggleSortingHandler = () => {\n      const canSort = column.getCanSort();\n      return e => {\n        if (!canSort) return;\n        e.persist == null || e.persist();\n        column.toggleSorting == null || column.toggleSorting(undefined, column.getCanMultiSort() ? table.options.isMultiSortEvent == null ? void 0 : table.options.isMultiSortEvent(e) : false);\n      };\n    };\n  },\n  createTable: table => {\n    table.setSorting = updater => table.options.onSortingChange == null ? void 0 : table.options.onSortingChange(updater);\n    table.resetSorting = defaultState => {\n      var _table$initialState$s, _table$initialState;\n      table.setSorting(defaultState ? [] : (_table$initialState$s = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.sorting) != null ? _table$initialState$s : []);\n    };\n    table.getPreSortedRowModel = () => table.getGroupedRowModel();\n    table.getSortedRowModel = () => {\n      if (!table._getSortedRowModel && table.options.getSortedRowModel) {\n        table._getSortedRowModel = table.options.getSortedRowModel(table);\n      }\n      if (table.options.manualSorting || !table._getSortedRowModel) {\n        return table.getPreSortedRowModel();\n      }\n      return table._getSortedRowModel();\n    };\n  }\n};\n\nconst builtInFeatures = [Headers, ColumnVisibility, ColumnOrdering, ColumnPinning, ColumnFaceting, ColumnFiltering, GlobalFaceting,\n//depends on ColumnFaceting\nGlobalFiltering,\n//depends on ColumnFiltering\nRowSorting, ColumnGrouping,\n//depends on RowSorting\nRowExpanding, RowPagination, RowPinning, RowSelection, ColumnSizing];\n\n//\n\nfunction createTable(options) {\n  var _options$_features, _options$initialState;\n  if (process.env.NODE_ENV !== 'production' && (options.debugAll || options.debugTable)) {\n    console.info('Creating Table Instance...');\n  }\n  const _features = [...builtInFeatures, ...((_options$_features = options._features) != null ? _options$_features : [])];\n  let table = {\n    _features\n  };\n  const defaultOptions = table._features.reduce((obj, feature) => {\n    return Object.assign(obj, feature.getDefaultOptions == null ? void 0 : feature.getDefaultOptions(table));\n  }, {});\n  const mergeOptions = options => {\n    if (table.options.mergeOptions) {\n      return table.options.mergeOptions(defaultOptions, options);\n    }\n    return {\n      ...defaultOptions,\n      ...options\n    };\n  };\n  const coreInitialState = {};\n  let initialState = {\n    ...coreInitialState,\n    ...((_options$initialState = options.initialState) != null ? _options$initialState : {})\n  };\n  table._features.forEach(feature => {\n    var _feature$getInitialSt;\n    initialState = (_feature$getInitialSt = feature.getInitialState == null ? void 0 : feature.getInitialState(initialState)) != null ? _feature$getInitialSt : initialState;\n  });\n  const queued = [];\n  let queuedTimeout = false;\n  const coreInstance = {\n    _features,\n    options: {\n      ...defaultOptions,\n      ...options\n    },\n    initialState,\n    _queue: cb => {\n      queued.push(cb);\n      if (!queuedTimeout) {\n        queuedTimeout = true;\n\n        // Schedule a microtask to run the queued callbacks after\n        // the current call stack (render, etc) has finished.\n        Promise.resolve().then(() => {\n          while (queued.length) {\n            queued.shift()();\n          }\n          queuedTimeout = false;\n        }).catch(error => setTimeout(() => {\n          throw error;\n        }));\n      }\n    },\n    reset: () => {\n      table.setState(table.initialState);\n    },\n    setOptions: updater => {\n      const newOptions = functionalUpdate(updater, table.options);\n      table.options = mergeOptions(newOptions);\n    },\n    getState: () => {\n      return table.options.state;\n    },\n    setState: updater => {\n      table.options.onStateChange == null || table.options.onStateChange(updater);\n    },\n    _getRowId: (row, index, parent) => {\n      var _table$options$getRow;\n      return (_table$options$getRow = table.options.getRowId == null ? void 0 : table.options.getRowId(row, index, parent)) != null ? _table$options$getRow : `${parent ? [parent.id, index].join('.') : index}`;\n    },\n    getCoreRowModel: () => {\n      if (!table._getCoreRowModel) {\n        table._getCoreRowModel = table.options.getCoreRowModel(table);\n      }\n      return table._getCoreRowModel();\n    },\n    // The final calls start at the bottom of the model,\n    // expanded rows, which then work their way up\n\n    getRowModel: () => {\n      return table.getPaginationRowModel();\n    },\n    //in next version, we should just pass in the row model as the optional 2nd arg\n    getRow: (id, searchAll) => {\n      let row = (searchAll ? table.getPrePaginationRowModel() : table.getRowModel()).rowsById[id];\n      if (!row) {\n        row = table.getCoreRowModel().rowsById[id];\n        if (!row) {\n          if (process.env.NODE_ENV !== 'production') {\n            throw new Error(`getRow could not find row with ID: ${id}`);\n          }\n          throw new Error();\n        }\n      }\n      return row;\n    },\n    _getDefaultColumnDef: memo(() => [table.options.defaultColumn], defaultColumn => {\n      var _defaultColumn;\n      defaultColumn = (_defaultColumn = defaultColumn) != null ? _defaultColumn : {};\n      return {\n        header: props => {\n          const resolvedColumnDef = props.header.column.columnDef;\n          if (resolvedColumnDef.accessorKey) {\n            return resolvedColumnDef.accessorKey;\n          }\n          if (resolvedColumnDef.accessorFn) {\n            return resolvedColumnDef.id;\n          }\n          return null;\n        },\n        // footer: props => props.header.column.id,\n        cell: props => {\n          var _props$renderValue$to, _props$renderValue;\n          return (_props$renderValue$to = (_props$renderValue = props.renderValue()) == null || _props$renderValue.toString == null ? void 0 : _props$renderValue.toString()) != null ? _props$renderValue$to : null;\n        },\n        ...table._features.reduce((obj, feature) => {\n          return Object.assign(obj, feature.getDefaultColumnDef == null ? void 0 : feature.getDefaultColumnDef());\n        }, {}),\n        ...defaultColumn\n      };\n    }, getMemoOptions(options, 'debugColumns', '_getDefaultColumnDef')),\n    _getColumnDefs: () => table.options.columns,\n    getAllColumns: memo(() => [table._getColumnDefs()], columnDefs => {\n      const recurseColumns = function (columnDefs, parent, depth) {\n        if (depth === void 0) {\n          depth = 0;\n        }\n        return columnDefs.map(columnDef => {\n          const column = createColumn(table, columnDef, depth, parent);\n          const groupingColumnDef = columnDef;\n          column.columns = groupingColumnDef.columns ? recurseColumns(groupingColumnDef.columns, column, depth + 1) : [];\n          return column;\n        });\n      };\n      return recurseColumns(columnDefs);\n    }, getMemoOptions(options, 'debugColumns', 'getAllColumns')),\n    getAllFlatColumns: memo(() => [table.getAllColumns()], allColumns => {\n      return allColumns.flatMap(column => {\n        return column.getFlatColumns();\n      });\n    }, getMemoOptions(options, 'debugColumns', 'getAllFlatColumns')),\n    _getAllFlatColumnsById: memo(() => [table.getAllFlatColumns()], flatColumns => {\n      return flatColumns.reduce((acc, column) => {\n        acc[column.id] = column;\n        return acc;\n      }, {});\n    }, getMemoOptions(options, 'debugColumns', 'getAllFlatColumnsById')),\n    getAllLeafColumns: memo(() => [table.getAllColumns(), table._getOrderColumnsFn()], (allColumns, orderColumns) => {\n      let leafColumns = allColumns.flatMap(column => column.getLeafColumns());\n      return orderColumns(leafColumns);\n    }, getMemoOptions(options, 'debugColumns', 'getAllLeafColumns')),\n    getColumn: columnId => {\n      const column = table._getAllFlatColumnsById()[columnId];\n      if (process.env.NODE_ENV !== 'production' && !column) {\n        console.error(`[Table] Column with id '${columnId}' does not exist.`);\n      }\n      return column;\n    }\n  };\n  Object.assign(table, coreInstance);\n  for (let index = 0; index < table._features.length; index++) {\n    const feature = table._features[index];\n    feature == null || feature.createTable == null || feature.createTable(table);\n  }\n  return table;\n}\n\nfunction getCoreRowModel() {\n  return table => memo(() => [table.options.data], data => {\n    const rowModel = {\n      rows: [],\n      flatRows: [],\n      rowsById: {}\n    };\n    const accessRows = function (originalRows, depth, parentRow) {\n      if (depth === void 0) {\n        depth = 0;\n      }\n      const rows = [];\n      for (let i = 0; i < originalRows.length; i++) {\n        // This could be an expensive check at scale, so we should move it somewhere else, but where?\n        // if (!id) {\n        //   if (process.env.NODE_ENV !== 'production') {\n        //     throw new Error(`getRowId expected an ID, but got ${id}`)\n        //   }\n        // }\n\n        // Make the row\n        const row = createRow(table, table._getRowId(originalRows[i], i, parentRow), originalRows[i], i, depth, undefined, parentRow == null ? void 0 : parentRow.id);\n\n        // Keep track of every row in a flat array\n        rowModel.flatRows.push(row);\n        // Also keep track of every row by its ID\n        rowModel.rowsById[row.id] = row;\n        // Push table row into parent\n        rows.push(row);\n\n        // Get the original subrows\n        if (table.options.getSubRows) {\n          var _row$originalSubRows;\n          row.originalSubRows = table.options.getSubRows(originalRows[i], i);\n\n          // Then recursively access them\n          if ((_row$originalSubRows = row.originalSubRows) != null && _row$originalSubRows.length) {\n            row.subRows = accessRows(row.originalSubRows, depth + 1, row);\n          }\n        }\n      }\n      return rows;\n    };\n    rowModel.rows = accessRows(data);\n    return rowModel;\n  }, getMemoOptions(table.options, 'debugTable', 'getRowModel', () => table._autoResetPageIndex()));\n}\n\nfunction getExpandedRowModel() {\n  return table => memo(() => [table.getState().expanded, table.getPreExpandedRowModel(), table.options.paginateExpandedRows], (expanded, rowModel, paginateExpandedRows) => {\n    if (!rowModel.rows.length || expanded !== true && !Object.keys(expanded != null ? expanded : {}).length) {\n      return rowModel;\n    }\n    if (!paginateExpandedRows) {\n      // Only expand rows at this point if they are being paginated\n      return rowModel;\n    }\n    return expandRows(rowModel);\n  }, getMemoOptions(table.options, 'debugTable', 'getExpandedRowModel'));\n}\nfunction expandRows(rowModel) {\n  const expandedRows = [];\n  const handleRow = row => {\n    var _row$subRows;\n    expandedRows.push(row);\n    if ((_row$subRows = row.subRows) != null && _row$subRows.length && row.getIsExpanded()) {\n      row.subRows.forEach(handleRow);\n    }\n  };\n  rowModel.rows.forEach(handleRow);\n  return {\n    rows: expandedRows,\n    flatRows: rowModel.flatRows,\n    rowsById: rowModel.rowsById\n  };\n}\n\nfunction getFacetedMinMaxValues() {\n  return (table, columnId) => memo(() => {\n    var _table$getColumn;\n    return [(_table$getColumn = table.getColumn(columnId)) == null ? void 0 : _table$getColumn.getFacetedRowModel()];\n  }, facetedRowModel => {\n    if (!facetedRowModel) return undefined;\n    const uniqueValues = facetedRowModel.flatRows.flatMap(flatRow => {\n      var _flatRow$getUniqueVal;\n      return (_flatRow$getUniqueVal = flatRow.getUniqueValues(columnId)) != null ? _flatRow$getUniqueVal : [];\n    }).map(Number).filter(value => !Number.isNaN(value));\n    if (!uniqueValues.length) return;\n    let facetedMinValue = uniqueValues[0];\n    let facetedMaxValue = uniqueValues[uniqueValues.length - 1];\n    for (const value of uniqueValues) {\n      if (value < facetedMinValue) facetedMinValue = value;else if (value > facetedMaxValue) facetedMaxValue = value;\n    }\n    return [facetedMinValue, facetedMaxValue];\n  }, getMemoOptions(table.options, 'debugTable', 'getFacetedMinMaxValues'));\n}\n\nfunction filterRows(rows, filterRowImpl, table) {\n  if (table.options.filterFromLeafRows) {\n    return filterRowModelFromLeafs(rows, filterRowImpl, table);\n  }\n  return filterRowModelFromRoot(rows, filterRowImpl, table);\n}\nfunction filterRowModelFromLeafs(rowsToFilter, filterRow, table) {\n  var _table$options$maxLea;\n  const newFilteredFlatRows = [];\n  const newFilteredRowsById = {};\n  const maxDepth = (_table$options$maxLea = table.options.maxLeafRowFilterDepth) != null ? _table$options$maxLea : 100;\n  const recurseFilterRows = function (rowsToFilter, depth) {\n    if (depth === void 0) {\n      depth = 0;\n    }\n    const rows = [];\n\n    // Filter from children up first\n    for (let i = 0; i < rowsToFilter.length; i++) {\n      var _row$subRows;\n      let row = rowsToFilter[i];\n      const newRow = createRow(table, row.id, row.original, row.index, row.depth, undefined, row.parentId);\n      newRow.columnFilters = row.columnFilters;\n      if ((_row$subRows = row.subRows) != null && _row$subRows.length && depth < maxDepth) {\n        newRow.subRows = recurseFilterRows(row.subRows, depth + 1);\n        row = newRow;\n        if (filterRow(row) && !newRow.subRows.length) {\n          rows.push(row);\n          newFilteredRowsById[row.id] = row;\n          newFilteredFlatRows.push(row);\n          continue;\n        }\n        if (filterRow(row) || newRow.subRows.length) {\n          rows.push(row);\n          newFilteredRowsById[row.id] = row;\n          newFilteredFlatRows.push(row);\n          continue;\n        }\n      } else {\n        row = newRow;\n        if (filterRow(row)) {\n          rows.push(row);\n          newFilteredRowsById[row.id] = row;\n          newFilteredFlatRows.push(row);\n        }\n      }\n    }\n    return rows;\n  };\n  return {\n    rows: recurseFilterRows(rowsToFilter),\n    flatRows: newFilteredFlatRows,\n    rowsById: newFilteredRowsById\n  };\n}\nfunction filterRowModelFromRoot(rowsToFilter, filterRow, table) {\n  var _table$options$maxLea2;\n  const newFilteredFlatRows = [];\n  const newFilteredRowsById = {};\n  const maxDepth = (_table$options$maxLea2 = table.options.maxLeafRowFilterDepth) != null ? _table$options$maxLea2 : 100;\n\n  // Filters top level and nested rows\n  const recurseFilterRows = function (rowsToFilter, depth) {\n    if (depth === void 0) {\n      depth = 0;\n    }\n    // Filter from parents downward first\n\n    const rows = [];\n\n    // Apply the filter to any subRows\n    for (let i = 0; i < rowsToFilter.length; i++) {\n      let row = rowsToFilter[i];\n      const pass = filterRow(row);\n      if (pass) {\n        var _row$subRows2;\n        if ((_row$subRows2 = row.subRows) != null && _row$subRows2.length && depth < maxDepth) {\n          const newRow = createRow(table, row.id, row.original, row.index, row.depth, undefined, row.parentId);\n          newRow.subRows = recurseFilterRows(row.subRows, depth + 1);\n          row = newRow;\n        }\n        rows.push(row);\n        newFilteredFlatRows.push(row);\n        newFilteredRowsById[row.id] = row;\n      }\n    }\n    return rows;\n  };\n  return {\n    rows: recurseFilterRows(rowsToFilter),\n    flatRows: newFilteredFlatRows,\n    rowsById: newFilteredRowsById\n  };\n}\n\nfunction getFacetedRowModel() {\n  return (table, columnId) => memo(() => [table.getPreFilteredRowModel(), table.getState().columnFilters, table.getState().globalFilter, table.getFilteredRowModel()], (preRowModel, columnFilters, globalFilter) => {\n    if (!preRowModel.rows.length || !(columnFilters != null && columnFilters.length) && !globalFilter) {\n      return preRowModel;\n    }\n    const filterableIds = [...columnFilters.map(d => d.id).filter(d => d !== columnId), globalFilter ? '__global__' : undefined].filter(Boolean);\n    const filterRowsImpl = row => {\n      // Horizontally filter rows through each column\n      for (let i = 0; i < filterableIds.length; i++) {\n        if (row.columnFilters[filterableIds[i]] === false) {\n          return false;\n        }\n      }\n      return true;\n    };\n    return filterRows(preRowModel.rows, filterRowsImpl, table);\n  }, getMemoOptions(table.options, 'debugTable', 'getFacetedRowModel'));\n}\n\nfunction getFacetedUniqueValues() {\n  return (table, columnId) => memo(() => {\n    var _table$getColumn;\n    return [(_table$getColumn = table.getColumn(columnId)) == null ? void 0 : _table$getColumn.getFacetedRowModel()];\n  }, facetedRowModel => {\n    if (!facetedRowModel) return new Map();\n    let facetedUniqueValues = new Map();\n    for (let i = 0; i < facetedRowModel.flatRows.length; i++) {\n      const values = facetedRowModel.flatRows[i].getUniqueValues(columnId);\n      for (let j = 0; j < values.length; j++) {\n        const value = values[j];\n        if (facetedUniqueValues.has(value)) {\n          var _facetedUniqueValues$;\n          facetedUniqueValues.set(value, ((_facetedUniqueValues$ = facetedUniqueValues.get(value)) != null ? _facetedUniqueValues$ : 0) + 1);\n        } else {\n          facetedUniqueValues.set(value, 1);\n        }\n      }\n    }\n    return facetedUniqueValues;\n  }, getMemoOptions(table.options, 'debugTable', `getFacetedUniqueValues_${columnId}`));\n}\n\nfunction getFilteredRowModel() {\n  return table => memo(() => [table.getPreFilteredRowModel(), table.getState().columnFilters, table.getState().globalFilter], (rowModel, columnFilters, globalFilter) => {\n    if (!rowModel.rows.length || !(columnFilters != null && columnFilters.length) && !globalFilter) {\n      for (let i = 0; i < rowModel.flatRows.length; i++) {\n        rowModel.flatRows[i].columnFilters = {};\n        rowModel.flatRows[i].columnFiltersMeta = {};\n      }\n      return rowModel;\n    }\n    const resolvedColumnFilters = [];\n    const resolvedGlobalFilters = [];\n    (columnFilters != null ? columnFilters : []).forEach(d => {\n      var _filterFn$resolveFilt;\n      const column = table.getColumn(d.id);\n      if (!column) {\n        return;\n      }\n      const filterFn = column.getFilterFn();\n      if (!filterFn) {\n        if (process.env.NODE_ENV !== 'production') {\n          console.warn(`Could not find a valid 'column.filterFn' for column with the ID: ${column.id}.`);\n        }\n        return;\n      }\n      resolvedColumnFilters.push({\n        id: d.id,\n        filterFn,\n        resolvedValue: (_filterFn$resolveFilt = filterFn.resolveFilterValue == null ? void 0 : filterFn.resolveFilterValue(d.value)) != null ? _filterFn$resolveFilt : d.value\n      });\n    });\n    const filterableIds = (columnFilters != null ? columnFilters : []).map(d => d.id);\n    const globalFilterFn = table.getGlobalFilterFn();\n    const globallyFilterableColumns = table.getAllLeafColumns().filter(column => column.getCanGlobalFilter());\n    if (globalFilter && globalFilterFn && globallyFilterableColumns.length) {\n      filterableIds.push('__global__');\n      globallyFilterableColumns.forEach(column => {\n        var _globalFilterFn$resol;\n        resolvedGlobalFilters.push({\n          id: column.id,\n          filterFn: globalFilterFn,\n          resolvedValue: (_globalFilterFn$resol = globalFilterFn.resolveFilterValue == null ? void 0 : globalFilterFn.resolveFilterValue(globalFilter)) != null ? _globalFilterFn$resol : globalFilter\n        });\n      });\n    }\n    let currentColumnFilter;\n    let currentGlobalFilter;\n\n    // Flag the prefiltered row model with each filter state\n    for (let j = 0; j < rowModel.flatRows.length; j++) {\n      const row = rowModel.flatRows[j];\n      row.columnFilters = {};\n      if (resolvedColumnFilters.length) {\n        for (let i = 0; i < resolvedColumnFilters.length; i++) {\n          currentColumnFilter = resolvedColumnFilters[i];\n          const id = currentColumnFilter.id;\n\n          // Tag the row with the column filter state\n          row.columnFilters[id] = currentColumnFilter.filterFn(row, id, currentColumnFilter.resolvedValue, filterMeta => {\n            row.columnFiltersMeta[id] = filterMeta;\n          });\n        }\n      }\n      if (resolvedGlobalFilters.length) {\n        for (let i = 0; i < resolvedGlobalFilters.length; i++) {\n          currentGlobalFilter = resolvedGlobalFilters[i];\n          const id = currentGlobalFilter.id;\n          // Tag the row with the first truthy global filter state\n          if (currentGlobalFilter.filterFn(row, id, currentGlobalFilter.resolvedValue, filterMeta => {\n            row.columnFiltersMeta[id] = filterMeta;\n          })) {\n            row.columnFilters.__global__ = true;\n            break;\n          }\n        }\n        if (row.columnFilters.__global__ !== true) {\n          row.columnFilters.__global__ = false;\n        }\n      }\n    }\n    const filterRowsImpl = row => {\n      // Horizontally filter rows through each column\n      for (let i = 0; i < filterableIds.length; i++) {\n        if (row.columnFilters[filterableIds[i]] === false) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    // Filter final rows using all of the active filters\n    return filterRows(rowModel.rows, filterRowsImpl, table);\n  }, getMemoOptions(table.options, 'debugTable', 'getFilteredRowModel', () => table._autoResetPageIndex()));\n}\n\nfunction getGroupedRowModel() {\n  return table => memo(() => [table.getState().grouping, table.getPreGroupedRowModel()], (grouping, rowModel) => {\n    if (!rowModel.rows.length || !grouping.length) {\n      rowModel.rows.forEach(row => {\n        row.depth = 0;\n        row.parentId = undefined;\n      });\n      return rowModel;\n    }\n\n    // Filter the grouping list down to columns that exist\n    const existingGrouping = grouping.filter(columnId => table.getColumn(columnId));\n    const groupedFlatRows = [];\n    const groupedRowsById = {};\n    // const onlyGroupedFlatRows: Row[] = [];\n    // const onlyGroupedRowsById: Record<RowId, Row> = {};\n    // const nonGroupedFlatRows: Row[] = [];\n    // const nonGroupedRowsById: Record<RowId, Row> = {};\n\n    // Recursively group the data\n    const groupUpRecursively = function (rows, depth, parentId) {\n      if (depth === void 0) {\n        depth = 0;\n      }\n      // Grouping depth has been been met\n      // Stop grouping and simply rewrite thd depth and row relationships\n      if (depth >= existingGrouping.length) {\n        return rows.map(row => {\n          row.depth = depth;\n          groupedFlatRows.push(row);\n          groupedRowsById[row.id] = row;\n          if (row.subRows) {\n            row.subRows = groupUpRecursively(row.subRows, depth + 1, row.id);\n          }\n          return row;\n        });\n      }\n      const columnId = existingGrouping[depth];\n\n      // Group the rows together for this level\n      const rowGroupsMap = groupBy(rows, columnId);\n\n      // Perform aggregations for each group\n      const aggregatedGroupedRows = Array.from(rowGroupsMap.entries()).map((_ref, index) => {\n        let [groupingValue, groupedRows] = _ref;\n        let id = `${columnId}:${groupingValue}`;\n        id = parentId ? `${parentId}>${id}` : id;\n\n        // First, Recurse to group sub rows before aggregation\n        const subRows = groupUpRecursively(groupedRows, depth + 1, id);\n        subRows.forEach(subRow => {\n          subRow.parentId = id;\n        });\n\n        // Flatten the leaf rows of the rows in this group\n        const leafRows = depth ? flattenBy(groupedRows, row => row.subRows) : groupedRows;\n        const row = createRow(table, id, leafRows[0].original, index, depth, undefined, parentId);\n        Object.assign(row, {\n          groupingColumnId: columnId,\n          groupingValue,\n          subRows,\n          leafRows,\n          getValue: columnId => {\n            // Don't aggregate columns that are in the grouping\n            if (existingGrouping.includes(columnId)) {\n              if (row._valuesCache.hasOwnProperty(columnId)) {\n                return row._valuesCache[columnId];\n              }\n              if (groupedRows[0]) {\n                var _groupedRows$0$getVal;\n                row._valuesCache[columnId] = (_groupedRows$0$getVal = groupedRows[0].getValue(columnId)) != null ? _groupedRows$0$getVal : undefined;\n              }\n              return row._valuesCache[columnId];\n            }\n            if (row._groupingValuesCache.hasOwnProperty(columnId)) {\n              return row._groupingValuesCache[columnId];\n            }\n\n            // Aggregate the values\n            const column = table.getColumn(columnId);\n            const aggregateFn = column == null ? void 0 : column.getAggregationFn();\n            if (aggregateFn) {\n              row._groupingValuesCache[columnId] = aggregateFn(columnId, leafRows, groupedRows);\n              return row._groupingValuesCache[columnId];\n            }\n          }\n        });\n        subRows.forEach(subRow => {\n          groupedFlatRows.push(subRow);\n          groupedRowsById[subRow.id] = subRow;\n          // if (subRow.getIsGrouped?.()) {\n          //   onlyGroupedFlatRows.push(subRow);\n          //   onlyGroupedRowsById[subRow.id] = subRow;\n          // } else {\n          //   nonGroupedFlatRows.push(subRow);\n          //   nonGroupedRowsById[subRow.id] = subRow;\n          // }\n        });\n        return row;\n      });\n      return aggregatedGroupedRows;\n    };\n    const groupedRows = groupUpRecursively(rowModel.rows, 0);\n    groupedRows.forEach(subRow => {\n      groupedFlatRows.push(subRow);\n      groupedRowsById[subRow.id] = subRow;\n      // if (subRow.getIsGrouped?.()) {\n      //   onlyGroupedFlatRows.push(subRow);\n      //   onlyGroupedRowsById[subRow.id] = subRow;\n      // } else {\n      //   nonGroupedFlatRows.push(subRow);\n      //   nonGroupedRowsById[subRow.id] = subRow;\n      // }\n    });\n    return {\n      rows: groupedRows,\n      flatRows: groupedFlatRows,\n      rowsById: groupedRowsById\n    };\n  }, getMemoOptions(table.options, 'debugTable', 'getGroupedRowModel', () => {\n    table._queue(() => {\n      table._autoResetExpanded();\n      table._autoResetPageIndex();\n    });\n  }));\n}\nfunction groupBy(rows, columnId) {\n  const groupMap = new Map();\n  return rows.reduce((map, row) => {\n    const resKey = `${row.getGroupingValue(columnId)}`;\n    const previous = map.get(resKey);\n    if (!previous) {\n      map.set(resKey, [row]);\n    } else {\n      previous.push(row);\n    }\n    return map;\n  }, groupMap);\n}\n\nfunction getPaginationRowModel(opts) {\n  return table => memo(() => [table.getState().pagination, table.getPrePaginationRowModel(), table.options.paginateExpandedRows ? undefined : table.getState().expanded], (pagination, rowModel) => {\n    if (!rowModel.rows.length) {\n      return rowModel;\n    }\n    const {\n      pageSize,\n      pageIndex\n    } = pagination;\n    let {\n      rows,\n      flatRows,\n      rowsById\n    } = rowModel;\n    const pageStart = pageSize * pageIndex;\n    const pageEnd = pageStart + pageSize;\n    rows = rows.slice(pageStart, pageEnd);\n    let paginatedRowModel;\n    if (!table.options.paginateExpandedRows) {\n      paginatedRowModel = expandRows({\n        rows,\n        flatRows,\n        rowsById\n      });\n    } else {\n      paginatedRowModel = {\n        rows,\n        flatRows,\n        rowsById\n      };\n    }\n    paginatedRowModel.flatRows = [];\n    const handleRow = row => {\n      paginatedRowModel.flatRows.push(row);\n      if (row.subRows.length) {\n        row.subRows.forEach(handleRow);\n      }\n    };\n    paginatedRowModel.rows.forEach(handleRow);\n    return paginatedRowModel;\n  }, getMemoOptions(table.options, 'debugTable', 'getPaginationRowModel'));\n}\n\nfunction getSortedRowModel() {\n  return table => memo(() => [table.getState().sorting, table.getPreSortedRowModel()], (sorting, rowModel) => {\n    if (!rowModel.rows.length || !(sorting != null && sorting.length)) {\n      return rowModel;\n    }\n    const sortingState = table.getState().sorting;\n    const sortedFlatRows = [];\n\n    // Filter out sortings that correspond to non existing columns\n    const availableSorting = sortingState.filter(sort => {\n      var _table$getColumn;\n      return (_table$getColumn = table.getColumn(sort.id)) == null ? void 0 : _table$getColumn.getCanSort();\n    });\n    const columnInfoById = {};\n    availableSorting.forEach(sortEntry => {\n      const column = table.getColumn(sortEntry.id);\n      if (!column) return;\n      columnInfoById[sortEntry.id] = {\n        sortUndefined: column.columnDef.sortUndefined,\n        invertSorting: column.columnDef.invertSorting,\n        sortingFn: column.getSortingFn()\n      };\n    });\n    const sortData = rows => {\n      // This will also perform a stable sorting using the row index\n      // if needed.\n      const sortedData = rows.map(row => ({\n        ...row\n      }));\n      sortedData.sort((rowA, rowB) => {\n        for (let i = 0; i < availableSorting.length; i += 1) {\n          var _sortEntry$desc;\n          const sortEntry = availableSorting[i];\n          const columnInfo = columnInfoById[sortEntry.id];\n          const sortUndefined = columnInfo.sortUndefined;\n          const isDesc = (_sortEntry$desc = sortEntry == null ? void 0 : sortEntry.desc) != null ? _sortEntry$desc : false;\n          let sortInt = 0;\n\n          // All sorting ints should always return in ascending order\n          if (sortUndefined) {\n            const aValue = rowA.getValue(sortEntry.id);\n            const bValue = rowB.getValue(sortEntry.id);\n            const aUndefined = aValue === undefined;\n            const bUndefined = bValue === undefined;\n            if (aUndefined || bUndefined) {\n              if (sortUndefined === 'first') return aUndefined ? -1 : 1;\n              if (sortUndefined === 'last') return aUndefined ? 1 : -1;\n              sortInt = aUndefined && bUndefined ? 0 : aUndefined ? sortUndefined : -sortUndefined;\n            }\n          }\n          if (sortInt === 0) {\n            sortInt = columnInfo.sortingFn(rowA, rowB, sortEntry.id);\n          }\n\n          // If sorting is non-zero, take care of desc and inversion\n          if (sortInt !== 0) {\n            if (isDesc) {\n              sortInt *= -1;\n            }\n            if (columnInfo.invertSorting) {\n              sortInt *= -1;\n            }\n            return sortInt;\n          }\n        }\n        return rowA.index - rowB.index;\n      });\n\n      // If there are sub-rows, sort them\n      sortedData.forEach(row => {\n        var _row$subRows;\n        sortedFlatRows.push(row);\n        if ((_row$subRows = row.subRows) != null && _row$subRows.length) {\n          row.subRows = sortData(row.subRows);\n        }\n      });\n      return sortedData;\n    };\n    return {\n      rows: sortData(rowModel.rows),\n      flatRows: sortedFlatRows,\n      rowsById: rowModel.rowsById\n    };\n  }, getMemoOptions(table.options, 'debugTable', 'getSortedRowModel', () => table._autoResetPageIndex()));\n}\n\nexport { ColumnFaceting, ColumnFiltering, ColumnGrouping, ColumnOrdering, ColumnPinning, ColumnSizing, ColumnVisibility, GlobalFaceting, GlobalFiltering, Headers, RowExpanding, RowPagination, RowPinning, RowSelection, RowSorting, _getVisibleLeafColumns, aggregationFns, buildHeaderGroups, createCell, createColumn, createColumnHelper, createRow, createTable, defaultColumnSizing, expandRows, filterFns, flattenBy, functionalUpdate, getCoreRowModel, getExpandedRowModel, getFacetedMinMaxValues, getFacetedRowModel, getFacetedUniqueValues, getFilteredRowModel, getGroupedRowModel, getMemoOptions, getPaginationRowModel, getSortedRowModel, isFunction, isNumberArray, isRowSelected, isSubRowSelected, makeStateUpdater, memo, noop, orderColumns, passiveEventSupported, reSplitAlphaNumeric, selectRowsFn, shouldAutoRemoveFilter, sortingFns };\n//# sourceMappingURL=index.mjs.map\n","/**\n   * react-table\n   *\n   * Copyright (c) TanStack\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE.md file in the root directory of this source tree.\n   *\n   * @license MIT\n   */\nimport * as React from 'react';\nimport { createTable } from '@tanstack/table-core';\nexport * from '@tanstack/table-core';\n\n//\n\n/**\n * If rendering headers, cells, or footers with custom markup, use flexRender instead of `cell.getValue()` or `cell.renderValue()`.\n */\nfunction flexRender(Comp, props) {\n  return !Comp ? null : isReactComponent(Comp) ? /*#__PURE__*/React.createElement(Comp, props) : Comp;\n}\nfunction isReactComponent(component) {\n  return isClassComponent(component) || typeof component === 'function' || isExoticComponent(component);\n}\nfunction isClassComponent(component) {\n  return typeof component === 'function' && (() => {\n    const proto = Object.getPrototypeOf(component);\n    return proto.prototype && proto.prototype.isReactComponent;\n  })();\n}\nfunction isExoticComponent(component) {\n  return typeof component === 'object' && typeof component.$$typeof === 'symbol' && ['react.memo', 'react.forward_ref'].includes(component.$$typeof.description);\n}\nfunction useReactTable(options) {\n  // Compose in the generic options to the user options\n  const resolvedOptions = {\n    state: {},\n    // Dummy state\n    onStateChange: () => {},\n    // noop\n    renderFallbackValue: null,\n    ...options\n  };\n\n  // Create a new table and store it in state\n  const [tableRef] = React.useState(() => ({\n    current: createTable(resolvedOptions)\n  }));\n\n  // By default, manage table state here using the table's initial state\n  const [state, setState] = React.useState(() => tableRef.current.initialState);\n\n  // Compose the default state above with any user state. This will allow the user\n  // to only control a subset of the state if desired.\n  tableRef.current.setOptions(prev => ({\n    ...prev,\n    ...options,\n    state: {\n      ...state,\n      ...options.state\n    },\n    // Similarly, we'll maintain both our internal state and any user-provided\n    // state.\n    onStateChange: updater => {\n      setState(updater);\n      options.onStateChange == null || options.onStateChange(updater);\n    }\n  }));\n  return tableRef.current;\n}\n\nexport { flexRender, useReactTable };\n//# sourceMappingURL=index.mjs.map\n","\"use client\"\nvar A=Object.defineProperty;var n=(t,o)=>A(t,\"name\",{value:o,configurable:!0});import{useEffect as T}from\"react\";import L from\"lodash/isEqual\";import{useTable as G}from\"@refinedev/core\";import{useReactTable as J,getCoreRowModel as N,getSortedRowModel as V,getFilteredRowModel as W}from\"@tanstack/react-table\";import{useEffect as q,useRef as j}from\"react\";var P=n(()=>{let t=j(!0);return q(()=>{t.current=!1},[]),t.current},\"useIsFirstRender\");var k=n(({columns:t,columnFilters:o})=>(o==null?void 0:o.map(e=>{var a,d,c,u;let r=e.operator??((d=(a=t.find(m=>m.id===e.id))==null?void 0:a.meta)==null?void 0:d.filterOperator);if((r===\"and\"||r===\"or\")&&Array.isArray(e.value))return{key:((u=(c=t.find(y=>y.id===e.id))==null?void 0:c.meta)==null?void 0:u.filterKey)??e.id,operator:r,value:e.value};let i=Array.isArray(e.value)?\"in\":\"eq\";return{field:e.id,operator:r??i,value:e.value}}))??[],\"columnFiltersToCrudFilters\");var O=n(({nextFilters:t,coreFilters:o})=>o.filter(r=>!t.some(s=>{let i=r.operator===\"and\"||r.operator===\"or\",a=s.operator===\"and\"||s.operator===\"or\",d=r.operator===s.operator,c=i&&a&&r.key===s.key,u=!i&&!a&&r.field===s.field;return d&&(c||u)})).map(r=>r.operator===\"and\"||r.operator===\"or\"?{key:r.key,operator:r.operator,value:[]}:{field:r.field,operator:r.operator,value:void 0}),\"getRemovedFilters\");var B=n(({columns:t,crudFilters:o})=>o.map(e=>{var r;return e.operator===\"and\"||e.operator===\"or\"?e.key?{id:((r=t.find(i=>{var a;return((a=i.meta)==null?void 0:a.filterKey)===e.key}))==null?void 0:r.id)??e.key,operator:e.operator,value:e.value}:void 0:{id:e.field,operator:e.operator,value:e.value}}).filter(Boolean),\"crudFiltersToColumnFilters\");function X({refineCoreProps:{hasPagination:t=!0,...o}={},initialState:e={},...r}){var D,E,x;let s=P(),i=G({...o,hasPagination:t}),a=(((D=o.filters)==null?void 0:D.mode)||\"server\")===\"server\",d=(((E=o.sorters)==null?void 0:E.mode)||\"server\")===\"server\",c=t===!1?\"off\":\"server\",u=(((x=o.pagination)==null?void 0:x.mode)??c)!==\"off\",{tableQuery:{data:m},current:y,setCurrent:f,pageSize:Q,setPageSize:w,sorters:v,setSorters:H,filters:C,setFilters:K,pageCount:h}=i,g=J({data:(m==null?void 0:m.data)??[],getCoreRowModel:N(),getSortedRowModel:d?void 0:V(),getFilteredRowModel:a?void 0:W(),initialState:{pagination:{pageIndex:y-1,pageSize:Q},sorting:v.map(p=>({id:p.field,desc:p.order===\"desc\"})),columnFilters:B({columns:r.columns,crudFilters:C}),...e},pageCount:h,manualPagination:!0,manualSorting:d,manualFiltering:a,...r}),{state:z,columns:I}=g.options,{pagination:M,sorting:F,columnFilters:S}=z,{pageIndex:R,pageSize:b}=M??{};return T(()=>{R!==void 0&&f(R+1)},[R]),T(()=>{b!==void 0&&w(b)},[b]),T(()=>{if(F!==void 0){let p=F.map(l=>({field:l.id,order:l.desc?\"desc\":\"asc\"}));L(v,p)||H(p),F.length>0&&u&&!s&&f(1)}},[F]),T(()=>{let p=g.getAllColumns().map(U=>U.columnDef),l=k({columns:p,columnFilters:S});l.push(...O({nextFilters:l,coreFilters:C})),L(l,C)||K(l),l.length>0&&u&&!s&&f(1)},[S,I]),{...g,refineCore:i}}n(X,\"useTable\");export{X as useTable};\n//# sourceMappingURL=index.mjs.map"],"names":["_extends","target","i","source","key","Action","PopStateEventType","createBrowserHistory","options","createBrowserLocation","window","globalHistory","pathname","search","hash","createLocation","createBrowserHref","to","createPath","getUrlBasedHistory","invariant","value","message","warning","cond","createKey","getHistoryState","location","index","current","state","parsePath","_ref","path","parsedPath","hashIndex","searchIndex","getLocation","createHref","validateLocation","v5Compat","action","listener","getIndex","handlePop","nextIndex","delta","history","push","historyState","url","error","replace","createURL","base","href","fn","n","ResultType","matchRoutes","routes","locationArg","basename","matchRoutesImpl","allowPartial","stripBasename","branches","flattenRoutes","rankRouteBranches","matches","decoded","decodePath","matchRouteBranch","parentsMeta","parentPath","flattenRoute","route","relativePath","meta","joinPaths","routesMeta","computeScore","_route$path","exploded","explodeOptionalSegments","segments","first","rest","isOptional","required","restExploded","result","subpath","a","b","compareIndexes","paramRe","dynamicSegmentValue","indexRouteValue","emptySegmentValue","staticSegmentValue","splatPenalty","isSplat","s","initialScore","score","segment","branch","matchedParams","matchedPathname","end","remainingPathname","match","matchPath","normalizePathname","pattern","matcher","compiledParams","compilePath","pathnameBase","captureGroups","memo","paramName","splatValue","caseSensitive","params","regexpSource","_","v","startIndex","nextChar","ABSOLUTE_URL_REGEX$1","isAbsoluteUrl","resolvePath","fromPathname","toPathname","oldPathname","resolvePathname","normalizeSearch","normalizeHash","getInvalidPathError","char","field","dest","getPathContributingMatches","getResolveToMatches","v7_relativeSplatPath","pathMatches","idx","resolveTo","toArg","routePathnames","locationPathname","isPathRelative","isEmptyPath","from","routePathnameIndex","toSegments","hasExplicitTrailingSlash","hasCurrentTrailingSlash","paths","isRouteErrorResponse","validMutationMethodsArr","validRequestMethodsArr","DataRouterContext","React.createContext","DataRouterStateContext","NavigationContext","LocationContext","RouteContext","RouteErrorContext","useHref","_temp","relative","useInRouterContext","UNSAFE_invariant","navigator","React.useContext","useResolvedPath","joinedPathname","useLocation","useIsomorphicLayoutEffect","cb","React.useLayoutEffect","useNavigate","isDataRoute","useNavigateStable","useNavigateUnstable","dataRouterContext","future","routePathnamesJson","UNSAFE_getResolveToMatches","activeRef","React.useRef","React.useCallback","OutletContext","useOutlet","context","outlet","React.createElement","useParams","routeMatch","_temp2","React.useMemo","useRoutes","useRoutesImpl","dataRouterState","parentMatches","parentParams","parentPathnameBase","locationFromContext","_parsedLocationArg$pa","parsedLocationArg","parentSegments","renderedMatches","_renderMatches","DefaultErrorComponent","useRouteError","stack","preStyles","React.Fragment","defaultErrorElement","RenderErrorBoundary","React.Component","props","errorInfo","RenderedRoute","routeContext","children","_dataRouterState","_future","errors","errorIndex","m","renderFallback","fallbackIndex","loaderData","needsToRunLoader","shouldRenderHydrateFallback","errorElement","hydrateFallbackElement","warningOnce","getChildren","DataRouterHook","DataRouterStateHook","useDataRouterContext","hookName","ctx","useDataRouterState","useRouteContext","useCurrentRouteId","thisRoute","_state$errors","routeId","router","id","alreadyWarned$1","logV6DeprecationWarnings","renderFuture","routerFuture","Outlet","Route","_props","Router","_ref5","basenameProp","locationProp","navigationType","staticProp","navigationContext","locationContext","trailingPathname","Routes","_ref6","createRoutesFromChildren","React.Children","element","React.isValidElement","treePath","_objectWithoutPropertiesLoose","excluded","sourceKeys","isModifiedEvent","event","shouldProcessLinkClick","_excluded","REACT_ROUTER_VERSION","START_TRANSITION","startTransitionImpl","React","BrowserRouter","_ref4","historyRef","setStateImpl","React.useState","v7_startTransition","setState","newState","React.useEffect","UNSAFE_logV6DeprecationWarnings","isBrowser","ABSOLUTE_URL_REGEX","Link","React.forwardRef","_ref7","ref","onClick","reloadDocument","preventScrollReset","viewTransition","UNSAFE_NavigationContext","absoluteHref","isExternal","currentUrl","targetUrl","internalOnClick","useLinkClickHandler","handleClick","replaceProp","navigate","h","t","o","x","D","r","R","e","c","f","u","P","p","C","F","E","A","y","k","S","I","J","l","z","w","X","Y","W","L","ce","d","ue","re","ne","ie","ae","g","se","U","__assign","this","__createBinding","k2","__setModuleDefault","__importStar","mod","__spreadArray","pack","ar","utils","require$$0","swallowEvent","useOuterClick","dom","cbRef","handler","_a","_b","usePointerMovedSinceMount","moved","setMoved","randomId","createAction","noop","getScrollbarWidth","outer","inner","scrollbarWidth","useThrottledValue","ms","throttledValue","setThrottledValue","lastRan","timeout","shouldRejectKeystrokes","_c","_d","ignoreWhenFocused","inputs","el","activeElement","ignoreStrokes","SSR","isMac","isModKey","global","factory","exports","HAS_WEAKSET_SUPPORT","keys","sameValueZeroEqual","isPlainObject","isPromiseLike","isReactElement","getNewCacheFallback","values","getNewCache","canUseWeakMap","createCircularEqualCreator","isEqual","comparator","_comparator","cache","isCacheableA","isCacheableB","hasA","hasB","areArraysEqual","areMapsEqual","isValueEqual","matchedIndices_1","aValue","aKey","hasMatch_1","matchIndex_1","bValue","bKey","OWNER","hasOwnProperty","areObjectsEqual","keysA","reactElementA","reactElementB","areRegExpsEqual","areSetsEqual","matchedIndices_2","hasMatch_2","matchIndex_2","HAS_MAP_SUPPORT","HAS_SET_SUPPORT","createComparator","createIsEqual","aShape","bShape","deepEqual","shallowEqual","circularDeepEqual","circularShallowEqual","prefix","condition","tinyInvariant_cjs","Command_1","Command","command","_this","negate","__importDefault","ActionImpl_1","tiny_invariant_1","require$$1","utils_1","require$$2","extendKeywords","keywords","section","ActionImpl","perform","parentActionImpl","childActionImpl","parent","actionImpl","child","ActionInterface_1","ActionInterface","actions","HistoryImpl_1","HistoryItemImpl","item","HistoryImpl","historyItem","undoIndex","redoIndex","item_1","item_2","VisualState","useStore_1","fast_equals_1","require$$3","require$$4","types_1","require$$5","useStore","optionsRef","actionsInterface","currState","getState","publisher","Publisher","registerActions","inputRef","actionId","searchQuery","collector","onChange","subscriber","Subscriber","recollect","tinykeys","KEYBINDING_MODIFIER_KEYS","DEFAULT_TIMEOUT","DEFAULT_EVENT","MOD","getModifierState","parse","str","press","mods","keybindings","keyBindingMap","keyBindings","possibleMatches","timer","onKeyEvent","keyBinding","sequence","callback","prev","remainingExpectedPresses","currentExpectedPress","InternalEvents_1","tinykeys_1","useKBar_1","InternalEvents","useToggleHandler","useDocumentLock","useShortcuts","useFocusHandler","query","visualState","showing","shortcut","unsubscribe","vs","timeoutRef","runAnimateTimer","backToRoot","finalVs","mr","handled","wrap","open","actionsList","actionsWithShortcuts","_i","actionsList_1","shortcutsMap","_loop_1","_e","_f","actionsWithShortcuts_1","rFirstRender","isShowing","activeElementRef","currentActiveElement","input","KBarProvider","contextValue","KBarContextProvider_1","useKBar","subscribe","collected","collectorRef","onCollect","render","setRender","SCORE_CONTINUE_MATCH","SCORE_WORD_JUMP","SCORE_CHARACTER_JUMP","SCORE_TRANSPOSITION","SCORE_LONG_JUMP","PENALTY_SKIPPED","PENALTY_CASE_MISMATCH","PENALTY_NOT_COMPLETE","IS_GAP_REGEXP","COUNT_GAPS_REGEXP","commandScoreInner","string","abbreviation","lowerString","lowerAbbreviation","stringIndex","abbreviationIndex","abbreviationChar","highScore","transposedScore","wordBreaks","commandScore","commandScore_1","command_score_1","order","useMatches","rootActionId","rootResults","acc","getDeepResults","actionsClone","collectChildren","all","childsChildren","i_1","emptySearch","filtered","useInternalMatches","results","map","list","ordered","group","i_2","memoRootActionId","throttledFiltered","throttledSearch","__create","__defProp","__getOwnPropDesc","__getOwnPropNames","__getProtoOf","__hasOwnProp","__export","name","__copyProps","except","desc","__toESM","isNodeMode","__toCommonJS","index_exports","composeRefs","useComposedRefs","dist","setRef","refs","node","hasCleanup","cleanups","cleanup","Slot","Slottable","createSlot","createSlottable","import_react_compose_refs","import_jsx_runtime","REACT_LAZY_TYPE","use","isLazyComponent","ownerName","SlotClone","createSlotClone","Slot2","forwardedRef","slotProps","childrenArray","slottable","isSlottable","newElement","newChildren","childrenRef","getElementRef","props2","mergeProps","SLOTTABLE_IDENTIFIER","Slottable2","childProps","overrideProps","propName","slotPropValue","childPropValue","args","getter","mayWarn","Primitive","Root","dispatchDiscreteCustomEvent","ReactDOM","import_react_slot","NODES","primitive","Node","asChild","primitiveProps","Comp","useLayoutEffect2","Portal","import_react_dom","import_react_primitive","import_react_use_layout_effect","PORTAL_NAME","containerProp","portalProps","mounted","setMounted","container","KBarPortal_1","react_portal_1","KBarPortal","__rest","KBarPositioner","defaultStyle","getStyle","style","getListboxItemId","KBarSearch","currentRootActionId","activeIndex","defaultPlaceholder","placeholder","defaultText","parent_1","rectChanged","prop","observedNodes","rafId","run","changedStates","newRect","observeRect","wasEmpty","useRect","nodeRef","initialRect","_React$useState","setElement","_React$useReducer","rectReducer","rect","dispatch","initialRectSet","_rect","observer","defaultEstimateSize","defaultKeyExtractor","defaultMeasureSize","horizontal","defaultRangeExtractor","range","start","arr","useVirtual","_measurements","_ref$size","size","_ref$estimateSize","estimateSize","_ref$overscan","overscan","_ref$paddingStart","paddingStart","_ref$paddingEnd","paddingEnd","parentRef","scrollToFn","useObserver","onScrollElement","scrollOffsetFn","_ref$keyExtractor","keyExtractor","_ref$measureSize","measureSize","_ref$rangeExtractor","rangeExtractor","sizeKey","scrollKey","latestRef","scrollOffset","setScrollOffset","useMeasureParent","_useMeasureParent","outerSize","defaultScrollToFn","offset","resolvedScrollToFn","_React$useState2","measuredCache","setMeasuredCache","measure","pendingMeasuredCacheIndexesRef","measurements","min","measuredSize","_start","_size","_end","totalSize","scrollOffsetFnRef","onScroll","_calculateRange","calculateRange","indexes","measureSizeRef","virtualItems","_loop","len","measurement","_scrollOffset","old","_extends2","mountedRef","scrollToOffset","toOffset","_ref2","_ref2$align","align","_latestRef$current","tryScrollToIndex","_ref3","_ref3$align","_latestRef$current2","scrollToIndex","_len","_key","findNearestBinarySearch","low","high","getCurrentValue","middle","currentValue","getOffset","KBarResults_1","react_virtual_1","KBarSearch_1","START_INDEX","KBarResults","itemsRef","rowVirtualizer","execute","pointerMoved","virtualRow","handlers","active","useRegisterActions_1","useRegisterActions","dependencies","actionsCache","unregister","KBarAnimator_1","appearanceAnimationKeyframes","bumpAnimationKeyframes","KBarAnimator","className","outerRef","innerRef","enterMs","exitMs","duration","previousHeight","outer_1","inner_1","ro_1","entries","entries_1","entry","cr","firstRender","__exportStar","require$$6","require$$7","require$$8","require$$9","require$$10","require$$11","nt","st","pt","dt","gt","mt","H","rt","K","Pt","wt","Tt","kt","at","V","lt","$","it","yt","ct","B","j","ot","G","q","bt","N","M","T","Q","Z","Dt","tt","et","ft","xt","ut","Kt","ht","Bt","Rt","At","O","Ct","It","St","ge","vt","listCacheClear","_listCacheClear","eq","other","eq_1","assocIndexOf","array","length","_assocIndexOf","arrayProto","splice","listCacheDelete","data","lastIndex","_listCacheDelete","listCacheGet","_listCacheGet","listCacheHas","_listCacheHas","listCacheSet","_listCacheSet","ListCache","_ListCache","stackClear","_stackClear","stackDelete","_stackDelete","stackGet","_stackGet","stackHas","_stackHas","freeGlobal","_freeGlobal","freeSelf","root","_root","Symbol","_Symbol","objectProto","nativeObjectToString","symToStringTag","getRawTag","isOwn","tag","unmasked","_getRawTag","objectToString","_objectToString","nullTag","undefinedTag","baseGetTag","_baseGetTag","isObject","type","isObject_1","asyncTag","funcTag","genTag","proxyTag","isFunction","isFunction_1","coreJsData","_coreJsData","maskSrcKey","uid","isMasked","func","_isMasked","funcProto","funcToString","toSource","_toSource","reRegExpChar","reIsHostCtor","reIsNative","baseIsNative","_baseIsNative","getValue","object","_getValue","getNative","_getNative","Map","_Map","nativeCreate","_nativeCreate","hashClear","_hashClear","hashDelete","_hashDelete","HASH_UNDEFINED","hashGet","_hashGet","hashHas","_hashHas","hashSet","_hashSet","Hash","_Hash","mapCacheClear","_mapCacheClear","isKeyable","_isKeyable","getMapData","_getMapData","mapCacheDelete","_mapCacheDelete","mapCacheGet","_mapCacheGet","mapCacheHas","_mapCacheHas","mapCacheSet","_mapCacheSet","MapCache","_MapCache","LARGE_ARRAY_SIZE","stackSet","pairs","_stackSet","Stack","_Stack","setCacheAdd","_setCacheAdd","setCacheHas","_setCacheHas","SetCache","_SetCache","arraySome","predicate","_arraySome","cacheHas","_cacheHas","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","equalArrays","bitmask","customizer","equalFunc","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","_equalArrays","Uint8Array","_Uint8Array","mapToArray","_mapToArray","setToArray","set","_setToArray","boolTag","dateTag","errorTag","mapTag","numberTag","regexpTag","setTag","stringTag","symbolTag","arrayBufferTag","dataViewTag","symbolProto","symbolValueOf","equalByTag","convert","stacked","_equalByTag","arrayPush","_arrayPush","isArray","isArray_1","baseGetAllKeys","keysFunc","symbolsFunc","_baseGetAllKeys","arrayFilter","resIndex","_arrayFilter","stubArray","stubArray_1","propertyIsEnumerable","nativeGetSymbols","getSymbols","symbol","_getSymbols","baseTimes","iteratee","_baseTimes","isObjectLike","isObjectLike_1","argsTag","baseIsArguments","_baseIsArguments","isArguments","isArguments_1","stubFalse","stubFalse_1","freeExports","freeModule","module","moduleExports","Buffer","nativeIsBuffer","isBuffer","MAX_SAFE_INTEGER","reIsUint","isIndex","_isIndex","isLength","isLength_1","arrayTag","objectTag","weakMapTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","baseIsTypedArray","_baseIsTypedArray","baseUnary","_baseUnary","freeProcess","nodeUtil","types","nodeIsTypedArray","isTypedArray","isTypedArray_1","arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","_arrayLikeKeys","isPrototype","Ctor","proto","_isPrototype","overArg","transform","arg","_overArg","nativeKeys","_nativeKeys","baseKeys","_baseKeys","isArrayLike","isArrayLike_1","keys_1","getAllKeys","_getAllKeys","equalObjects","objProps","objLength","othProps","objStacked","skipCtor","objValue","objCtor","othCtor","_equalObjects","DataView","_DataView","Promise","_Promise","Set","_Set","WeakMap","_WeakMap","promiseTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ctorString","_getTag","baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","_baseIsEqualDeep","baseIsEqual","_baseIsEqual","isEqual_1","functionalUpdate","updater","makeStateUpdater","instance","isNumberArray","val","flattenBy","flat","recurse","subArr","getDeps","opts","deps","depArgs","depTime","newDeps","dep","resultTime","depEndTime","resultEndTime","resultFpsPercentage","pad","num","getMemoOptions","tableOptions","debugLevel","_tableOptions$debugAl","createCell","table","row","column","columnId","getRenderValue","_cell$getValue","cell","feature","createColumn","columnDef","depth","_resolvedColumnDef$id","resolvedColumnDef","accessorKey","accessorFn","originalRow","_result","_column$columns","orderColumns","_column$columns2","leafColumns","debug","createHeader","_options$id","header","leafHeaders","recurseHeader","Headers","allColumns","left","right","_left$map$filter","_right$map$filter","leftColumns","rightColumns","centerColumns","buildHeaderGroups","_left$map$filter2","orderedLeafColumns","_right$map$filter2","headerGroups","headerGroup","flatHeaders","_header$subHeaders","_header$subHeaders2","_header$subHeaders3","center","_left$0$headers","_left$","_center$0$headers","_center$","_right$0$headers","_right$","columnsToGroup","headerFamily","_headerGroups$0$heade","_headerGroups$","maxDepth","findMaxDepth","columns","createHeaderGroup","headersToGroup","pendingParentHeaders","headerToGroup","latestPendingParentHeader","isLeafHeader","isPlaceholder","bottomHeaders","recurseHeadersForSpans","headers","colSpan","rowSpan","childRowSpans","childColSpan","childRowSpan","minChildRowSpan","createRow","original","rowIndex","subRows","parentId","_row$getValue","parentRows","currentRow","parentRow","allCells","ColumnFaceting","includesString","filterValue","_filterValue$toString","testFalsey","includesStringSensitive","_row$getValue2","equalsString","_row$getValue3","arrIncludes","_row$getValue4","arrIncludesAll","_row$getValue5","arrIncludesSome","_row$getValue6","equals","weakEquals","inNumberRange","max","rowValue","unsafeMin","unsafeMax","parsedMin","parsedMax","temp","filterFns","ColumnFiltering","firstRow","_table$options$filter","_table$options$filter2","_column$columnDef$ena","_table$options$enable","_table$options$enable2","_table$getState$colum","_table$getState$colum2","_table$getState$colum3","filterFn","previousFilter","newFilter","shouldAutoRemoveFilter","_old$filter","newFilterObj","_old$map","_table","updateFn","_functionalUpdate","filter","defaultState","_table$initialState$c","_table$initialState","sum","_leafRows","childRows","next","nextValue","extent","mean","leafRows","count","median","mid","nums","unique","uniqueCount","_columnId","aggregationFns","ColumnGrouping","_toString","_props$getValue","_table$getState$group","_table$getState$group2","canGroup","_table$options$aggreg","_table$options$aggreg2","_table$initialState$g","_row$subRows","grouping","groupedColumnMode","nonGroupingColumns","col","ColumnOrdering","position","_getVisibleLeafColumns","_columns$","_columns","columnOrder","orderedColumns","columnOrderCopy","columnsCopy","targetColumnId","foundIndex","getDefaultColumnPinningState","ColumnPinning","columnIds","_old$left3","_old$right3","_old$left","_old$right","_old$left2","_old$right2","_d$columnDef$enablePi","leafColumnIds","isLeft","isRight","leftAndRight","_pinningState$positio","pinningState","_pinningState$left","_pinningState$right","safelyAccessDocument","_document","defaultColumnSizing","getDefaultColumnSizingInfoState","ColumnSizing","_column$columnDef$min","_column$columnDef$max","columnSize","_header$column$getSiz","prevSiblingHeader","_contextDocument","canResize","isTouchStartEvent","startSize","columnSizingStart","clientX","newColumnSizing","updateOffset","eventType","clientXPos","_old$startOffset","_old$startSize","deltaDirection","deltaOffset","deltaPercentage","headerSize","onMove","onEnd","contextDocument","mouseEvents","touchEvents","_e$touches$","passiveIfSupported","passiveEventSupported","_table$initialState$c2","_table$getHeaderGroup","_table$getHeaderGroup2","_table$getLeftHeaderG","_table$getLeftHeaderG2","_table$getCenterHeade","_table$getCenterHeade2","_table$getRightHeader","_table$getRightHeader2","passiveSupported","supported","ColumnVisibility","childColumns","cells","makeVisibleColumnsMethod","getColumns","_value","obj","_target","GlobalFaceting","GlobalFiltering","_table$getCoreRowMode","_table$options$getCol","globalFilterFn","RowExpanding","registered","queued","_table$options$autoRe","expanded","_table$initialState$e","splitId","_expanded","exists","oldExpanded","rowId","_table$options$getIsR","_table$options$getRow","isFullyExpanded","canExpand","defaultPageIndex","defaultPageSize","getDefaultPaginationState","RowPagination","safeUpdater","_table$initialState$p","pageIndex","maxPageIndex","_table$initialState$p2","_table$initialState$p3","_table$initialState2","pageSize","topRowIndex","_table$options$pageCo","newPageCount","pageCount","pageOptions","_table$options$pageCo2","_table$options$rowCou","getDefaultRowPinningState","RowPinning","includeLeafRows","includeParentRows","leafRowIds","parentRowIds","rowIds","_old$top3","_old$bottom3","_old$top","_old$bottom","_old$top2","_old$bottom2","enableRowPinning","enablePinning","top","bottom","isTop","isBottom","_visiblePinnedRowIds$","visiblePinnedRowIds","_table$initialState$r","_pinningState$top","_pinningState$bottom","visibleRows","pinnedRowIds","_table$options$keepPi","allRows","topPinnedRowIds","bottomPinnedRowIds","topAndBottom","RowSelection","rowSelection","preGroupedFlatRows","resolvedValue","mutateRowIsSelected","rowModel","selectRowsFn","isAllRowsSelected","paginationFlatRows","isAllPageRowsSelected","_table$getState$rowSe","totalSelected","isSelected","_opts$selectChildren","selectedRowIds","isRowSelected","isSubRowSelected","_table$options$enable3","canSelect","includeChildren","newSelectedFlatRows","newSelectedRowsById","recurseRows","rows","_row$subRows2","selection","_selection$row$id","_row$subRows3","allChildrenSelected","someSelected","subRow","subRowChildrenSelected","reSplitAlphaNumeric","alphanumeric","rowA","rowB","compareAlphanumeric","toString","alphanumericCaseSensitive","text","compareBasic","textCaseSensitive","datetime","basic","aStr","bStr","aa","bb","an","bn","combo","sortingFns","RowSorting","firstRows","isString","_table$options$sortin","_table$options$sortin2","multi","nextSortingOrder","hasManualValue","existingSorting","existingIndex","newSorting","sortAction","nextDesc","_table$options$maxMul","_column$columnDef$sor","firstSortDirection","isSorted","_column$columnDef$ena2","_table$getState$sorti","columnSort","_table$getState$sorti2","_table$getState$sorti3","canSort","_table$initialState$s","builtInFeatures","createTable","_options$_features","_options$initialState","_features","defaultOptions","mergeOptions","initialState","_feature$getInitialSt","queuedTimeout","coreInstance","newOptions","searchAll","defaultColumn","_defaultColumn","_props$renderValue$to","_props$renderValue","columnDefs","recurseColumns","groupingColumnDef","flatColumns","getCoreRowModel","accessRows","originalRows","_row$originalSubRows","filterRows","filterRowImpl","filterRowModelFromLeafs","filterRowModelFromRoot","rowsToFilter","filterRow","_table$options$maxLea","newFilteredFlatRows","newFilteredRowsById","recurseFilterRows","newRow","_table$options$maxLea2","getFilteredRowModel","columnFilters","globalFilter","resolvedColumnFilters","resolvedGlobalFilters","_filterFn$resolveFilt","filterableIds","globallyFilterableColumns","_globalFilterFn$resol","currentColumnFilter","currentGlobalFilter","filterMeta","filterRowsImpl","getSortedRowModel","sorting","sortingState","sortedFlatRows","availableSorting","sort","_table$getColumn","columnInfoById","sortEntry","sortData","sortedData","_sortEntry$desc","columnInfo","sortUndefined","isDesc","sortInt","aUndefined","bUndefined","flexRender","isReactComponent","component","isClassComponent","isExoticComponent","useReactTable","resolvedOptions","tableRef"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125]}